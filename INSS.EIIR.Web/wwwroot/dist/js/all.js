/*! For license information please see all.js.LICENSE.txt */
(()=>{var t={"./js/all.js":function(t,e,n){var i,o,s,r;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}r=function(t){"use strict";function e(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}function i(t){this.$module=t,this.moduleId=t.getAttribute("id"),this.$sections=t.querySelectorAll(".govuk-accordion__section"),this.$showAllButton="",this.browserSupportsSessionStorage=o.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus"}(function(t){var e,n,i,o;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(t){return!1}}()||(e=Object.defineProperty,n=Object.prototype.hasOwnProperty("__defineGetter__"),i="Getters & setters cannot be defined on this javascript engine",o="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(t,s,r){if(e&&(t===window||t===document||t===Element.prototype||t instanceof Element))return e(t,s,r);if(null===t||!(t instanceof Object||"object"===a(t)))throw new TypeError("Object.defineProperty called on non-object");if(!(r instanceof Object))throw new TypeError("Property description must be an object");var c=String(s),u="value"in r||"writable"in r,l="get"in r&&a(r.get),d="set"in r&&a(r.set);if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!n)throw new TypeError(i);if(u)throw new TypeError(o);Object.__defineGetter__.call(t,c,r.get)}else t[c]=r.value;if(d){if("function"!==d)throw new TypeError("Setter must be a function");if(!n)throw new TypeError(i);if(u)throw new TypeError(o);Object.__defineSetter__.call(t,c,r.set)}return"value"in r&&(t[c]=r.value),t})}).call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var e,n=Array,i=Object,o=i.prototype,s=n.prototype,r=function(){},c=o.toString,u="function"==typeof Symbol&&"symbol"===a(Symbol.toStringTag),l=Function.prototype.toString,d=function(t){try{return l.call(t),!0}catch(t){return!1}},h="[object Function]",p="[object GeneratorFunction]";e=function(t){if("function"!=typeof t)return!1;if(u)return d(t);var e=c.call(t);return e===h||e===p};var f=s.slice,m=s.concat,v=s.push,b=Math.max,g=this;if(!e(g))throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,w=f.call(arguments,1),E=function(){if(this instanceof y){var e=g.apply(this,m.call(w,f.call(arguments)));return i(e)===e?e:this}return g.apply(t,m.call(w,f.call(arguments)))},k=b(0,g.length-w.length),C=[],A=0;A<k;A++)v.call(C,"$"+A);return y=Function("binder","return function ("+C.join(",")+"){ return binder.apply(this, arguments); }")(E),g.prototype&&(r.prototype=g.prototype,y.prototype=new r,r.prototype=null),y}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){var e,n,i;"DOMTokenList"in this&&(!("classList"in(e=document.createElement("x")))||!e.classList.toggle("x",!1)&&!e.className)||("DOMTokenList"in(n=this)&&n.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(n.DOMTokenList=function(){var e=!0,n=function(t,n,i,o){Object.defineProperty?Object.defineProperty(t,n,{configurable:!1===e||!!o,get:i}):t.__defineGetter__(n,i)};try{n({},"support")}catch(t){e=!1}return function(e,i){var o=this,s=[],r={},c=0,u=0,l=function(t){n(o,t,(function(){return h(),s[t]}),!1)},d=function(){if(c>=u)for(;u<c;++u)l(u)},h=function(){var t,n,o=arguments,u=/\s+/;if(o.length)for(n=0;n<o.length;++n)if(u.test(o[n]))throw(t=new SyntaxError('String "'+o[n]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(s="object"===a(e[i])?(""+e[i].baseVal).replace(/^\s+|\s+$/g,"").split(u):(""+e[i]).replace(/^\s+|\s+$/g,"").split(u))[0]&&(s=[]),r={},n=0;n<s.length;++n)r[s[n]]=!0;c=s.length,d()};return h(),n(o,"length",(function(){return h(),c})),o.toLocaleString=o.toString=function(){return h(),s.join(" ")},o.item=function(t){return h(),s[t]},o.contains=function(t){return h(),!!r[t]},o.add=function(){h.apply(o,t=arguments);for(var t,n,u=0,l=t.length;u<l;++u)n=t[u],r[n]||(s.push(n),r[n]=!0);c!==s.length&&(c=s.length>>>0,"object"===a(e[i])?e[i].baseVal=s.join(" "):e[i]=s.join(" "),d())},o.remove=function(){h.apply(o,t=arguments);for(var t,n={},u=0,l=[];u<t.length;++u)n[t[u]]=!0,delete r[t[u]];for(u=0;u<s.length;++u)n[s[u]]||l.push(s[u]);s=l,c=l.length>>>0,"object"===a(e[i])?e[i].baseVal=s.join(" "):e[i]=s.join(" "),d()},o.toggle=function(e,n){return h.apply(o,[e]),t!==n?n?(o.add(e),!0):(o.remove(e),!1):r[e]?(o.remove(e),!1):(o.add(e),!0)},o}}()),"classList"in(i=document.createElement("span"))&&(i.classList.toggle("x",!1),i.classList.contains("x")&&(i.classList.constructor.prototype.toggle=function(e){var n=arguments[1];if(n===t){var i=!this.contains(e);return this[i?"add":"remove"](e),i}return this[(n=!!n)?"add":"remove"](e),n})),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a","b"),!t.classList.contains("b"))){var e=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,n=arguments.length,i=0;i<n;i++)e.call(this,t[i])}}}(),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a"),t.classList.add("b"),t.classList.remove("a","b"),t.classList.contains("b"))){var e=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,n=arguments.length,i=0;i<n;i++)e.call(this,t[i])}}}())}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var t,e=document.appendChild(document.createElement("body")),n=e.appendChild(document.createElement("iframe")).contentWindow.document,i=Element.prototype=n.appendChild(n.createElement("*")),o={},s=function t(e,n){var i,s,r,a=e.childNodes||[],c=-1;if(1===e.nodeType&&e.constructor!==Element)for(i in e.constructor=Element,o)s=o[i],e[i]=s;for(;r=n&&a[++c];)t(r,n);return e},r=document.getElementsByTagName("*"),a=document.createElement,c=100;i.attachEvent("onpropertychange",(function(t){for(var e,n=t.propertyName,s=!o.hasOwnProperty(n),a=i[n],c=o[n],u=-1;e=r[++u];)1===e.nodeType&&(s||e[n]===c)&&(e[n]=a);o[n]=a})),i.constructor=Element,i.hasAttribute||(i.hasAttribute=function(t){return null!==this.getAttribute(t)}),u()||(document.onreadystatechange=u,t=setInterval(u,25)),document.createElement=function(t){var e=a(String(t).toLowerCase());return s(e)},document.removeChild(e)}else window.HTMLElement=window.Element;function u(){return c--||clearTimeout(t),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState)||(s(document,!0),t&&document.body.prototype&&clearTimeout(t),!document.body.prototype))}}()}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){var e;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((e=document.createElement("span")).classList.add("a","b"),e.classList.contains("b"))||function(t){var e=!0,n=function(t,n,i,o){Object.defineProperty?Object.defineProperty(t,n,{configurable:!1===e||!!o,get:i}):t.__defineGetter__(n,i)};try{n({},"support")}catch(t){e=!1}var i=function t(i,o,s){n(i.prototype,o,(function(){var i,r=this,a="__defineGetter__DEFINE_PROPERTY"+o;if(r[a])return i;if(r[a]=!0,!1===e){for(var c,u=t.mirror||document.createElement("div"),l=u.childNodes,d=l.length,h=0;h<d;++h)if(l[h]._R===r){c=l[h];break}c||(c=u.appendChild(document.createElement("div"))),i=DOMTokenList.call(c,r,s)}else i=new DOMTokenList(r,s);return n(r,o,(function(){return i})),delete r[a],i}),!0)};i(t.Element,"classList","className"),i(t.HTMLElement,"classList","className"),i(t.HTMLLinkElement,"relList","rel"),i(t.HTMLAnchorElement,"relList","rel"),i(t.HTMLAreaElement,"relList","rel")}(this)}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),i.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateShowAllButton(t)}},i.prototype.initControls=function(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false");var t=document.createElement("span");t.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(t);var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$showAllButton),this.$module.insertBefore(e,this.$module.firstChild);var n=document.createElement("span");n.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(n),this.$showAllButton.addEventListener("click",this.onShowOrHideAllToggle.bind(this))},i.prototype.initSectionHeaders=function(){e(this.$sections,function(t,e){var n=t.querySelector("."+this.sectionHeaderClass);this.constructHeaderMarkup(n,e),this.setExpanded(this.isExpanded(t),t),n.addEventListener("click",this.onSectionToggle.bind(this,t)),this.setInitialState(t)}.bind(this))},i.prototype.constructHeaderMarkup=function(t,e){var n=t.querySelector("."+this.sectionButtonClass),i=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var r=0;r<n.attributes.length;r++){var a=n.attributes.item(r);"id"!==a.nodeName&&s.setAttribute(a.nodeName,a.nodeValue)}var c=document.createElement("span");c.classList.add(this.sectionHeadingTextClass),c.id=n.id;var u=document.createElement("span");u.classList.add(this.sectionHeadingTextFocusClass),c.appendChild(u),u.innerHTML=n.innerHTML;var l=document.createElement("span");l.classList.add(this.sectionShowHideToggleClass),l.setAttribute("data-nosnippet","");var d=document.createElement("span");d.classList.add(this.sectionShowHideToggleFocusClass),l.appendChild(d);var h=document.createElement("span"),p=document.createElement("span");if(p.classList.add(this.upChevronIconClass),d.appendChild(p),h.classList.add(this.sectionShowHideTextClass),d.appendChild(h),s.appendChild(c),s.appendChild(this.getButtonPunctuationEl()),null!=o){var f=document.createElement("span"),m=document.createElement("span");m.classList.add(this.sectionSummaryFocusClass),f.appendChild(m);for(var v=0,b=o.attributes.length;v<b;++v){var g=o.attributes.item(v).nodeName,y=o.attributes.item(v).nodeValue;f.setAttribute(g,y)}m.innerHTML=o.innerHTML,o.parentNode.replaceChild(f,o),s.appendChild(f),s.appendChild(this.getButtonPunctuationEl())}s.appendChild(l),i.removeChild(n),i.appendChild(s)},i.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t),this.storeState(t)},i.prototype.onShowOrHideAllToggle=function(){var t=this,n=this.$sections,i=!this.checkIfAllSectionsOpen();e(n,(function(e){t.setExpanded(i,e),t.storeState(e)})),t.updateShowAllButton(i)},i.prototype.setExpanded=function(t,e){var n=e.querySelector("."+this.upChevronIconClass),i=e.querySelector("."+this.sectionShowHideTextClass),o=e.querySelector("."+this.sectionButtonClass),s=t?"Hide":"Show",r=document.createElement("span");r.classList.add("govuk-visually-hidden"),r.innerHTML=" this section",i.innerHTML=s,i.appendChild(r),o.setAttribute("aria-expanded",t),t?(e.classList.add(this.sectionExpandedClass),n.classList.remove(this.downChevronIconClass)):(e.classList.remove(this.sectionExpandedClass),n.classList.add(this.downChevronIconClass));var a=this.checkIfAllSectionsOpen();this.updateShowAllButton(a)},i.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)},i.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},i.prototype.updateShowAllButton=function(t){var e=this.$showAllButton.querySelector("."+this.upChevronIconClass),n=this.$showAllButton.querySelector("."+this.showAllTextClass),i=t?"Hide all sections":"Show all sections";this.$showAllButton.setAttribute("aria-expanded",t),n.innerHTML=i,t?e.classList.remove(this.downChevronIconClass):e.classList.add(this.downChevronIconClass)};var o={checkForSessionStorage:function(){var t,e="this is the test string";try{return window.sessionStorage.setItem(e,e),t=window.sessionStorage.getItem(e)===e.toString(),window.sessionStorage.removeItem(e),t}catch(t){return!1}}};function s(t){this.$module=t,this.debounceFormSubmitTimer=null}function r(t){this.$module=t}function c(t){this.$module=t,this.$textarea=t.querySelector(".govuk-js-character-count"),this.$visibleCountMessage=null,this.$screenReaderCountMessage=null,this.lastInputTimestamp=null}function u(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="checkbox"]')}function l(t){this.$module=t}function d(t){this.$module=t}function h(t){this.$module=t,this.$menuButton=t&&t.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls")),this.menuIsOpen=!1,this.mql=null}function p(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="radio"]')}function f(t){this.$module=t,this.$linkedElement=null,this.linkedElementListener=!1}function m(t){this.$module=t,this.$tabs=t.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}i.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),i=e.getAttribute("aria-expanded");n&&i&&window.sessionStorage.setItem(n,i)}}},i.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),i=n?window.sessionStorage.getItem(n):null;null!==i&&this.setExpanded("true"===i,t)}}},i.prototype.getButtonPunctuationEl=function(){var t=document.createElement("span");return t.classList.add("govuk-visually-hidden","govuk-accordion__section-heading-divider"),t.innerHTML=", ",t},function(t){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(t){t.constructor?t.Window=t.constructor:(t.Window=t.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){(function(t){if(!("Event"in t))return!1;if("function"==typeof t.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}})(this)||function(){var e={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,n){if(!e)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var o=!(!n||n.bubbles===t)&&n.bubbles,s=!(!n||n.cancelable===t)&&n.cancelable;return i.initEvent(e,o,s),i}return(i=document.createEventObject()).type=e,i.bubbles=!(!n||n.bubbles===t)&&n.bubbles,i.cancelable=!(!n||n.cancelable===t)&&n.cancelable,i},n&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:n}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var t=this,n=arguments[0],o=arguments[1];if(t===window&&n in e)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");t._events||(t._events={}),t._events[n]||(t._events[n]=function(e){var n,o=t._events[e.type].list,s=o.slice(),r=-1,a=s.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=t,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||t,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++r<a&&!e.cancelImmediate;)r in s&&-1!==i(o,n=s[r])&&"function"==typeof n&&n.call(t,e)},t._events[n].list=[],t.attachEvent&&t.attachEvent("on"+n,t._events[n])),t._events[n].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var t,e=this,n=arguments[0],o=arguments[1];e._events&&e._events[n]&&e._events[n].list&&-1!==(t=i(e._events[n].list,o))&&(e._events[n].list.splice(t,1),e._events[n].list.length||(e.detachEvent&&e.detachEvent("on"+n,e._events[n]),delete e._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var e=this,n=t.type;try{if(!t.bubbles){t.cancelBubble=!0;var i=function t(i){i.cancelBubble=!0,(e||window).detachEvent("on"+n,t)};this.attachEvent("on"+n,i)}this.fireEvent("on"+n,t)}catch(i){t.target=e;do{t.currentTarget=e,"_events"in e&&"function"==typeof e._events[n]&&e._events[n].call(e,t),"function"==typeof e["on"+n]&&e["on"+n].call(e,t),e=9===e.nodeType?e.parentWindow:e.parentNode}while(e&&!t.cancelBubble)}return!0},document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})))}function i(t,e){for(var n=-1,i=t.length;++n<i;)if(n in t&&t[n]===e)return n;return-1}}()}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),s.prototype.handleKeyDown=function(t){var e=t.target;"button"===e.getAttribute("role")&&32===t.keyCode&&(t.preventDefault(),e.click())},s.prototype.debounce=function(t){if("true"===t.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(t.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},s.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},r.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},r.prototype.polyfillDetails=function(){var t,e=this.$module,n=this.$summary=e.getElementsByTagName("summary").item(0),i=this.$content=e.getElementsByTagName("div").item(0);n&&i&&(i.id||(i.id="details-content-"+(t=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})))),e.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",i.id),n.tabIndex=0,this.$module.hasAttribute("open")?n.setAttribute("aria-expanded","true"):(n.setAttribute("aria-expanded","false"),i.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this)))},r.prototype.polyfillSetAttributes=function(){return this.$module.hasAttribute("open")?(this.$module.removeAttribute("open"),this.$summary.setAttribute("aria-expanded","false"),this.$content.style.display="none"):(this.$module.setAttribute("open","open"),this.$summary.setAttribute("aria-expanded","true"),this.$content.style.display=""),!0},r.prototype.polyfillHandleInputs=function(t,e){t.addEventListener("keypress",(function(t){var n=t.target;13!==t.keyCode&&32!==t.keyCode||"summary"===n.nodeName.toLowerCase()&&(t.preventDefault(),n.click?n.click():e(t))})),t.addEventListener("keyup",(function(t){var e=t.target;32===t.keyCode&&"summary"===e.nodeName.toLowerCase()&&t.preventDefault()})),t.addEventListener("click",e)},c.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},c.prototype.init=function(){if(this.$textarea){var t=this.$module,e=this.$textarea,n=document.getElementById(e.id+"-info");e.insertAdjacentElement("afterend",n);var i=document.createElement("div");i.className="govuk-character-count__sr-status govuk-visually-hidden",i.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=i,n.insertAdjacentElement("afterend",i);var o=document.createElement("div");o.className=n.className,o.classList.add("govuk-character-count__status"),o.setAttribute("aria-hidden","true"),this.$visibleCountMessage=o,n.insertAdjacentElement("afterend",o),n.classList.add("govuk-visually-hidden"),this.options=this.getDataset(t);var s=this.defaults.characterCountAttribute;this.options.maxwords&&(s=this.defaults.wordCountAttribute),this.maxLength=t.getAttribute(s),this.maxLength&&(e.removeAttribute("maxlength"),this.bindChangeEvents(),"onpageshow"in window?window.addEventListener("pageshow",this.updateCountMessage.bind(this)):window.addEventListener("DOMContentLoaded",this.updateCountMessage.bind(this)),this.updateCountMessage())}},c.prototype.getDataset=function(t){var e={},n=t.attributes;if(n)for(var i=0;i<n.length;i++){var o=n[i],s=o.name.match(/^data-(.+)/);s&&(e[s[1]]=o.value)}return e},c.prototype.count=function(t){return this.options.maxwords?(t.match(/\S+/g)||[]).length:t.length},c.prototype.bindChangeEvents=function(){var t=this.$textarea;t.addEventListener("keyup",this.handleKeyUp.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this))},c.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},c.prototype.updateCountMessage=function(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()},c.prototype.updateVisibleCountMessage=function(){var t=this.$textarea,e=this.$visibleCountMessage,n=this.maxLength-this.count(t.value);this.isOverThreshold()?e.classList.remove("govuk-character-count__message--disabled"):e.classList.add("govuk-character-count__message--disabled"),n<0?(t.classList.add("govuk-textarea--error"),e.classList.remove("govuk-hint"),e.classList.add("govuk-error-message")):(t.classList.remove("govuk-textarea--error"),e.classList.remove("govuk-error-message"),e.classList.add("govuk-hint")),e.innerHTML=this.formattedUpdateMessage()},c.prototype.updateScreenReaderCountMessage=function(){var t=this.$screenReaderCountMessage;this.isOverThreshold()?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",!0),t.innerHTML=this.formattedUpdateMessage()},c.prototype.formattedUpdateMessage=function(){var t,e=this.$textarea,n=this.options,i=this.maxLength-this.count(e.value),o="character";return n.maxwords&&(o="word"),o+=-1===i||1===i?"":"s",t=i<0?"too many":"remaining","You have "+Math.abs(i)+" "+o+" "+t},c.prototype.isOverThreshold=function(){var t=this.$textarea,e=this.options,n=this.count(t.value);return this.maxLength*(e.threshold?e.threshold:0)/100<=n},c.prototype.handleKeyUp=function(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()},c.prototype.handleFocus=function(){this.valueChecker=setInterval(function(){(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.checkIfValueChanged()}.bind(this),1e3)},c.prototype.handleBlur=function(){clearInterval(this.valueChecker)},u.prototype.init=function(){var t=this.$module;e(this.$inputs,(function(t){var e=t.getAttribute("data-aria-controls");e&&document.getElementById(e)&&(t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},u.prototype.syncAllConditionalReveals=function(){e(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},u.prototype.syncConditionalRevealWithInputState=function(t){var e=document.getElementById(t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-checkboxes__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n),e.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}},u.prototype.unCheckAllInputsExcept=function(t){e(document.querySelectorAll('input[type="checkbox"][name="'+t.name+'"]'),function(e){t.form===e.form&&e!==t&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},u.prototype.unCheckExclusiveInputs=function(t){e(document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+t.name+'"]'),function(e){t.form===e.form&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},u.prototype.handleClick=function(t){var e=t.target;"checkbox"===e.type&&(e.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(e),e.checked&&("exclusive"===e.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(e):this.unCheckExclusiveInputs(e)))},function(t){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(t){for(var e=this,n=(e.document||e.ownerDocument).querySelectorAll(t),i=0;n[i]&&n[i]!==e;)++i;return!!n[i]})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e="SVGElement"in window&&e instanceof SVGElement?e.parentNode:e.parentElement}return null})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),l.prototype.init=function(){var t=this.$module;t&&(this.setFocus(),t.addEventListener("click",this.handleClick.bind(this)))},l.prototype.setFocus=function(){var t=this.$module;"true"!==t.getAttribute("data-disable-auto-focus")&&(t.setAttribute("tabindex","-1"),t.addEventListener("blur",(function(){t.removeAttribute("tabindex")})),t.focus())},l.prototype.handleClick=function(t){var e=t.target;this.focusTarget(e)&&t.preventDefault()},l.prototype.focusTarget=function(t){if("A"!==t.tagName||!1===t.href)return!1;var e=this.getFragmentFromUrl(t.href),n=document.getElementById(e);if(!n)return!1;var i=this.getAssociatedLegendOrLabel(n);return!!i&&(i.scrollIntoView(),n.focus({preventScroll:!0}),!0)},l.prototype.getFragmentFromUrl=function(t){return-1!==t.indexOf("#")&&t.split("#").pop()},l.prototype.getAssociatedLegendOrLabel=function(t){var e=t.closest("fieldset");if(e){var n=e.getElementsByTagName("legend");if(n.length){var i=n[0];if("checkbox"===t.type||"radio"===t.type)return i;var o=i.getBoundingClientRect().top,s=t.getBoundingClientRect();if(s.height&&window.innerHeight&&s.top+s.height-o<window.innerHeight/2)return i}}return document.querySelector("label[for='"+t.getAttribute("id")+"']")||t.closest("label")},d.prototype.init=function(){this.$module&&this.setFocus()},d.prototype.setFocus=function(){var t=this.$module;"true"!==t.getAttribute("data-disable-auto-focus")&&"alert"===t.getAttribute("role")&&(t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",(function(){t.removeAttribute("tabindex")}))),t.focus())},h.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&("matchMedia"in window?(this.mql=window.matchMedia("(min-width: 48.0625em)"),"addEventListener"in this.mql?this.mql.addEventListener("change",this.syncState.bind(this)):this.mql.addListener(this.syncState.bind(this)),this.syncState(),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))):this.$menuButton.setAttribute("hidden",""))},h.prototype.syncState=function(){this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden",""))},h.prototype.handleMenuButtonClick=function(){this.menuIsOpen=!this.menuIsOpen,this.syncState()},p.prototype.init=function(){var t=this.$module;e(this.$inputs,(function(t){var e=t.getAttribute("data-aria-controls");e&&document.getElementById(e)&&(t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},p.prototype.syncAllConditionalReveals=function(){e(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},p.prototype.syncConditionalRevealWithInputState=function(t){var e=document.getElementById(t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-radios__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n),e.classList.toggle("govuk-radios__conditional--hidden",!n)}},p.prototype.handleClick=function(t){var n=t.target;"radio"===n.type&&e(document.querySelectorAll('input[type="radio"][aria-controls]'),function(t){var e=t.form===n.form;t.name===n.name&&e&&this.syncConditionalRevealWithInputState(t)}.bind(this))},f.prototype.init=function(){this.$module&&(this.$linkedElement=this.getLinkedElement(),this.$linkedElement&&this.$module.addEventListener("click",this.focusLinkedElement.bind(this)))},f.prototype.getLinkedElement=function(){var t=this.getFragmentFromUrl();return!!t&&document.getElementById(t)},f.prototype.focusLinkedElement=function(){var t=this.$linkedElement;t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.classList.add("govuk-skip-link-focused-element"),this.linkedElementListener||(this.$linkedElement.addEventListener("blur",this.removeFocusProperties.bind(this)),this.linkedElementListener=!0)),t.focus()},f.prototype.removeFocusProperties=function(){this.$linkedElement.removeAttribute("tabindex"),this.$linkedElement.classList.remove("govuk-skip-link-focused-element")},f.prototype.getFragmentFromUrl=function(){return!!this.$module.hash&&this.$module.hash.split("#").pop()},function(t){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var t=this.previousSibling;t&&1!==t.nodeType;)t=t.previousSibling;return t}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),m.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},m.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},m.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},m.prototype.setup=function(){var t=this.$module,n=this.$tabs,i=t.querySelector(".govuk-tabs__list"),o=t.querySelectorAll(".govuk-tabs__list-item");if(n&&i&&o){i.setAttribute("role","tablist"),e(o,(function(t){t.setAttribute("role","presentation")})),e(n,function(t){this.setAttributes(t),t.boundTabClick=this.onTabClick.bind(this),t.boundTabKeydown=this.onTabKeydown.bind(this),t.addEventListener("click",t.boundTabClick,!0),t.addEventListener("keydown",t.boundTabKeydown,!0),this.hideTab(t)}.bind(this));var s=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(s),t.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",t.boundOnHashChange,!0)}},m.prototype.teardown=function(){var t=this.$module,n=this.$tabs,i=t.querySelector(".govuk-tabs__list"),o=t.querySelectorAll(".govuk-tabs__list-item");n&&i&&o&&(i.removeAttribute("role"),e(o,(function(t){t.removeAttribute("role","presentation")})),e(n,function(t){t.removeEventListener("click",t.boundTabClick,!0),t.removeEventListener("keydown",t.boundTabKeydown,!0),this.unsetAttributes(t)}.bind(this)),window.removeEventListener("hashchange",t.boundOnHashChange,!0))},m.prototype.onHashChange=function(t){var e=window.location.hash,n=this.getTab(e);if(n)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();this.hideTab(i),this.showTab(n),n.focus()}},m.prototype.hideTab=function(t){this.unhighlightTab(t),this.hidePanel(t)},m.prototype.showTab=function(t){this.highlightTab(t),this.showPanel(t)},m.prototype.getTab=function(t){return this.$module.querySelector('.govuk-tabs__tab[href="'+t+'"]')},m.prototype.setAttributes=function(t){var e=this.getHref(t).slice(1);t.setAttribute("id","tab_"+e),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");var n=this.getPanel(t);n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",t.id),n.classList.add(this.jsHiddenClass)},m.prototype.unsetAttributes=function(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");var e=this.getPanel(t);e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass)},m.prototype.onTabClick=function(t){if(!t.target.classList.contains("govuk-tabs__tab"))return!1;t.preventDefault();var e=t.target,n=this.getCurrentTab();this.hideTab(n),this.showTab(e),this.createHistoryEntry(e)},m.prototype.createHistoryEntry=function(t){var e=this.getPanel(t),n=e.id;e.id="",this.changingHash=!0,window.location.hash=this.getHref(t).slice(1),e.id=n},m.prototype.onTabKeydown=function(t){switch(t.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),t.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),t.preventDefault()}},m.prototype.activateNextTab=function(){var t=this.getCurrentTab(),e=t.parentNode.nextElementSibling;if(e)var n=e.querySelector(".govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))},m.prototype.activatePreviousTab=function(){var t=this.getCurrentTab(),e=t.parentNode.previousElementSibling;if(e)var n=e.querySelector(".govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))},m.prototype.getPanel=function(t){return this.$module.querySelector(this.getHref(t))},m.prototype.showPanel=function(t){this.getPanel(t).classList.remove(this.jsHiddenClass)},m.prototype.hidePanel=function(t){this.getPanel(t).classList.add(this.jsHiddenClass)},m.prototype.unhighlightTab=function(t){t.setAttribute("aria-selected","false"),t.parentNode.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1")},m.prototype.highlightTab=function(t){t.setAttribute("aria-selected","true"),t.parentNode.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0")},m.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},m.prototype.getHref=function(t){var e=t.getAttribute("href");return e.slice(e.indexOf("#"),e.length)},t.initAll=function(t){var n=void 0!==(t=void 0!==t?t:{}).scope?t.scope:document;e(n.querySelectorAll('[data-module="govuk-button"]'),(function(t){new s(t).init()})),e(n.querySelectorAll('[data-module="govuk-accordion"]'),(function(t){new i(t).init()})),e(n.querySelectorAll('[data-module="govuk-details"]'),(function(t){new r(t).init()})),e(n.querySelectorAll('[data-module="govuk-character-count"]'),(function(t){new c(t).init()})),e(n.querySelectorAll('[data-module="govuk-checkboxes"]'),(function(t){new u(t).init()})),new l(n.querySelector('[data-module="govuk-error-summary"]')).init(),new h(n.querySelector('[data-module="govuk-header"]')).init(),e(n.querySelectorAll('[data-module="govuk-notification-banner"]'),(function(t){new d(t).init()})),e(n.querySelectorAll('[data-module="govuk-radios"]'),(function(t){new p(t).init()})),new f(n.querySelector('[data-module="govuk-skip-link"]')).init(),e(n.querySelectorAll('[data-module="govuk-tabs"]'),(function(t){new m(t).init()}))},t.Accordion=i,t.Button=s,t.Details=r,t.CharacterCount=c,t.Checkboxes=u,t.ErrorSummary=l,t.Header=h,t.NotificationBanner=d,t.Radios=p,t.SkipLink=f,t.Tabs=m},"object"===a(e)?r(e):(o=[e],void 0===(s="function"==typeof(i=r)?i.apply(e,o):i)||(t.exports=s))}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();n("./js/all.js")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUQsRUFBS0MsR0FBTy9FLE1BQ2pCLEdBQ0YsRUFHRHBNLEVBQVFXLFVBQVlBLEVBQ3BCWCxFQUFRNlAsT0FBU0EsRUFDakI3UCxFQUFRK1AsUUFBVUEsRUFDbEIvUCxFQUFRZ1EsZUFBaUJBLEVBQ3pCaFEsRUFBUXFRLFdBQWFBLEVBQ3JCclEsRUFBUXVRLGFBQWVBLEVBQ3ZCdlEsRUFBUXlRLE9BQVNBLEVBQ2pCelEsRUFBUXdRLG1CQUFxQkEsRUFDN0J4USxFQUFROFEsT0FBU0EsRUFDakI5USxFQUFRK1EsU0FBV0EsRUFDbkIvUSxFQUFRa1IsS0FBT0EsQ0FFZCxFQTMyRm1CLFdBQW5CLEVBQU9sUixHQUF3REQsRUFBUUMsSUFDMUJpZ0IsRUFBd0IsQ0FBQyxRQUFuQixpRUNEaERDLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JyZixHQUU1QixJQUFJc2YsRUFBZUYsRUFBeUJwZixHQUM1QyxRQUFxQndCLElBQWpCOGQsRUFDSCxPQUFPQSxFQUFhcGdCLFFBR3JCLElBQUlxZ0IsRUFBU0gsRUFBeUJwZixHQUFZLENBR2pEZCxRQUFTLENBQUMsR0FPWCxPQUhBc2dCLEVBQW9CeGYsR0FBVUosS0FBSzJmLEVBQU9yZ0IsUUFBU3FnQixFQUFRQSxFQUFPcmdCLFFBQVNtZ0IsR0FHcEVFLEVBQU9yZ0IsT0FDZixDQ3RCQW1nQixFQUFvQkksRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPM2YsTUFBUSxJQUFJb0QsU0FBUyxjQUFiLEVBR2hCLENBRkUsTUFBT25CLEdBQ1IsR0FBc0IsaUJBQVgxQyxPQUFxQixPQUFPQSxNQUN4QyxDQUNBLENBUHVCLEdDR0UrZixFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2pzL2FsbC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxyXG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZSgnR09WVUtGcm9udGVuZCcsIFsnZXhwb3J0cyddLCBmYWN0b3J5KSA6XHJcblx0KGZhY3RvcnkoKGdsb2JhbC5HT1ZVS0Zyb250ZW5kID0ge30pKSk7XHJcbn0odGhpcywgKGZ1bmN0aW9uIChleHBvcnRzKSB7ICd1c2Ugc3RyaWN0JztcclxuXHJcbi8qKlxyXG4gKiBUT0RPOiBJZGVhbGx5IHRoaXMgd291bGQgYmUgYSBOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCBwb2x5ZmlsbFxyXG4gKiBUaGlzIHNlZW1zIHRvIGZhaWwgaW4gSUU4LCByZXF1aXJlcyBtb3JlIGludmVzdGlnYXRpb24uXHJcbiAqIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2ltYWdpdGFtYS9ub2RlbGlzdC1mb3JlYWNoLXBvbHlmaWxsXHJcbiAqL1xyXG5mdW5jdGlvbiBub2RlTGlzdEZvckVhY2ggKG5vZGVzLCBjYWxsYmFjaykge1xyXG4gIGlmICh3aW5kb3cuTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2gpIHtcclxuICAgIHJldHVybiBub2Rlcy5mb3JFYWNoKGNhbGxiYWNrKVxyXG4gIH1cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjYWxsYmFjay5jYWxsKHdpbmRvdywgbm9kZXNbaV0sIGksIG5vZGVzKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFVzZWQgdG8gZ2VuZXJhdGUgYSB1bmlxdWUgc3RyaW5nLCBhbGxvd3MgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIHRoZSBjb21wb25lbnQgd2l0aG91dFxyXG4vLyBUaGVtIGNvbmZsaWN0aW5nIHdpdGggZWFjaCBvdGhlci5cclxuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg4MDk0NzJcclxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlxdWVJRCAoKSB7XHJcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICBpZiAodHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGQgKz0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpOyAvLyB1c2UgaGlnaC1wcmVjaXNpb24gdGltZXIgaWYgYXZhaWxhYmxlXHJcbiAgfVxyXG4gIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XHJcbiAgICB2YXIgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcclxuICAgIGQgPSBNYXRoLmZsb29yKGQgLyAxNik7XHJcbiAgICByZXR1cm4gKGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCkpLnRvU3RyaW5nKDE2KVxyXG4gIH0pXHJcbn1cclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbi8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9PYmplY3QvZGVmaW5lUHJvcGVydHkvZGV0ZWN0LmpzXHJcbnZhciBkZXRlY3QgPSAoXHJcbiAgLy8gSW4gSUU4LCBkZWZpbmVQcm9wZXJ0eSBjb3VsZCBvbmx5IGFjdCBvbiBET00gZWxlbWVudHMsIHNvIGZ1bGwgc3VwcG9ydFxyXG4gIC8vIGZvciB0aGUgZmVhdHVyZSByZXF1aXJlcyB0aGUgYWJpbGl0eSB0byBzZXQgYSBwcm9wZXJ0eSBvbiBhbiBhcmJpdHJhcnkgb2JqZWN0XHJcbiAgJ2RlZmluZVByb3BlcnR5JyBpbiBPYmplY3QgJiYgKGZ1bmN0aW9uKCkge1xyXG4gIFx0dHJ5IHtcclxuICBcdFx0dmFyIGEgPSB7fTtcclxuICBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsICd0ZXN0Jywge3ZhbHVlOjQyfSk7XHJcbiAgXHRcdHJldHVybiB0cnVlO1xyXG4gIFx0fSBjYXRjaChlKSB7XHJcbiAgXHRcdHJldHVybiBmYWxzZVxyXG4gIFx0fVxyXG4gIH0oKSlcclxuKTtcclxuXHJcbmlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuLy8gUG9seWZpbGwgZnJvbSBodHRwczovL2Nkbi5wb2x5ZmlsbC5pby92Mi9wb2x5ZmlsbC5qcz9mZWF0dXJlcz1PYmplY3QuZGVmaW5lUHJvcGVydHkmZmxhZ3M9YWx3YXlzXHJcbihmdW5jdGlvbiAobmF0aXZlRGVmaW5lUHJvcGVydHkpIHtcclxuXHJcblx0dmFyIHN1cHBvcnRzQWNjZXNzb3JzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnX19kZWZpbmVHZXR0ZXJfXycpO1xyXG5cdHZhciBFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQgPSAnR2V0dGVycyAmIHNldHRlcnMgY2Fubm90IGJlIGRlZmluZWQgb24gdGhpcyBqYXZhc2NyaXB0IGVuZ2luZSc7XHJcblx0dmFyIEVSUl9WQUxVRV9BQ0NFU1NPUlMgPSAnQSBwcm9wZXJ0eSBjYW5ub3QgYm90aCBoYXZlIGFjY2Vzc29ycyBhbmQgYmUgd3JpdGFibGUgb3IgaGF2ZSBhIHZhbHVlJztcclxuXHJcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xyXG5cclxuXHRcdC8vIFdoZXJlIG5hdGl2ZSBzdXBwb3J0IGV4aXN0cywgYXNzdW1lIGl0XHJcblx0XHRpZiAobmF0aXZlRGVmaW5lUHJvcGVydHkgJiYgKG9iamVjdCA9PT0gd2luZG93IHx8IG9iamVjdCA9PT0gZG9jdW1lbnQgfHwgb2JqZWN0ID09PSBFbGVtZW50LnByb3RvdHlwZSB8fCBvYmplY3QgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xyXG5cdFx0XHRyZXR1cm4gbmF0aXZlRGVmaW5lUHJvcGVydHkob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcik7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKG9iamVjdCA9PT0gbnVsbCB8fCAhKG9iamVjdCBpbnN0YW5jZW9mIE9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JykpIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmRlZmluZVByb3BlcnR5IGNhbGxlZCBvbiBub24tb2JqZWN0Jyk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCEoZGVzY3JpcHRvciBpbnN0YW5jZW9mIE9iamVjdCkpIHtcclxuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvcGVydHkgZGVzY3JpcHRpb24gbXVzdCBiZSBhbiBvYmplY3QnKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgcHJvcGVydHlTdHJpbmcgPSBTdHJpbmcocHJvcGVydHkpO1xyXG5cdFx0dmFyIGhhc1ZhbHVlT3JXcml0YWJsZSA9ICd2YWx1ZScgaW4gZGVzY3JpcHRvciB8fCAnd3JpdGFibGUnIGluIGRlc2NyaXB0b3I7XHJcblx0XHR2YXIgZ2V0dGVyVHlwZSA9ICdnZXQnIGluIGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3IuZ2V0O1xyXG5cdFx0dmFyIHNldHRlclR5cGUgPSAnc2V0JyBpbiBkZXNjcmlwdG9yICYmIHR5cGVvZiBkZXNjcmlwdG9yLnNldDtcclxuXHJcblx0XHQvLyBoYW5kbGUgZGVzY3JpcHRvci5nZXRcclxuXHRcdGlmIChnZXR0ZXJUeXBlKSB7XHJcblx0XHRcdGlmIChnZXR0ZXJUeXBlICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignR2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc3VwcG9ydHNBY2Nlc3NvcnMpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGhhc1ZhbHVlT3JXcml0YWJsZSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX1ZBTFVFX0FDQ0VTU09SUyk7XHJcblx0XHRcdH1cclxuXHRcdFx0T2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18uY2FsbChvYmplY3QsIHByb3BlcnR5U3RyaW5nLCBkZXNjcmlwdG9yLmdldCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRvYmplY3RbcHJvcGVydHlTdHJpbmddID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBoYW5kbGUgZGVzY3JpcHRvci5zZXRcclxuXHRcdGlmIChzZXR0ZXJUeXBlKSB7XHJcblx0XHRcdGlmIChzZXR0ZXJUeXBlICE9PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignU2V0dGVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICghc3VwcG9ydHNBY2Nlc3NvcnMpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGhhc1ZhbHVlT3JXcml0YWJsZSkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX1ZBTFVFX0FDQ0VTU09SUyk7XHJcblx0XHRcdH1cclxuXHRcdFx0T2JqZWN0Ll9fZGVmaW5lU2V0dGVyX18uY2FsbChvYmplY3QsIHByb3BlcnR5U3RyaW5nLCBkZXNjcmlwdG9yLnNldCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT0sgdG8gZGVmaW5lIHZhbHVlIHVuY29uZGl0aW9uYWxseSAtIGlmIGEgZ2V0dGVyIGhhcyBiZWVuIHNwZWNpZmllZCBhcyB3ZWxsLCBhbiBlcnJvciB3b3VsZCBiZSB0aHJvd24gYWJvdmVcclxuXHRcdGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIHtcclxuXHRcdFx0b2JqZWN0W3Byb3BlcnR5U3RyaW5nXSA9IGRlc2NyaXB0b3IudmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG9iamVjdDtcclxuXHR9O1xyXG59KE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkpO1xyXG59KVxyXG4uY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuICAvLyBEZXRlY3Rpb24gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvYmxvYi9tYXN0ZXIvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRnVuY3Rpb24vcHJvdG90eXBlL2JpbmQvZGV0ZWN0LmpzXHJcbiAgdmFyIGRldGVjdCA9ICdiaW5kJyBpbiBGdW5jdGlvbi5wcm90b3R5cGU7XHJcblxyXG4gIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAvLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vY2RuLnBvbHlmaWxsLmlvL3YyL3BvbHlmaWxsLmpzP2ZlYXR1cmVzPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJmZsYWdzPWFsd2F5c1xyXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsICdiaW5kJywge1xyXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYmluZCh0aGF0KSB7IC8vIC5sZW5ndGggaXMgMVxyXG4gICAgICAgICAgLy8gYWRkIG5lY2Vzc2FyeSBlczUtc2hpbSB1dGlsaXRpZXNcclxuICAgICAgICAgIHZhciAkQXJyYXkgPSBBcnJheTtcclxuICAgICAgICAgIHZhciAkT2JqZWN0ID0gT2JqZWN0O1xyXG4gICAgICAgICAgdmFyIE9iamVjdFByb3RvdHlwZSA9ICRPYmplY3QucHJvdG90eXBlO1xyXG4gICAgICAgICAgdmFyIEFycmF5UHJvdG90eXBlID0gJEFycmF5LnByb3RvdHlwZTtcclxuICAgICAgICAgIHZhciBFbXB0eSA9IGZ1bmN0aW9uIEVtcHR5KCkge307XHJcbiAgICAgICAgICB2YXIgdG9fc3RyaW5nID0gT2JqZWN0UHJvdG90eXBlLnRvU3RyaW5nO1xyXG4gICAgICAgICAgdmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLnRvU3RyaW5nVGFnID09PSAnc3ltYm9sJztcclxuICAgICAgICAgIHZhciBpc0NhbGxhYmxlOyAvKiBpbmxpbmVkIGZyb20gaHR0cHM6Ly9ucG1qcy5jb20vaXMtY2FsbGFibGUgKi8gdmFyIGZuVG9TdHIgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcsIHRyeUZ1bmN0aW9uT2JqZWN0ID0gZnVuY3Rpb24gdHJ5RnVuY3Rpb25PYmplY3QodmFsdWUpIHsgdHJ5IHsgZm5Ub1N0ci5jYWxsKHZhbHVlKTsgcmV0dXJuIHRydWU7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIGZhbHNlOyB9IH0sIGZuQ2xhc3MgPSAnW29iamVjdCBGdW5jdGlvbl0nLCBnZW5DbGFzcyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSc7IGlzQ2FsbGFibGUgPSBmdW5jdGlvbiBpc0NhbGxhYmxlKHZhbHVlKSB7IGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHsgcmV0dXJuIGZhbHNlOyB9IGlmIChoYXNUb1N0cmluZ1RhZykgeyByZXR1cm4gdHJ5RnVuY3Rpb25PYmplY3QodmFsdWUpOyB9IHZhciBzdHJDbGFzcyA9IHRvX3N0cmluZy5jYWxsKHZhbHVlKTsgcmV0dXJuIHN0ckNsYXNzID09PSBmbkNsYXNzIHx8IHN0ckNsYXNzID09PSBnZW5DbGFzczsgfTtcclxuICAgICAgICAgIHZhciBhcnJheV9zbGljZSA9IEFycmF5UHJvdG90eXBlLnNsaWNlO1xyXG4gICAgICAgICAgdmFyIGFycmF5X2NvbmNhdCA9IEFycmF5UHJvdG90eXBlLmNvbmNhdDtcclxuICAgICAgICAgIHZhciBhcnJheV9wdXNoID0gQXJyYXlQcm90b3R5cGUucHVzaDtcclxuICAgICAgICAgIHZhciBtYXggPSBNYXRoLm1heDtcclxuICAgICAgICAgIC8vIC9hZGQgbmVjZXNzYXJ5IGVzNS1zaGltIHV0aWxpdGllc1xyXG5cclxuICAgICAgICAgIC8vIDEuIExldCBUYXJnZXQgYmUgdGhlIHRoaXMgdmFsdWUuXHJcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcztcclxuICAgICAgICAgIC8vIDIuIElmIElzQ2FsbGFibGUoVGFyZ2V0KSBpcyBmYWxzZSwgdGhyb3cgYSBUeXBlRXJyb3IgZXhjZXB0aW9uLlxyXG4gICAgICAgICAgaWYgKCFpc0NhbGxhYmxlKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICcgKyB0YXJnZXQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gMy4gTGV0IEEgYmUgYSBuZXcgKHBvc3NpYmx5IGVtcHR5KSBpbnRlcm5hbCBsaXN0IG9mIGFsbCBvZiB0aGVcclxuICAgICAgICAgIC8vICAgYXJndW1lbnQgdmFsdWVzIHByb3ZpZGVkIGFmdGVyIHRoaXNBcmcgKGFyZzEsIGFyZzIgZXRjKSwgaW4gb3JkZXIuXHJcbiAgICAgICAgICAvLyBYWFggc2xpY2VkQXJncyB3aWxsIHN0YW5kIGluIGZvciBcIkFcIiBpZiB1c2VkXHJcbiAgICAgICAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsgLy8gZm9yIG5vcm1hbCBjYWxsXHJcbiAgICAgICAgICAvLyA0LiBMZXQgRiBiZSBhIG5ldyBuYXRpdmUgRUNNQVNjcmlwdCBvYmplY3QuXHJcbiAgICAgICAgICAvLyAxMS4gU2V0IHRoZSBbW1Byb3RvdHlwZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdGhlIHN0YW5kYXJkXHJcbiAgICAgICAgICAvLyAgIGJ1aWx0LWluIEZ1bmN0aW9uIHByb3RvdHlwZSBvYmplY3QgYXMgc3BlY2lmaWVkIGluIDE1LjMuMy4xLlxyXG4gICAgICAgICAgLy8gMTIuIFNldCB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cclxuICAgICAgICAgIC8vICAgMTUuMy40LjUuMS5cclxuICAgICAgICAgIC8vIDEzLiBTZXQgdGhlIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiBhcyBkZXNjcmliZWQgaW5cclxuICAgICAgICAgIC8vICAgMTUuMy40LjUuMi5cclxuICAgICAgICAgIC8vIDE0LiBTZXQgdGhlIFtbSGFzSW5zdGFuY2VdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxyXG4gICAgICAgICAgLy8gICAxNS4zLjQuNS4zLlxyXG4gICAgICAgICAgdmFyIGJvdW5kO1xyXG4gICAgICAgICAgdmFyIGJpbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBib3VuZCkge1xyXG4gICAgICAgICAgICAgICAgICAvLyAxNS4zLjQuNS4yIFtbQ29uc3RydWN0XV1cclxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2Qgb2YgYSBmdW5jdGlvbiBvYmplY3QsXHJcbiAgICAgICAgICAgICAgICAgIC8vIEYgdGhhdCB3YXMgY3JlYXRlZCB1c2luZyB0aGUgYmluZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXHJcbiAgICAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgYXJndW1lbnRzIEV4dHJhQXJncywgdGhlIGZvbGxvd2luZyBzdGVwcyBhcmUgdGFrZW46XHJcbiAgICAgICAgICAgICAgICAgIC8vIDEuIExldCB0YXJnZXQgYmUgdGhlIHZhbHVlIG9mIEYncyBbW1RhcmdldEZ1bmN0aW9uXV1cclxuICAgICAgICAgICAgICAgICAgLy8gICBpbnRlcm5hbCBwcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgLy8gMi4gSWYgdGFyZ2V0IGhhcyBubyBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCwgYVxyXG4gICAgICAgICAgICAgICAgICAvLyAgIFR5cGVFcnJvciBleGNlcHRpb24gaXMgdGhyb3duLlxyXG4gICAgICAgICAgICAgICAgICAvLyAzLiBMZXQgYm91bmRBcmdzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZEFyZ3NdXSBpbnRlcm5hbFxyXG4gICAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxyXG4gICAgICAgICAgICAgICAgICAvLyAgIGxpc3QgYm91bmRBcmdzIGluIHRoZSBzYW1lIG9yZGVyIGZvbGxvd2VkIGJ5IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgdmFsdWVzIGFzIHRoZSBsaXN0IEV4dHJhQXJncyBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgICAgICAgICAgICAgICAgLy8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbFxyXG4gICAgICAgICAgICAgICAgICAvLyAgIG1ldGhvZCBvZiB0YXJnZXQgcHJvdmlkaW5nIGFyZ3MgYXMgdGhlIGFyZ3VtZW50cy5cclxuXHJcbiAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYXJyYXlfY29uY2F0LmNhbGwoYXJncywgYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICBpZiAoJE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIDE1LjMuNC41LjEgW1tDYWxsXV1cclxuICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kIG9mIGEgZnVuY3Rpb24gb2JqZWN0LCBGLFxyXG4gICAgICAgICAgICAgICAgICAvLyB3aGljaCB3YXMgY3JlYXRlZCB1c2luZyB0aGUgYmluZCBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCBhXHJcbiAgICAgICAgICAgICAgICAgIC8vIHRoaXMgdmFsdWUgYW5kIGEgbGlzdCBvZiBhcmd1bWVudHMgRXh0cmFBcmdzLCB0aGUgZm9sbG93aW5nXHJcbiAgICAgICAgICAgICAgICAgIC8vIHN0ZXBzIGFyZSB0YWtlbjpcclxuICAgICAgICAgICAgICAgICAgLy8gMS4gTGV0IGJvdW5kQXJncyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRBcmdzXV0gaW50ZXJuYWxcclxuICAgICAgICAgICAgICAgICAgLy8gICBwcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgLy8gMi4gTGV0IGJvdW5kVGhpcyBiZSB0aGUgdmFsdWUgb2YgRidzIFtbQm91bmRUaGlzXV0gaW50ZXJuYWxcclxuICAgICAgICAgICAgICAgICAgLy8gICBwcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgLy8gMy4gTGV0IHRhcmdldCBiZSB0aGUgdmFsdWUgb2YgRidzIFtbVGFyZ2V0RnVuY3Rpb25dXSBpbnRlcm5hbFxyXG4gICAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAvLyA0LiBMZXQgYXJncyBiZSBhIG5ldyBsaXN0IGNvbnRhaW5pbmcgdGhlIHNhbWUgdmFsdWVzIGFzIHRoZVxyXG4gICAgICAgICAgICAgICAgICAvLyAgIGxpc3QgYm91bmRBcmdzIGluIHRoZSBzYW1lIG9yZGVyIGZvbGxvd2VkIGJ5IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgdmFsdWVzIGFzIHRoZSBsaXN0IEV4dHJhQXJncyBpbiB0aGUgc2FtZSBvcmRlci5cclxuICAgICAgICAgICAgICAgICAgLy8gNS4gUmV0dXJuIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgb2YgdGFyZ2V0IHByb3ZpZGluZyBib3VuZFRoaXMgYXMgdGhlIHRoaXMgdmFsdWUgYW5kXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgcHJvdmlkaW5nIGFyZ3MgYXMgdGhlIGFyZ3VtZW50cy5cclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIGVxdWl2OiB0YXJnZXQuY2FsbCh0aGlzLCAuLi5ib3VuZEFyZ3MsIC4uLmFyZ3MpXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQuYXBwbHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgYXJyYXlfY29uY2F0LmNhbGwoYXJncywgYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMpKVxyXG4gICAgICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvLyAxNS4gSWYgdGhlIFtbQ2xhc3NdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBUYXJnZXQgaXMgXCJGdW5jdGlvblwiLCB0aGVuXHJcbiAgICAgICAgICAvLyAgICAgYS4gTGV0IEwgYmUgdGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiBUYXJnZXQgbWludXMgdGhlIGxlbmd0aCBvZiBBLlxyXG4gICAgICAgICAgLy8gICAgIGIuIFNldCB0aGUgbGVuZ3RoIG93biBwcm9wZXJ0eSBvZiBGIHRvIGVpdGhlciAwIG9yIEwsIHdoaWNoZXZlciBpc1xyXG4gICAgICAgICAgLy8gICAgICAgbGFyZ2VyLlxyXG4gICAgICAgICAgLy8gMTYuIEVsc2Ugc2V0IHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gMC5cclxuXHJcbiAgICAgICAgICB2YXIgYm91bmRMZW5ndGggPSBtYXgoMCwgdGFyZ2V0Lmxlbmd0aCAtIGFyZ3MubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAvLyAxNy4gU2V0IHRoZSBhdHRyaWJ1dGVzIG9mIHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gdGhlIHZhbHVlc1xyXG4gICAgICAgICAgLy8gICBzcGVjaWZpZWQgaW4gMTUuMy41LjEuXHJcbiAgICAgICAgICB2YXIgYm91bmRBcmdzID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBhcnJheV9wdXNoLmNhbGwoYm91bmRBcmdzLCAnJCcgKyBpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBYWFggQnVpbGQgYSBkeW5hbWljIGZ1bmN0aW9uIHdpdGggZGVzaXJlZCBhbW91bnQgb2YgYXJndW1lbnRzIGlzIHRoZSBvbmx5XHJcbiAgICAgICAgICAvLyB3YXkgdG8gc2V0IHRoZSBsZW5ndGggcHJvcGVydHkgb2YgYSBmdW5jdGlvbi5cclxuICAgICAgICAgIC8vIEluIGVudmlyb25tZW50cyB3aGVyZSBDb250ZW50IFNlY3VyaXR5IFBvbGljaWVzIGVuYWJsZWQgKENocm9tZSBleHRlbnNpb25zLFxyXG4gICAgICAgICAgLy8gZm9yIGV4LikgYWxsIHVzZSBvZiBldmFsIG9yIEZ1bmN0aW9uIGNvc3RydWN0b3IgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgICAgICAgIC8vIEhvd2V2ZXIgaW4gYWxsIG9mIHRoZXNlIGVudmlyb25tZW50cyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBleGlzdHNcclxuICAgICAgICAgIC8vIGFuZCBzbyB0aGlzIGNvZGUgd2lsbCBuZXZlciBiZSBleGVjdXRlZC5cclxuICAgICAgICAgIGJvdW5kID0gRnVuY3Rpb24oJ2JpbmRlcicsICdyZXR1cm4gZnVuY3Rpb24gKCcgKyBib3VuZEFyZ3Muam9pbignLCcpICsgJyl7IHJldHVybiBiaW5kZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfScpKGJpbmRlcik7XHJcblxyXG4gICAgICAgICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcclxuICAgICAgICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSB0YXJnZXQucHJvdG90eXBlO1xyXG4gICAgICAgICAgICAgIGJvdW5kLnByb3RvdHlwZSA9IG5ldyBFbXB0eSgpO1xyXG4gICAgICAgICAgICAgIC8vIENsZWFuIHVwIGRhbmdsaW5nIHJlZmVyZW5jZXMuXHJcbiAgICAgICAgICAgICAgRW1wdHkucHJvdG90eXBlID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAvLyAxOC4gU2V0IHRoZSBbW0V4dGVuc2libGVdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIHRvIHRydWUuXHJcblxyXG4gICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgLy8gMTkuIExldCB0aHJvd2VyIGJlIHRoZSBbW1Rocm93VHlwZUVycm9yXV0gZnVuY3Rpb24gT2JqZWN0ICgxMy4yLjMpLlxyXG4gICAgICAgICAgLy8gMjAuIENhbGwgdGhlIFtbRGVmaW5lT3duUHJvcGVydHldXSBpbnRlcm5hbCBtZXRob2Qgb2YgRiB3aXRoXHJcbiAgICAgICAgICAvLyAgIGFyZ3VtZW50cyBcImNhbGxlclwiLCBQcm9wZXJ0eURlc2NyaXB0b3Ige1tbR2V0XV06IHRocm93ZXIsIFtbU2V0XV06XHJcbiAgICAgICAgICAvLyAgIHRocm93ZXIsIFtbRW51bWVyYWJsZV1dOiBmYWxzZSwgW1tDb25maWd1cmFibGVdXTogZmFsc2V9LCBhbmRcclxuICAgICAgICAgIC8vICAgZmFsc2UuXHJcbiAgICAgICAgICAvLyAyMS4gQ2FsbCB0aGUgW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGludGVybmFsIG1ldGhvZCBvZiBGIHdpdGhcclxuICAgICAgICAgIC8vICAgYXJndW1lbnRzIFwiYXJndW1lbnRzXCIsIFByb3BlcnR5RGVzY3JpcHRvciB7W1tHZXRdXTogdGhyb3dlcixcclxuICAgICAgICAgIC8vICAgW1tTZXRdXTogdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sXHJcbiAgICAgICAgICAvLyAgIGFuZCBmYWxzZS5cclxuXHJcbiAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAvLyBOT1RFIEZ1bmN0aW9uIG9iamVjdHMgY3JlYXRlZCB1c2luZyBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBkbyBub3RcclxuICAgICAgICAgIC8vIGhhdmUgYSBwcm90b3R5cGUgcHJvcGVydHkgb3IgdGhlIFtbQ29kZV1dLCBbW0Zvcm1hbFBhcmFtZXRlcnNdXSwgYW5kXHJcbiAgICAgICAgICAvLyBbW1Njb3BlXV0gaW50ZXJuYWwgcHJvcGVydGllcy5cclxuICAgICAgICAgIC8vIFhYWCBjYW4ndCBkZWxldGUgcHJvdG90eXBlIGluIHB1cmUtanMuXHJcblxyXG4gICAgICAgICAgLy8gMjIuIFJldHVybiBGLlxyXG4gICAgICAgICAgcmV0dXJuIGJvdW5kO1xyXG4gICAgICB9XHJcbiAgfSk7XHJcbn0pXHJcbi5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9tYXN0ZXIvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRE9NVG9rZW5MaXN0L2RldGVjdC5qc1xyXG4gICAgdmFyIGRldGVjdCA9IChcclxuICAgICAgJ0RPTVRva2VuTGlzdCcgaW4gdGhpcyAmJiAoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICByZXR1cm4gJ2NsYXNzTGlzdCcgaW4geCA/ICF4LmNsYXNzTGlzdC50b2dnbGUoJ3gnLCBmYWxzZSkgJiYgIXguY2xhc3NOYW1lIDogdHJ1ZTtcclxuICAgICAgfSkoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgneCcpKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbiAgICAvLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9tYXN0ZXIvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRE9NVG9rZW5MaXN0L3BvbHlmaWxsLmpzXHJcbiAgICAoZnVuY3Rpb24gKGdsb2JhbCkge1xyXG4gICAgICB2YXIgbmF0aXZlSW1wbCA9IFwiRE9NVG9rZW5MaXN0XCIgaW4gZ2xvYmFsICYmIGdsb2JhbC5ET01Ub2tlbkxpc3Q7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgICAhbmF0aXZlSW1wbCB8fFxyXG4gICAgICAgICAgKFxyXG4gICAgICAgICAgICAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJlxyXG4gICAgICAgICAgICAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykgJiZcclxuICAgICAgICAgICAgIShkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKS5jbGFzc0xpc3QgaW5zdGFuY2VvZiBET01Ub2tlbkxpc3QpXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgZ2xvYmFsLkRPTVRva2VuTGlzdCA9IChmdW5jdGlvbigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgICAgICAgdmFyIGRwU3VwcG9ydCA9IHRydWU7XHJcbiAgICAgICAgICB2YXIgZGVmaW5lR2V0dGVyID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgZm4sIGNvbmZpZ3VyYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KVxyXG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIHtcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UgPT09IGRwU3VwcG9ydCA/IHRydWUgOiAhIWNvbmZpZ3VyYWJsZSxcclxuICAgICAgICAgICAgICAgIGdldDogZm5cclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGVsc2Ugb2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18obmFtZSwgZm4pO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAvKiogRW5zdXJlIHRoZSBicm93c2VyIGFsbG93cyBPYmplY3QuZGVmaW5lUHJvcGVydHkgdG8gYmUgdXNlZCBvbiBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3RzLiAqL1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZGVmaW5lR2V0dGVyKHt9LCBcInN1cHBvcnRcIik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBkcFN1cHBvcnQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgdmFyIF9ET01Ub2tlbkxpc3QgPSBmdW5jdGlvbiAoZWwsIHByb3ApIHtcclxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gW107XHJcbiAgICAgICAgICAgIHZhciB0b2tlbk1hcCA9IHt9O1xyXG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIHZhciBhZGRJbmRleEdldHRlciA9IGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgZGVmaW5lR2V0dGVyKHRoYXQsIGksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByZW9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5zW2ldO1xyXG4gICAgICAgICAgICAgIH0sIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciByZWluZGV4ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAvKiogRGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGFycmF5LWxpa2UgYWNjZXNzIHRvIHRoZSB0b2tlbkxpc3QncyBjb250ZW50cy4gKi9cclxuICAgICAgICAgICAgICBpZiAobGVuZ3RoID49IG1heExlbmd0aClcclxuICAgICAgICAgICAgICAgIGZvciAoOyBtYXhMZW5ndGggPCBsZW5ndGg7ICsrbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGFkZEluZGV4R2V0dGVyKG1heExlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvKiogSGVscGVyIGZ1bmN0aW9uIGNhbGxlZCBhdCB0aGUgc3RhcnQgb2YgZWFjaCBjbGFzcyBtZXRob2QuIEludGVybmFsIHVzZSBvbmx5LiAqL1xyXG4gICAgICAgICAgICB2YXIgcHJlb3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGVycm9yO1xyXG4gICAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgIHZhciByU3BhY2UgPSAvXFxzKy87XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBWYWxpZGF0ZSB0aGUgdG9rZW4vcyBwYXNzZWQgdG8gYW4gaW5zdGFuY2UgbWV0aG9kLCBpZiBhbnkuICovXHJcbiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICAgIGlmIChyU3BhY2UudGVzdChhcmdzW2ldKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gbmV3IFN5bnRheEVycm9yKCdTdHJpbmcgXCInICsgYXJnc1tpXSArICdcIiAnICsgXCJjb250YWluc1wiICsgJyBhbiBpbnZhbGlkIGNoYXJhY3RlcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmNvZGUgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm5hbWUgPSBcIkludmFsaWRDaGFyYWN0ZXJFcnJvclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAvKiogU3BsaXQgdGhlIG5ldyB2YWx1ZSBhcGFydCBieSB3aGl0ZXNwYWNlKi9cclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsW3Byb3BdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0b2tlbnMgPSAoXCJcIiArIGVsW3Byb3BdLmJhc2VWYWwpLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpLnNwbGl0KHJTcGFjZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRva2VucyA9IChcIlwiICsgZWxbcHJvcF0pLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpLnNwbGl0KHJTcGFjZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvKiogQXZvaWQgdHJlYXRpbmcgYmxhbmsgc3RyaW5ncyBhcyBzaW5nbGUtaXRlbSB0b2tlbiBsaXN0cyAqL1xyXG4gICAgICAgICAgICAgIGlmIChcIlwiID09PSB0b2tlbnNbMF0pIHRva2VucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAvKiogUmVwb3B1bGF0ZSB0aGUgaW50ZXJuYWwgdG9rZW4gbGlzdHMgKi9cclxuICAgICAgICAgICAgICB0b2tlbk1hcCA9IHt9O1xyXG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICB0b2tlbk1hcFt0b2tlbnNbaV1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBsZW5ndGggPSB0b2tlbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgIHJlaW5kZXgoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBQb3B1bGF0ZSBvdXIgaW50ZXJuYWwgdG9rZW4gbGlzdCBpZiB0aGUgdGFyZ2V0ZWQgYXR0cmlidXRlIG9mIHRoZSBzdWJqZWN0IGVsZW1lbnQgaXNuJ3QgZW1wdHkuICovXHJcbiAgICAgICAgICAgIHByZW9wKCk7XHJcblxyXG4gICAgICAgICAgICAvKiogUmV0dXJuIHRoZSBudW1iZXIgb2YgdG9rZW5zIGluIHRoZSB1bmRlcmx5aW5nIHN0cmluZy4gUmVhZC1vbmx5LiAqL1xyXG4gICAgICAgICAgICBkZWZpbmVHZXR0ZXIodGhhdCwgXCJsZW5ndGhcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHByZW9wKCk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGxlbmd0aDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvKiogT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdG9TdHJpbmcvdG9Mb2NhbGVTdHJpbmcgbWV0aG9kcyB0byByZXR1cm4gYSBzcGFjZS1kZWxpbWl0ZWQgbGlzdCBvZiB0b2tlbnMgd2hlbiB0eXBlY2FzdC4gKi9cclxuICAgICAgICAgICAgdGhhdC50b0xvY2FsZVN0cmluZyA9XHJcbiAgICAgICAgICAgICAgdGhhdC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHByZW9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5zLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGF0Lml0ZW0gPSBmdW5jdGlvbiAoaWR4KSB7XHJcbiAgICAgICAgICAgICAgcHJlb3AoKTtcclxuICAgICAgICAgICAgICByZXR1cm4gdG9rZW5zW2lkeF07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGF0LmNvbnRhaW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgICAgICAgcHJlb3AoKTtcclxuICAgICAgICAgICAgICByZXR1cm4gISF0b2tlbk1hcFt0b2tlbl07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGF0LmFkZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBwcmVvcC5hcHBseSh0aGF0LCBhcmdzID0gYXJndW1lbnRzKTtcclxuXHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgYXJncywgdG9rZW4sIGkgPSAwLCBsID0gYXJncy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRva2VuID0gYXJnc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5NYXBbdG9rZW5dKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgdG9rZW5NYXBbdG9rZW5dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBVcGRhdGUgdGhlIHRhcmdldGVkIGF0dHJpYnV0ZSBvZiB0aGUgYXR0YWNoZWQgZWxlbWVudCBpZiB0aGUgdG9rZW4gbGlzdCdzIGNoYW5nZWQuICovXHJcbiAgICAgICAgICAgICAgaWYgKGxlbmd0aCAhPT0gdG9rZW5zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgbGVuZ3RoID0gdG9rZW5zLmxlbmd0aCA+Pj4gMDtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxbcHJvcF0gPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgZWxbcHJvcF0uYmFzZVZhbCA9IHRva2Vucy5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsW3Byb3BdID0gdG9rZW5zLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVpbmRleCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHByZW9wLmFwcGx5KHRoYXQsIGFyZ3MgPSBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICAvKiogQnVpbGQgYSBoYXNoIG9mIHRva2VuIG5hbWVzIHRvIGNvbXBhcmUgYWdhaW5zdCB3aGVuIHJlY29sbGVjdGluZyBvdXIgdG9rZW4gbGlzdC4gKi9cclxuICAgICAgICAgICAgICBmb3IgKHZhciBhcmdzLCBpZ25vcmUgPSB7fSwgaSA9IDAsIHQgPSBbXTsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlnbm9yZVthcmdzW2ldXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdG9rZW5NYXBbYXJnc1tpXV07XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvKiogUnVuIHRocm91Z2ggb3VyIHRva2VucyBsaXN0IGFuZCByZWFzc2lnbiBvbmx5IHRob3NlIHRoYXQgYXJlbid0IGRlZmluZWQgaW4gdGhlIGhhc2ggZGVjbGFyZWQgYWJvdmUuICovXHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgIGlmICghaWdub3JlW3Rva2Vuc1tpXV0pIHQucHVzaCh0b2tlbnNbaV0pO1xyXG5cclxuICAgICAgICAgICAgICB0b2tlbnMgPSB0O1xyXG4gICAgICAgICAgICAgIGxlbmd0aCA9IHQubGVuZ3RoID4+PiAwO1xyXG5cclxuICAgICAgICAgICAgICAvKiogVXBkYXRlIHRoZSB0YXJnZXRlZCBhdHRyaWJ1dGUgb2YgdGhlIGF0dGFjaGVkIGVsZW1lbnQuICovXHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbFtwcm9wXSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgZWxbcHJvcF0uYmFzZVZhbCA9IHRva2Vucy5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxbcHJvcF0gPSB0b2tlbnMuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJlaW5kZXgoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQudG9nZ2xlID0gZnVuY3Rpb24gKHRva2VuLCBmb3JjZSkge1xyXG4gICAgICAgICAgICAgIHByZW9wLmFwcGx5KHRoYXQsIFt0b2tlbl0pO1xyXG5cclxuICAgICAgICAgICAgICAvKiogVG9rZW4gc3RhdGUncyBiZWluZyBmb3JjZWQuICovXHJcbiAgICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCAhPT0gZm9yY2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgICB0aGF0LmFkZCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdGhhdC5yZW1vdmUodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvKiogVG9rZW4gYWxyZWFkeSBleGlzdHMgaW4gdG9rZW5MaXN0LiBSZW1vdmUgaXQsIGFuZCByZXR1cm4gRkFMU0UuICovXHJcbiAgICAgICAgICAgICAgaWYgKHRva2VuTWFwW3Rva2VuXSkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5yZW1vdmUodG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLyoqIE90aGVyd2lzZSwgYWRkIHRoZSB0b2tlbiBhbmQgcmV0dXJuIFRSVUUuICovXHJcbiAgICAgICAgICAgICAgdGhhdC5hZGQodG9rZW4pO1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoYXQ7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHJldHVybiBfRE9NVG9rZW5MaXN0O1xyXG4gICAgICAgIH0oKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFkZCBzZWNvbmQgYXJndW1lbnQgdG8gbmF0aXZlIERPTVRva2VuTGlzdC50b2dnbGUoKSBpZiBuZWNlc3NhcnlcclxuICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBpZiAoISgnY2xhc3NMaXN0JyBpbiBlKSkgcmV0dXJuO1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LnRvZ2dsZSgneCcsIGZhbHNlKTtcclxuICAgICAgICBpZiAoIWUuY2xhc3NMaXN0LmNvbnRhaW5zKCd4JykpIHJldHVybjtcclxuICAgICAgICBlLmNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKHRva2VuIC8qLCBmb3JjZSovKSB7XHJcbiAgICAgICAgICB2YXIgZm9yY2UgPSBhcmd1bWVudHNbMV07XHJcbiAgICAgICAgICBpZiAoZm9yY2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB2YXIgYWRkID0gIXRoaXMuY29udGFpbnModG9rZW4pO1xyXG4gICAgICAgICAgICB0aGlzW2FkZCA/ICdhZGQnIDogJ3JlbW92ZSddKHRva2VuKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFkZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZvcmNlID0gISFmb3JjZTtcclxuICAgICAgICAgIHRoaXNbZm9yY2UgPyAnYWRkJyA6ICdyZW1vdmUnXSh0b2tlbik7XHJcbiAgICAgICAgICByZXR1cm4gZm9yY2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSgpKTtcclxuXHJcbiAgICAgIC8vIEFkZCBtdWx0aXBsZSBhcmd1bWVudHMgdG8gbmF0aXZlIERPTVRva2VuTGlzdC5hZGQoKSBpZiBuZWNlc3NhcnlcclxuICAgICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBpZiAoISgnY2xhc3NMaXN0JyBpbiBlKSkgcmV0dXJuO1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LmFkZCgnYScsICdiJyk7XHJcbiAgICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdiJykpIHJldHVybjtcclxuICAgICAgICB2YXIgbmF0aXZlID0gZS5jbGFzc0xpc3QuY29uc3RydWN0b3IucHJvdG90eXBlLmFkZDtcclxuICAgICAgICBlLmNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBuYXRpdmUuY2FsbCh0aGlzLCBhcmdzW2ldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9KCkpO1xyXG5cclxuICAgICAgLy8gQWRkIG11bHRpcGxlIGFyZ3VtZW50cyB0byBuYXRpdmUgRE9NVG9rZW5MaXN0LnJlbW92ZSgpIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGlmICghKCdjbGFzc0xpc3QnIGluIGUpKSByZXR1cm47XHJcbiAgICAgICAgZS5jbGFzc0xpc3QuYWRkKCdhJyk7XHJcbiAgICAgICAgZS5jbGFzc0xpc3QuYWRkKCdiJyk7XHJcbiAgICAgICAgZS5jbGFzc0xpc3QucmVtb3ZlKCdhJywgJ2InKTtcclxuICAgICAgICBpZiAoIWUuY2xhc3NMaXN0LmNvbnRhaW5zKCdiJykpIHJldHVybjtcclxuICAgICAgICB2YXIgbmF0aXZlID0gZS5jbGFzc0xpc3QuY29uc3RydWN0b3IucHJvdG90eXBlLnJlbW92ZTtcclxuICAgICAgICBlLmNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICB2YXIgbCA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xyXG4gICAgICAgICAgICBuYXRpdmUuY2FsbCh0aGlzLCBhcmdzW2ldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9KCkpO1xyXG5cclxuICAgIH0odGhpcykpO1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbi8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9Eb2N1bWVudC9kZXRlY3QuanNcclxudmFyIGRldGVjdCA9IChcIkRvY3VtZW50XCIgaW4gdGhpcyk7XHJcblxyXG5pZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbi8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9RG9jdW1lbnQmZmxhZ3M9YWx3YXlzXHJcbmlmICgodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlID09PSBcInVuZGVmaW5lZFwiKSAmJiAodHlwZW9mIGltcG9ydFNjcmlwdHMgIT09IFwiZnVuY3Rpb25cIikpIHtcclxuXHJcblx0aWYgKHRoaXMuSFRNTERvY3VtZW50KSB7IC8vIElFOFxyXG5cclxuXHRcdC8vIEhUTUxEb2N1bWVudCBpcyBhbiBleHRlbnNpb24gb2YgRG9jdW1lbnQuICBJZiB0aGUgYnJvd3NlciBoYXMgSFRNTERvY3VtZW50IGJ1dCBub3QgRG9jdW1lbnQsIHRoZSBmb3JtZXIgd2lsbCBzdWZmaWNlIGFzIGFuIGFsaWFzIGZvciB0aGUgbGF0dGVyLlxyXG5cdFx0dGhpcy5Eb2N1bWVudCA9IHRoaXMuSFRNTERvY3VtZW50O1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdC8vIENyZWF0ZSBhbiBlbXB0eSBmdW5jdGlvbiB0byBhY3QgYXMgdGhlIG1pc3NpbmcgY29uc3RydWN0b3IgZm9yIHRoZSBkb2N1bWVudCBvYmplY3QsIGF0dGFjaCB0aGUgZG9jdW1lbnQgb2JqZWN0IGFzIGl0cyBwcm90b3R5cGUuICBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gYmUgYW5vbnltb3VzIGVsc2UgaXQgaXMgaG9pc3RlZCBhbmQgY2F1c2VzIHRoZSBmZWF0dXJlIGRldGVjdCB0byBwcmVtYXR1cmVseSBwYXNzLCBwcmV2ZW50aW5nIHRoZSBhc3NpZ25tZW50cyBiZWxvdyBiZWluZyBtYWRlLlxyXG5cdFx0dGhpcy5Eb2N1bWVudCA9IHRoaXMuSFRNTERvY3VtZW50ID0gZG9jdW1lbnQuY29uc3RydWN0b3IgPSAobmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gRG9jdW1lbnQoKSB7fScpKCkpO1xyXG5cdFx0dGhpcy5Eb2N1bWVudC5wcm90b3R5cGUgPSBkb2N1bWVudDtcclxuXHR9XHJcbn1cclxuXHJcblxyXG59KVxyXG4uY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbi8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FbGVtZW50L2RldGVjdC5qc1xyXG52YXIgZGV0ZWN0ID0gKCdFbGVtZW50JyBpbiB0aGlzICYmICdIVE1MRWxlbWVudCcgaW4gdGhpcyk7XHJcblxyXG5pZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbi8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9RWxlbWVudCZmbGFncz1hbHdheXNcclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0Ly8gSUU4XHJcblx0aWYgKHdpbmRvdy5FbGVtZW50ICYmICF3aW5kb3cuSFRNTEVsZW1lbnQpIHtcclxuXHRcdHdpbmRvdy5IVE1MRWxlbWVudCA9IHdpbmRvdy5FbGVtZW50O1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly8gY3JlYXRlIEVsZW1lbnQgY29uc3RydWN0b3JcclxuXHR3aW5kb3cuRWxlbWVudCA9IHdpbmRvdy5IVE1MRWxlbWVudCA9IG5ldyBGdW5jdGlvbigncmV0dXJuIGZ1bmN0aW9uIEVsZW1lbnQoKSB7fScpKCk7XHJcblxyXG5cdC8vIGdlbmVyYXRlIHNhbmRib3hlZCBpZnJhbWVcclxuXHR2YXIgdmJvZHkgPSBkb2N1bWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib2R5JykpO1xyXG5cdHZhciBmcmFtZSA9IHZib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpKTtcclxuXHJcblx0Ly8gdXNlIHNhbmRib3hlZCBpZnJhbWUgdG8gcmVwbGljYXRlIEVsZW1lbnQgZnVuY3Rpb25hbGl0eVxyXG5cdHZhciBmcmFtZURvY3VtZW50ID0gZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuXHR2YXIgcHJvdG90eXBlID0gRWxlbWVudC5wcm90b3R5cGUgPSBmcmFtZURvY3VtZW50LmFwcGVuZENoaWxkKGZyYW1lRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnKicpKTtcclxuXHR2YXIgY2FjaGUgPSB7fTtcclxuXHJcblx0Ly8gcG9seWZpbGwgRWxlbWVudC5wcm90b3R5cGUgb24gYW4gZWxlbWVudFxyXG5cdHZhciBzaGl2ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGRlZXApIHtcclxuXHRcdHZhclxyXG5cdFx0Y2hpbGROb2RlcyA9IGVsZW1lbnQuY2hpbGROb2RlcyB8fCBbXSxcclxuXHRcdGluZGV4ID0gLTEsXHJcblx0XHRrZXksIHZhbHVlLCBjaGlsZE5vZGU7XHJcblxyXG5cdFx0aWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgZWxlbWVudC5jb25zdHJ1Y3RvciAhPT0gRWxlbWVudCkge1xyXG5cdFx0XHRlbGVtZW50LmNvbnN0cnVjdG9yID0gRWxlbWVudDtcclxuXHJcblx0XHRcdGZvciAoa2V5IGluIGNhY2hlKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBjYWNoZVtrZXldO1xyXG5cdFx0XHRcdGVsZW1lbnRba2V5XSA9IHZhbHVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0d2hpbGUgKGNoaWxkTm9kZSA9IGRlZXAgJiYgY2hpbGROb2Rlc1srK2luZGV4XSkge1xyXG5cdFx0XHRzaGl2KGNoaWxkTm9kZSwgZGVlcCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XHJcblx0fTtcclxuXHJcblx0dmFyIGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKTtcclxuXHR2YXIgbmF0aXZlQ3JlYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XHJcblx0dmFyIGludGVydmFsO1xyXG5cdHZhciBsb29wTGltaXQgPSAxMDA7XHJcblxyXG5cdHByb3RvdHlwZS5hdHRhY2hFdmVudCgnb25wcm9wZXJ0eWNoYW5nZScsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0dmFyXHJcblx0XHRwcm9wZXJ0eU5hbWUgPSBldmVudC5wcm9wZXJ0eU5hbWUsXHJcblx0XHRub25WYWx1ZSA9ICFjYWNoZS5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eU5hbWUpLFxyXG5cdFx0bmV3VmFsdWUgPSBwcm90b3R5cGVbcHJvcGVydHlOYW1lXSxcclxuXHRcdG9sZFZhbHVlID0gY2FjaGVbcHJvcGVydHlOYW1lXSxcclxuXHRcdGluZGV4ID0gLTEsXHJcblx0XHRlbGVtZW50O1xyXG5cclxuXHRcdHdoaWxlIChlbGVtZW50ID0gZWxlbWVudHNbKytpbmRleF0pIHtcclxuXHRcdFx0aWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEpIHtcclxuXHRcdFx0XHRpZiAobm9uVmFsdWUgfHwgZWxlbWVudFtwcm9wZXJ0eU5hbWVdID09PSBvbGRWYWx1ZSkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudFtwcm9wZXJ0eU5hbWVdID0gbmV3VmFsdWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Y2FjaGVbcHJvcGVydHlOYW1lXSA9IG5ld1ZhbHVlO1xyXG5cdH0pO1xyXG5cclxuXHRwcm90b3R5cGUuY29uc3RydWN0b3IgPSBFbGVtZW50O1xyXG5cclxuXHRpZiAoIXByb3RvdHlwZS5oYXNBdHRyaWJ1dGUpIHtcclxuXHRcdC8vIDxFbGVtZW50Pi5oYXNBdHRyaWJ1dGVcclxuXHRcdHByb3RvdHlwZS5oYXNBdHRyaWJ1dGUgPSBmdW5jdGlvbiBoYXNBdHRyaWJ1dGUobmFtZSkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSkgIT09IG51bGw7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0Ly8gQXBwbHkgRWxlbWVudCBwcm90b3R5cGUgdG8gdGhlIHByZS1leGlzdGluZyBET00gYXMgc29vbiBhcyB0aGUgYm9keSBlbGVtZW50IGFwcGVhcnMuXHJcblx0ZnVuY3Rpb24gYm9keUNoZWNrKCkge1xyXG5cdFx0aWYgKCEobG9vcExpbWl0LS0pKSBjbGVhclRpbWVvdXQoaW50ZXJ2YWwpO1xyXG5cdFx0aWYgKGRvY3VtZW50LmJvZHkgJiYgIWRvY3VtZW50LmJvZHkucHJvdG90eXBlICYmIC8oY29tcGxldGV8aW50ZXJhY3RpdmUpLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7XHJcblx0XHRcdHNoaXYoZG9jdW1lbnQsIHRydWUpO1xyXG5cdFx0XHRpZiAoaW50ZXJ2YWwgJiYgZG9jdW1lbnQuYm9keS5wcm90b3R5cGUpIGNsZWFyVGltZW91dChpbnRlcnZhbCk7XHJcblx0XHRcdHJldHVybiAoISFkb2N1bWVudC5ib2R5LnByb3RvdHlwZSk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cdGlmICghYm9keUNoZWNrKCkpIHtcclxuXHRcdGRvY3VtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGJvZHlDaGVjaztcclxuXHRcdGludGVydmFsID0gc2V0SW50ZXJ2YWwoYm9keUNoZWNrLCAyNSk7XHJcblx0fVxyXG5cclxuXHQvLyBBcHBseSB0byBhbnkgbmV3IGVsZW1lbnRzIGNyZWF0ZWQgYWZ0ZXIgbG9hZFxyXG5cdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KG5vZGVOYW1lKSB7XHJcblx0XHR2YXIgZWxlbWVudCA9IG5hdGl2ZUNyZWF0ZUVsZW1lbnQoU3RyaW5nKG5vZGVOYW1lKS50b0xvd2VyQ2FzZSgpKTtcclxuXHRcdHJldHVybiBzaGl2KGVsZW1lbnQpO1xyXG5cdH07XHJcblxyXG5cdC8vIHJlbW92ZSBzYW5kYm94ZWQgaWZyYW1lXHJcblx0ZG9jdW1lbnQucmVtb3ZlQ2hpbGQodmJvZHkpO1xyXG59KCkpO1xyXG5cclxufSlcclxuLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XHJcblxyXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlLzg3MTdhOWUwNGFjN2FmZjk5YjQ5ODBmYmVkZWFkOTgwMzZiMDkyOWEvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvY2xhc3NMaXN0L2RldGVjdC5qc1xyXG4gICAgdmFyIGRldGVjdCA9IChcclxuICAgICAgJ2RvY3VtZW50JyBpbiB0aGlzICYmIFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICdFbGVtZW50JyBpbiB0aGlzICYmICdjbGFzc0xpc3QnIGluIEVsZW1lbnQucHJvdG90eXBlICYmIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgZS5jbGFzc0xpc3QuYWRkKCdhJywgJ2InKTtcclxuICAgICAgICByZXR1cm4gZS5jbGFzc0xpc3QuY29udGFpbnMoJ2InKTtcclxuICAgICAgfSgpKVxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbiAgICAvLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vY2RuLnBvbHlmaWxsLmlvL3YyL3BvbHlmaWxsLmpzP2ZlYXR1cmVzPUVsZW1lbnQucHJvdG90eXBlLmNsYXNzTGlzdCZmbGFncz1hbHdheXNcclxuICAgIChmdW5jdGlvbiAoZ2xvYmFsKSB7XHJcbiAgICAgIHZhciBkcFN1cHBvcnQgPSB0cnVlO1xyXG4gICAgICB2YXIgZGVmaW5lR2V0dGVyID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgZm4sIGNvbmZpZ3VyYWJsZSkge1xyXG4gICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpXHJcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UgPT09IGRwU3VwcG9ydCA/IHRydWUgOiAhIWNvbmZpZ3VyYWJsZSxcclxuICAgICAgICAgICAgZ2V0OiBmblxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGVsc2Ugb2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18obmFtZSwgZm4pO1xyXG4gICAgICB9O1xyXG4gICAgICAvKiogRW5zdXJlIHRoZSBicm93c2VyIGFsbG93cyBPYmplY3QuZGVmaW5lUHJvcGVydHkgdG8gYmUgdXNlZCBvbiBuYXRpdmUgSmF2YVNjcmlwdCBvYmplY3RzLiAqL1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGRlZmluZUdldHRlcih7fSwgXCJzdXBwb3J0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgZHBTdXBwb3J0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgLyoqIFBvbHlmaWxscyBhIHByb3BlcnR5IHdpdGggYSBET01Ub2tlbkxpc3QgKi9cclxuICAgICAgdmFyIGFkZFByb3AgPSBmdW5jdGlvbiAobywgbmFtZSwgYXR0cikge1xyXG5cclxuICAgICAgICBkZWZpbmVHZXR0ZXIoby5wcm90b3R5cGUsIG5hbWUsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHZhciB0b2tlbkxpc3Q7XHJcblxyXG4gICAgICAgICAgdmFyIFRISVMgPSB0aGlzLFxyXG5cclxuICAgICAgICAgIC8qKiBQcmV2ZW50IHRoaXMgZnJvbSBmaXJpbmcgdHdpY2UgZm9yIHNvbWUgcmVhc29uLiBXaGF0IHRoZSBoZWxsLCBJRS4gKi9cclxuICAgICAgICAgIGdpYmJlcmlzaFByb3BlcnR5ID0gXCJfX2RlZmluZUdldHRlcl9fXCIgKyBcIkRFRklORV9QUk9QRVJUWVwiICsgbmFtZTtcclxuICAgICAgICAgIGlmKFRISVNbZ2liYmVyaXNoUHJvcGVydHldKSByZXR1cm4gdG9rZW5MaXN0O1xyXG4gICAgICAgICAgVEhJU1tnaWJiZXJpc2hQcm9wZXJ0eV0gPSB0cnVlO1xyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogSUU4IGNhbid0IGRlZmluZSBwcm9wZXJ0aWVzIG9uIG5hdGl2ZSBKYXZhU2NyaXB0IG9iamVjdHMsIHNvIHdlJ2xsIHVzZSBhIGR1bWIgaGFjayBpbnN0ZWFkLlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIFdoYXQgdGhpcyBpcyBkb2luZyBpcyBjcmVhdGluZyBhIGR1bW15IGVsZW1lbnQgKFwicmVmbGVjdGlvblwiKSBpbnNpZGUgYSBkZXRhY2hlZCBwaGFudG9tIG5vZGUgKFwibWlycm9yXCIpXHJcbiAgICAgICAgICAgKiB0aGF0IHNlcnZlcyBhcyB0aGUgdGFyZ2V0IG9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBpbnN0ZWFkLiBXaGlsZSB3ZSBjb3VsZCBzaW1wbHkgdXNlIHRoZSBzdWJqZWN0IEhUTUxcclxuICAgICAgICAgICAqIGVsZW1lbnQgaW5zdGVhZCwgdGhpcyB3b3VsZCBjb25mbGljdCB3aXRoIGVsZW1lbnQgdHlwZXMgd2hpY2ggdXNlIGluZGV4ZWQgcHJvcGVydGllcyAoc3VjaCBhcyBmb3JtcyBhbmRcclxuICAgICAgICAgICAqIHNlbGVjdCBsaXN0cykuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGlmIChmYWxzZSA9PT0gZHBTdXBwb3J0KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgdmlzYWdlO1xyXG4gICAgICAgICAgICB2YXIgbWlycm9yID0gYWRkUHJvcC5taXJyb3IgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgdmFyIHJlZmxlY3Rpb25zID0gbWlycm9yLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICAgIHZhciBsID0gcmVmbGVjdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyArK2kpXHJcbiAgICAgICAgICAgICAgaWYgKHJlZmxlY3Rpb25zW2ldLl9SID09PSBUSElTKSB7XHJcbiAgICAgICAgICAgICAgICB2aXNhZ2UgPSByZWZsZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qKiBDb3VsZG4ndCBmaW5kIGFuIGVsZW1lbnQncyByZWZsZWN0aW9uIGluc2lkZSB0aGUgbWlycm9yLiBNYXRlcmlhbGlzZSBvbmUuICovXHJcbiAgICAgICAgICAgIHZpc2FnZSB8fCAodmlzYWdlID0gbWlycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpKTtcclxuXHJcbiAgICAgICAgICAgIHRva2VuTGlzdCA9IERPTVRva2VuTGlzdC5jYWxsKHZpc2FnZSwgVEhJUywgYXR0cik7XHJcbiAgICAgICAgICB9IGVsc2UgdG9rZW5MaXN0ID0gbmV3IERPTVRva2VuTGlzdChUSElTLCBhdHRyKTtcclxuXHJcbiAgICAgICAgICBkZWZpbmVHZXR0ZXIoVEhJUywgbmFtZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdG9rZW5MaXN0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBkZWxldGUgVEhJU1tnaWJiZXJpc2hQcm9wZXJ0eV07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHRva2VuTGlzdDtcclxuICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGFkZFByb3AoZ2xvYmFsLkVsZW1lbnQsIFwiY2xhc3NMaXN0XCIsIFwiY2xhc3NOYW1lXCIpO1xyXG4gICAgICBhZGRQcm9wKGdsb2JhbC5IVE1MRWxlbWVudCwgXCJjbGFzc0xpc3RcIiwgXCJjbGFzc05hbWVcIik7XHJcbiAgICAgIGFkZFByb3AoZ2xvYmFsLkhUTUxMaW5rRWxlbWVudCwgXCJyZWxMaXN0XCIsIFwicmVsXCIpO1xyXG4gICAgICBhZGRQcm9wKGdsb2JhbC5IVE1MQW5jaG9yRWxlbWVudCwgXCJyZWxMaXN0XCIsIFwicmVsXCIpO1xyXG4gICAgICBhZGRQcm9wKGdsb2JhbC5IVE1MQXJlYUVsZW1lbnQsIFwicmVsTGlzdFwiLCBcInJlbFwiKTtcclxuICAgIH0odGhpcykpO1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbmZ1bmN0aW9uIEFjY29yZGlvbiAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbiAgdGhpcy5tb2R1bGVJZCA9ICRtb2R1bGUuZ2V0QXR0cmlidXRlKCdpZCcpO1xyXG4gIHRoaXMuJHNlY3Rpb25zID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yQWxsKCcuZ292dWstYWNjb3JkaW9uX19zZWN0aW9uJyk7XHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbiA9ICcnO1xyXG4gIHRoaXMuYnJvd3NlclN1cHBvcnRzU2Vzc2lvblN0b3JhZ2UgPSBoZWxwZXIuY2hlY2tGb3JTZXNzaW9uU3RvcmFnZSgpO1xyXG5cclxuICB0aGlzLmNvbnRyb2xzQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19jb250cm9scyc7XHJcbiAgdGhpcy5zaG93QWxsQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zaG93LWFsbCc7XHJcbiAgdGhpcy5zaG93QWxsVGV4dENsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2hvdy1hbGwtdGV4dCc7XHJcblxyXG4gIHRoaXMuc2VjdGlvbkV4cGFuZGVkQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLS1leHBhbmRlZCc7XHJcbiAgdGhpcy5zZWN0aW9uQnV0dG9uQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLWJ1dHRvbic7XHJcbiAgdGhpcy5zZWN0aW9uSGVhZGVyQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLWhlYWRlcic7XHJcbiAgdGhpcy5zZWN0aW9uSGVhZGluZ0NsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1oZWFkaW5nJztcclxuICB0aGlzLnNlY3Rpb25IZWFkaW5nVGV4dENsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1oZWFkaW5nLXRleHQnO1xyXG4gIHRoaXMuc2VjdGlvbkhlYWRpbmdUZXh0Rm9jdXNDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24taGVhZGluZy10ZXh0LWZvY3VzJztcclxuXHJcbiAgdGhpcy5zZWN0aW9uU2hvd0hpZGVUb2dnbGVDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tdG9nZ2xlJztcclxuICB0aGlzLnNlY3Rpb25TaG93SGlkZVRvZ2dsZUZvY3VzQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLXRvZ2dsZS1mb2N1cyc7XHJcbiAgdGhpcy5zZWN0aW9uU2hvd0hpZGVUZXh0Q2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLXRvZ2dsZS10ZXh0JztcclxuICB0aGlzLnVwQ2hldnJvbkljb25DbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb24tbmF2X19jaGV2cm9uJztcclxuICB0aGlzLmRvd25DaGV2cm9uSWNvbkNsYXNzID0gJ2dvdnVrLWFjY29yZGlvbi1uYXZfX2NoZXZyb24tLWRvd24nO1xyXG5cclxuICB0aGlzLnNlY3Rpb25TdW1tYXJ5Q2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLXN1bW1hcnknO1xyXG4gIHRoaXMuc2VjdGlvblN1bW1hcnlGb2N1c0NsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1zdW1tYXJ5LWZvY3VzJztcclxufVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBjb21wb25lbnRcclxuQWNjb3JkaW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIENoZWNrIGZvciBtb2R1bGVcclxuICBpZiAoIXRoaXMuJG1vZHVsZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICB0aGlzLmluaXRDb250cm9scygpO1xyXG4gIHRoaXMuaW5pdFNlY3Rpb25IZWFkZXJzKCk7XHJcblxyXG4gIC8vIFNlZSBpZiBcIlNob3cgYWxsIHNlY3Rpb25zXCIgYnV0dG9uIHRleHQgc2hvdWxkIGJlIHVwZGF0ZWRcclxuICB2YXIgYXJlQWxsU2VjdGlvbnNPcGVuID0gdGhpcy5jaGVja0lmQWxsU2VjdGlvbnNPcGVuKCk7XHJcbiAgdGhpcy51cGRhdGVTaG93QWxsQnV0dG9uKGFyZUFsbFNlY3Rpb25zT3Blbik7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXNlIGNvbnRyb2xzIGFuZCBzZXQgYXR0cmlidXRlc1xyXG5BY2NvcmRpb24ucHJvdG90eXBlLmluaXRDb250cm9scyA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBDcmVhdGUgXCJTaG93IGFsbFwiIGJ1dHRvbiBhbmQgc2V0IGF0dHJpYnV0ZXNcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdGhpcy5zaG93QWxsQ2xhc3MpO1xyXG4gIHRoaXMuJHNob3dBbGxCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcblxyXG4gIC8vIENyZWF0ZSBpY29uLCBhZGQgdG8gZWxlbWVudFxyXG4gIHZhciAkaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAkaWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMudXBDaGV2cm9uSWNvbkNsYXNzKTtcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uLmFwcGVuZENoaWxkKCRpY29uKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGNvbnRyb2wgd3JhcHBlciBhbmQgYWRkIGNvbnRyb2xzIHRvIGl0XHJcbiAgdmFyICRhY2NvcmRpb25Db250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICRhY2NvcmRpb25Db250cm9scy5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdGhpcy5jb250cm9sc0NsYXNzKTtcclxuICAkYWNjb3JkaW9uQ29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy4kc2hvd0FsbEJ1dHRvbik7XHJcbiAgdGhpcy4kbW9kdWxlLmluc2VydEJlZm9yZSgkYWNjb3JkaW9uQ29udHJvbHMsIHRoaXMuJG1vZHVsZS5maXJzdENoaWxkKTtcclxuXHJcbiAgLy8gQnVpbGQgYWRkaXRpb25hbCB3cmFwcGVyIGZvciBTaG93IGFsbCB0b2dnbGUgdGV4dCBhbmQgcGxhY2UgYWZ0ZXIgaWNvblxyXG4gIHZhciAkd3JhcHBlcnNob3dBbGxUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICR3cmFwcGVyc2hvd0FsbFRleHQuY2xhc3NMaXN0LmFkZCh0aGlzLnNob3dBbGxUZXh0Q2xhc3MpO1xyXG4gIHRoaXMuJHNob3dBbGxCdXR0b24uYXBwZW5kQ2hpbGQoJHdyYXBwZXJzaG93QWxsVGV4dCk7XHJcblxyXG4gIC8vIEhhbmRsZSBjbGljayBldmVudHMgb24gdGhlIHNob3cvaGlkZSBhbGwgYnV0dG9uXHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25TaG93T3JIaWRlQWxsVG9nZ2xlLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLy8gSW5pdGlhbGlzZSBzZWN0aW9uIGhlYWRlcnNcclxuQWNjb3JkaW9uLnByb3RvdHlwZS5pbml0U2VjdGlvbkhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gTG9vcCB0aHJvdWdoIHNlY3Rpb24gaGVhZGVyc1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCh0aGlzLiRzZWN0aW9ucywgZnVuY3Rpb24gKCRzZWN0aW9uLCBpKSB7XHJcbiAgICAvLyBTZXQgaGVhZGVyIGF0dHJpYnV0ZXNcclxuICAgIHZhciAkaGVhZGVyID0gJHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlY3Rpb25IZWFkZXJDbGFzcyk7XHJcbiAgICB0aGlzLmNvbnN0cnVjdEhlYWRlck1hcmt1cCgkaGVhZGVyLCBpKTtcclxuICAgIHRoaXMuc2V0RXhwYW5kZWQodGhpcy5pc0V4cGFuZGVkKCRzZWN0aW9uKSwgJHNlY3Rpb24pO1xyXG5cclxuICAgIC8vIEhhbmRsZSBldmVudHNcclxuICAgICRoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uU2VjdGlvblRvZ2dsZS5iaW5kKHRoaXMsICRzZWN0aW9uKSk7XHJcblxyXG4gICAgLy8gU2VlIGlmIHRoZXJlIGlzIGFueSBzdGF0ZSBzdG9yZWQgaW4gc2Vzc2lvblN0b3JhZ2UgYW5kIHNldCB0aGUgc2VjdGlvbnMgdG9cclxuICAgIC8vIG9wZW4gb3IgY2xvc2VkLlxyXG4gICAgdGhpcy5zZXRJbml0aWFsU3RhdGUoJHNlY3Rpb24pO1xyXG4gIH0uYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG5BY2NvcmRpb24ucHJvdG90eXBlLmNvbnN0cnVjdEhlYWRlck1hcmt1cCA9IGZ1bmN0aW9uICgkaGVhZGVyV3JhcHBlciwgaW5kZXgpIHtcclxuICB2YXIgJHNwYW4gPSAkaGVhZGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvbkJ1dHRvbkNsYXNzKTtcclxuICB2YXIgJGhlYWRpbmcgPSAkaGVhZGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvbkhlYWRpbmdDbGFzcyk7XHJcbiAgdmFyICRzdW1tYXJ5ID0gJGhlYWRlcldyYXBwZXIucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlY3Rpb25TdW1tYXJ5Q2xhc3MpO1xyXG5cclxuICAvLyBDcmVhdGUgYSBidXR0b24gZWxlbWVudCB0aGF0IHdpbGwgcmVwbGFjZSB0aGUgJy5nb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tYnV0dG9uJyBzcGFuXHJcbiAgdmFyICRidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAkYnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuICAkYnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHRoaXMubW9kdWxlSWQgKyAnLWNvbnRlbnQtJyArIChpbmRleCArIDEpKTtcclxuXHJcbiAgLy8gQ29weSBhbGwgYXR0cmlidXRlcyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvYXR0cmlidXRlcykgZnJvbSAkc3BhbiB0byAkYnV0dG9uXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc3Bhbi5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgYXR0ciA9ICRzcGFuLmF0dHJpYnV0ZXMuaXRlbShpKTtcclxuICAgIC8vIEFkZCBhbGwgYXR0cmlidXRlcyBidXQgbm90IElEIGFzIHRoaXMgaXMgYmVpbmcgYWRkZWQgdG9cclxuICAgIC8vIHRoZSBzZWN0aW9uIGhlYWRpbmcgKCRoZWFkaW5nVGV4dClcclxuICAgIGlmIChhdHRyLm5vZGVOYW1lICE9PSAnaWQnKSB7XHJcbiAgICAgICRidXR0b24uc2V0QXR0cmlidXRlKGF0dHIubm9kZU5hbWUsIGF0dHIubm9kZVZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIGhlYWRpbmcgdGV4dCBzbyBpdCBjYW4gYmUgc3R5bGVkXHJcbiAgdmFyICRoZWFkaW5nVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAkaGVhZGluZ1RleHQuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25IZWFkaW5nVGV4dENsYXNzKTtcclxuICAvLyBDb3B5IHRoZSBzcGFuIElEIHRvIHRoZSBoZWFkaW5nIHRleHQgdG8gYWxsb3cgaXQgdG8gYmUgcmVmZXJlbmNlZCBieSBgYXJpYS1sYWJlbGxlZGJ5YCBvbiB0aGVcclxuICAvLyBoaWRkZW4gY29udGVudCBhcmVhIHdpdGhvdXQgXCJTaG93IHRoaXMgc2VjdGlvblwiXHJcbiAgJGhlYWRpbmdUZXh0LmlkID0gJHNwYW4uaWQ7XHJcblxyXG4gIC8vIENyZWF0ZSBhbiBpbm5lciBoZWFkaW5nIHRleHQgY29udGFpbmVyIHRvIGxpbWl0IHRoZSB3aWR0aCBvZiB0aGUgZm9jdXMgc3RhdGVcclxuICB2YXIgJGhlYWRpbmdUZXh0Rm9jdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJGhlYWRpbmdUZXh0Rm9jdXMuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25IZWFkaW5nVGV4dEZvY3VzQ2xhc3MpO1xyXG4gICRoZWFkaW5nVGV4dC5hcHBlbmRDaGlsZCgkaGVhZGluZ1RleHRGb2N1cyk7XHJcbiAgLy8gc3BhbiBjb3VsZCBjb250YWluIEhUTUwgZWxlbWVudHMgKHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvMjAxMS9XRC1odG1sNS0yMDExMDUyNS9jb250ZW50LW1vZGVscy5odG1sI3BocmFzaW5nLWNvbnRlbnQpXHJcbiAgJGhlYWRpbmdUZXh0Rm9jdXMuaW5uZXJIVE1MID0gJHNwYW4uaW5uZXJIVE1MO1xyXG5cclxuICAvLyBDcmVhdGUgY29udGFpbmVyIGZvciBzaG93IC8gaGlkZSBpY29ucyBhbmQgdGV4dC5cclxuICB2YXIgJHNob3dUb2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJHNob3dUb2dnbGUuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25TaG93SGlkZVRvZ2dsZUNsYXNzKTtcclxuICAvLyBUZWxsIEdvb2dsZSBub3QgdG8gaW5kZXggdGhlICdzaG93JyB0ZXh0IGFzIHBhcnQgb2YgdGhlIGhlYWRpbmdcclxuICAvLyBGb3IgdGhlIHNuaXBwZXQgdG8gd29yayB3aXRoIEphdmFTY3JpcHQsIGl0IG11c3QgYmUgYWRkZWQgYmVmb3JlIGFkZGluZyB0aGUgcGFnZSBlbGVtZW50IHRvIHRoZVxyXG4gIC8vIHBhZ2UncyBET00uIFNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9zZWFyY2gvZG9jcy9hZHZhbmNlZC9yb2JvdHMvcm9ib3RzX21ldGFfdGFnI2RhdGEtbm9zbmlwcGV0LWF0dHJcclxuICAkc2hvd1RvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbm9zbmlwcGV0JywgJycpO1xyXG4gIC8vIENyZWF0ZSBhbiBpbm5lciBjb250YWluZXIgdG8gbGltaXQgdGhlIHdpZHRoIG9mIHRoZSBmb2N1cyBzdGF0ZVxyXG4gIHZhciAkc2hvd1RvZ2dsZUZvY3VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICRzaG93VG9nZ2xlRm9jdXMuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25TaG93SGlkZVRvZ2dsZUZvY3VzQ2xhc3MpO1xyXG4gICRzaG93VG9nZ2xlLmFwcGVuZENoaWxkKCRzaG93VG9nZ2xlRm9jdXMpO1xyXG4gIC8vIENyZWF0ZSB3cmFwcGVyIGZvciB0aGUgc2hvdyAvIGhpZGUgdGV4dC4gQXBwZW5kIHRleHQgYWZ0ZXIgdGhlIHNob3cvaGlkZSBpY29uXHJcbiAgdmFyICRzaG93VG9nZ2xlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICB2YXIgJGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJGljb24uY2xhc3NMaXN0LmFkZCh0aGlzLnVwQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgJHNob3dUb2dnbGVGb2N1cy5hcHBlbmRDaGlsZCgkaWNvbik7XHJcbiAgJHNob3dUb2dnbGVUZXh0LmNsYXNzTGlzdC5hZGQodGhpcy5zZWN0aW9uU2hvd0hpZGVUZXh0Q2xhc3MpO1xyXG4gICRzaG93VG9nZ2xlRm9jdXMuYXBwZW5kQ2hpbGQoJHNob3dUb2dnbGVUZXh0KTtcclxuXHJcbiAgLy8gQXBwZW5kIGVsZW1lbnRzIHRvIHRoZSBidXR0b246XHJcbiAgLy8gMS4gSGVhZGluZyB0ZXh0XHJcbiAgLy8gMi4gUHVuY3R1YXRpb25cclxuICAvLyAzLiAoT3B0aW9uYWw6IFN1bW1hcnkgbGluZSBmb2xsb3dlZCBieSBwdW5jdHVhdGlvbilcclxuICAvLyA0LiBTaG93IC8gaGlkZSB0b2dnbGVcclxuICAkYnV0dG9uLmFwcGVuZENoaWxkKCRoZWFkaW5nVGV4dCk7XHJcbiAgJGJ1dHRvbi5hcHBlbmRDaGlsZCh0aGlzLmdldEJ1dHRvblB1bmN0dWF0aW9uRWwoKSk7XHJcblxyXG4gIC8vIElmIHN1bW1hcnkgY29udGVudCBleGlzdHMgYWRkIHRvIERPTSBpbiBjb3JyZWN0IG9yZGVyXHJcbiAgaWYgKHR5cGVvZiAoJHN1bW1hcnkpICE9PSAndW5kZWZpbmVkJyAmJiAkc3VtbWFyeSAhPT0gbnVsbCkge1xyXG4gICAgLy8gQ3JlYXRlIGEgbmV3IGBzcGFuYCBlbGVtZW50IGFuZCBjb3B5IHRoZSBzdW1tYXJ5IGxpbmUgY29udGVudCBmcm9tIHRoZSBvcmlnaW5hbCBgZGl2YCB0byB0aGVcclxuICAgIC8vIG5ldyBgc3BhbmBcclxuICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB0aGUgc3VtbWFyeSBsaW5lIHRleHQgaXMgbm93IGluc2lkZSBhIGJ1dHRvbiBlbGVtZW50LCB3aGljaCBjYW4gb25seSBjb250YWluXHJcbiAgICAvLyBwaHJhc2luZyBjb250ZW50XHJcbiAgICB2YXIgJHN1bW1hcnlTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgLy8gQ3JlYXRlIGFuIGlubmVyIHN1bW1hcnkgY29udGFpbmVyIHRvIGxpbWl0IHRoZSB3aWR0aCBvZiB0aGUgc3VtbWFyeSBmb2N1cyBzdGF0ZVxyXG4gICAgdmFyICRzdW1tYXJ5U3BhbkZvY3VzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgJHN1bW1hcnlTcGFuRm9jdXMuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25TdW1tYXJ5Rm9jdXNDbGFzcyk7XHJcbiAgICAkc3VtbWFyeVNwYW4uYXBwZW5kQ2hpbGQoJHN1bW1hcnlTcGFuRm9jdXMpO1xyXG5cclxuICAgIC8vIEdldCBvcmlnaW5hbCBhdHRyaWJ1dGVzLCBhbmQgcGFzcyB0aGVtIHRvIHRoZSByZXBsYWNlbWVudFxyXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSAkc3VtbWFyeS5hdHRyaWJ1dGVzLmxlbmd0aDsgaiA8IGw7ICsraikge1xyXG4gICAgICB2YXIgbm9kZU5hbWUgPSAkc3VtbWFyeS5hdHRyaWJ1dGVzLml0ZW0oaikubm9kZU5hbWU7XHJcbiAgICAgIHZhciBub2RlVmFsdWUgPSAkc3VtbWFyeS5hdHRyaWJ1dGVzLml0ZW0oaikubm9kZVZhbHVlO1xyXG4gICAgICAkc3VtbWFyeVNwYW4uc2V0QXR0cmlidXRlKG5vZGVOYW1lLCBub2RlVmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvcHkgb3JpZ2luYWwgY29udGVudHMgb2Ygc3VtbWFyeSB0byB0aGUgbmV3IHN1bW1hcnkgc3BhblxyXG4gICAgJHN1bW1hcnlTcGFuRm9jdXMuaW5uZXJIVE1MID0gJHN1bW1hcnkuaW5uZXJIVE1MO1xyXG5cclxuICAgIC8vIFJlcGxhY2UgdGhlIG9yaWdpbmFsIHN1bW1hcnkgYGRpdmAgd2l0aCB0aGUgbmV3IHN1bW1hcnkgYHNwYW5gXHJcbiAgICAkc3VtbWFyeS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCgkc3VtbWFyeVNwYW4sICRzdW1tYXJ5KTtcclxuXHJcbiAgICAkYnV0dG9uLmFwcGVuZENoaWxkKCRzdW1tYXJ5U3Bhbik7XHJcbiAgICAkYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMuZ2V0QnV0dG9uUHVuY3R1YXRpb25FbCgpKTtcclxuICB9XHJcblxyXG4gICRidXR0b24uYXBwZW5kQ2hpbGQoJHNob3dUb2dnbGUpO1xyXG5cclxuICAkaGVhZGluZy5yZW1vdmVDaGlsZCgkc3Bhbik7XHJcbiAgJGhlYWRpbmcuYXBwZW5kQ2hpbGQoJGJ1dHRvbik7XHJcbn07XHJcblxyXG4vLyBXaGVuIHNlY3Rpb24gdG9nZ2xlZCwgc2V0IGFuZCBzdG9yZSBzdGF0ZVxyXG5BY2NvcmRpb24ucHJvdG90eXBlLm9uU2VjdGlvblRvZ2dsZSA9IGZ1bmN0aW9uICgkc2VjdGlvbikge1xyXG4gIHZhciBleHBhbmRlZCA9IHRoaXMuaXNFeHBhbmRlZCgkc2VjdGlvbik7XHJcbiAgdGhpcy5zZXRFeHBhbmRlZCghZXhwYW5kZWQsICRzZWN0aW9uKTtcclxuXHJcbiAgLy8gU3RvcmUgdGhlIHN0YXRlIGluIHNlc3Npb25TdG9yYWdlIHdoZW4gYSBjaGFuZ2UgaXMgdHJpZ2dlcmVkXHJcbiAgdGhpcy5zdG9yZVN0YXRlKCRzZWN0aW9uKTtcclxufTtcclxuXHJcbi8vIFdoZW4gT3Blbi9DbG9zZSBBbGwgdG9nZ2xlZCwgc2V0IGFuZCBzdG9yZSBzdGF0ZVxyXG5BY2NvcmRpb24ucHJvdG90eXBlLm9uU2hvd09ySGlkZUFsbFRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXM7XHJcbiAgdmFyICRzZWN0aW9ucyA9IHRoaXMuJHNlY3Rpb25zO1xyXG4gIHZhciBub3dFeHBhbmRlZCA9ICF0aGlzLmNoZWNrSWZBbGxTZWN0aW9uc09wZW4oKTtcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRzZWN0aW9ucywgZnVuY3Rpb24gKCRzZWN0aW9uKSB7XHJcbiAgICAkbW9kdWxlLnNldEV4cGFuZGVkKG5vd0V4cGFuZGVkLCAkc2VjdGlvbik7XHJcbiAgICAvLyBTdG9yZSB0aGUgc3RhdGUgaW4gc2Vzc2lvblN0b3JhZ2Ugd2hlbiBhIGNoYW5nZSBpcyB0cmlnZ2VyZWRcclxuICAgICRtb2R1bGUuc3RvcmVTdGF0ZSgkc2VjdGlvbik7XHJcbiAgfSk7XHJcblxyXG4gICRtb2R1bGUudXBkYXRlU2hvd0FsbEJ1dHRvbihub3dFeHBhbmRlZCk7XHJcbn07XHJcblxyXG4vLyBTZXQgc2VjdGlvbiBhdHRyaWJ1dGVzIHdoZW4gb3BlbmVkL2Nsb3NlZFxyXG5BY2NvcmRpb24ucHJvdG90eXBlLnNldEV4cGFuZGVkID0gZnVuY3Rpb24gKGV4cGFuZGVkLCAkc2VjdGlvbikge1xyXG4gIHZhciAkaWNvbiA9ICRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy51cENoZXZyb25JY29uQ2xhc3MpO1xyXG4gIHZhciAkc2hvd0hpZGVUZXh0ID0gJHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlY3Rpb25TaG93SGlkZVRleHRDbGFzcyk7XHJcbiAgdmFyICRidXR0b24gPSAkc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvbkJ1dHRvbkNsYXNzKTtcclxuICB2YXIgbmV3QnV0dG9uVGV4dCA9IGV4cGFuZGVkID8gJ0hpZGUnIDogJ1Nob3cnO1xyXG5cclxuICAvLyBCdWlsZCBhZGRpdGlvbmFsIGNvcHkgb2YgXCJ0aGlzIHNlY3Rpb25cIiBmb3IgYXNzaXN0aXZlIHRlY2hub2xvZ3kgYW5kIHBsYWNlIGluc2lkZSB0b2dnbGUgbGlua1xyXG4gIHZhciAkdmlzdWFsbHlIaWRkZW5UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICR2aXN1YWxseUhpZGRlblRleHQuY2xhc3NMaXN0LmFkZCgnZ292dWstdmlzdWFsbHktaGlkZGVuJyk7XHJcbiAgJHZpc3VhbGx5SGlkZGVuVGV4dC5pbm5lckhUTUwgPSAnIHRoaXMgc2VjdGlvbic7XHJcblxyXG4gICRzaG93SGlkZVRleHQuaW5uZXJIVE1MID0gbmV3QnV0dG9uVGV4dDtcclxuICAkc2hvd0hpZGVUZXh0LmFwcGVuZENoaWxkKCR2aXN1YWxseUhpZGRlblRleHQpO1xyXG4gICRidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZXhwYW5kZWQpO1xyXG5cclxuICAvLyBTd2FwIGljb24sIGNoYW5nZSBjbGFzc1xyXG4gIGlmIChleHBhbmRlZCkge1xyXG4gICAgJHNlY3Rpb24uY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25FeHBhbmRlZENsYXNzKTtcclxuICAgICRpY29uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5kb3duQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICRzZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZWN0aW9uRXhwYW5kZWRDbGFzcyk7XHJcbiAgICAkaWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMuZG93bkNoZXZyb25JY29uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgLy8gU2VlIGlmIFwiU2hvdyBhbGwgc2VjdGlvbnNcIiBidXR0b24gdGV4dCBzaG91bGQgYmUgdXBkYXRlZFxyXG4gIHZhciBhcmVBbGxTZWN0aW9uc09wZW4gPSB0aGlzLmNoZWNrSWZBbGxTZWN0aW9uc09wZW4oKTtcclxuICB0aGlzLnVwZGF0ZVNob3dBbGxCdXR0b24oYXJlQWxsU2VjdGlvbnNPcGVuKTtcclxufTtcclxuXHJcbi8vIEdldCBzdGF0ZSBvZiBzZWN0aW9uXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuaXNFeHBhbmRlZCA9IGZ1bmN0aW9uICgkc2VjdGlvbikge1xyXG4gIHJldHVybiAkc2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnModGhpcy5zZWN0aW9uRXhwYW5kZWRDbGFzcylcclxufTtcclxuXHJcbi8vIENoZWNrIGlmIGFsbCBzZWN0aW9ucyBhcmUgb3BlblxyXG5BY2NvcmRpb24ucHJvdG90eXBlLmNoZWNrSWZBbGxTZWN0aW9uc09wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gR2V0IGEgY291bnQgb2YgYWxsIHRoZSBBY2NvcmRpb24gc2VjdGlvbnNcclxuICB2YXIgc2VjdGlvbnNDb3VudCA9IHRoaXMuJHNlY3Rpb25zLmxlbmd0aDtcclxuICAvLyBHZXQgYSBjb3VudCBvZiBhbGwgQWNjb3JkaW9uIHNlY3Rpb25zIHRoYXQgYXJlIGV4cGFuZGVkXHJcbiAgdmFyIGV4cGFuZGVkU2VjdGlvbkNvdW50ID0gdGhpcy4kbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5zZWN0aW9uRXhwYW5kZWRDbGFzcykubGVuZ3RoO1xyXG4gIHZhciBhcmVBbGxTZWN0aW9uc09wZW4gPSBzZWN0aW9uc0NvdW50ID09PSBleHBhbmRlZFNlY3Rpb25Db3VudDtcclxuXHJcbiAgcmV0dXJuIGFyZUFsbFNlY3Rpb25zT3BlblxyXG59O1xyXG5cclxuLy8gVXBkYXRlIFwiU2hvdyBhbGwgc2VjdGlvbnNcIiBidXR0b25cclxuQWNjb3JkaW9uLnByb3RvdHlwZS51cGRhdGVTaG93QWxsQnV0dG9uID0gZnVuY3Rpb24gKGV4cGFuZGVkKSB7XHJcbiAgdmFyICRzaG93QWxsSWNvbiA9IHRoaXMuJHNob3dBbGxCdXR0b24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnVwQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgdmFyICRzaG93QWxsVGV4dCA9IHRoaXMuJHNob3dBbGxCdXR0b24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNob3dBbGxUZXh0Q2xhc3MpO1xyXG4gIHZhciBuZXdCdXR0b25UZXh0ID0gZXhwYW5kZWQgPyAnSGlkZSBhbGwgc2VjdGlvbnMnIDogJ1Nob3cgYWxsIHNlY3Rpb25zJztcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGV4cGFuZGVkKTtcclxuICAkc2hvd0FsbFRleHQuaW5uZXJIVE1MID0gbmV3QnV0dG9uVGV4dDtcclxuXHJcbiAgLy8gU3dhcCBpY29uLCB0b2dnbGUgY2xhc3NcclxuICBpZiAoZXhwYW5kZWQpIHtcclxuICAgICRzaG93QWxsSWNvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZG93bkNoZXZyb25JY29uQ2xhc3MpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkc2hvd0FsbEljb24uY2xhc3NMaXN0LmFkZCh0aGlzLmRvd25DaGV2cm9uSWNvbkNsYXNzKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBDaGVjayBmb3IgYHdpbmRvdy5zZXNzaW9uU3RvcmFnZWAsIGFuZCB0aGF0IGl0IGFjdHVhbGx5IHdvcmtzLlxyXG52YXIgaGVscGVyID0ge1xyXG4gIGNoZWNrRm9yU2Vzc2lvblN0b3JhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0ZXN0U3RyaW5nID0gJ3RoaXMgaXMgdGhlIHRlc3Qgc3RyaW5nJztcclxuICAgIHZhciByZXN1bHQ7XHJcbiAgICB0cnkge1xyXG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh0ZXN0U3RyaW5nLCB0ZXN0U3RyaW5nKTtcclxuICAgICAgcmVzdWx0ID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0odGVzdFN0cmluZykgPT09IHRlc3RTdHJpbmcudG9TdHJpbmcoKTtcclxuICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odGVzdFN0cmluZyk7XHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vLyBTZXQgdGhlIHN0YXRlIG9mIHRoZSBhY2NvcmRpb25zIGluIHNlc3Npb25TdG9yYWdlXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuc3RvcmVTdGF0ZSA9IGZ1bmN0aW9uICgkc2VjdGlvbikge1xyXG4gIGlmICh0aGlzLmJyb3dzZXJTdXBwb3J0c1Nlc3Npb25TdG9yYWdlKSB7XHJcbiAgICAvLyBXZSBuZWVkIGEgdW5pcXVlIHdheSBvZiBpZGVudGlmeWluZyBlYWNoIGNvbnRlbnQgaW4gdGhlIEFjY29yZGlvbi4gU2luY2VcclxuICAgIC8vIGFuIGAjaWRgIHNob3VsZCBiZSB1bmlxdWUgYW5kIGFuIGBpZGAgaXMgcmVxdWlyZWQgZm9yIGBhcmlhLWAgYXR0cmlidXRlc1xyXG4gICAgLy8gYGlkYCBjYW4gYmUgc2FmZWx5IHVzZWQuXHJcbiAgICB2YXIgJGJ1dHRvbiA9ICRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWN0aW9uQnV0dG9uQ2xhc3MpO1xyXG5cclxuICAgIGlmICgkYnV0dG9uKSB7XHJcbiAgICAgIHZhciBjb250ZW50SWQgPSAkYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xyXG4gICAgICB2YXIgY29udGVudFN0YXRlID0gJGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKTtcclxuXHJcbiAgICAgIC8vIE9ubHkgc2V0IHRoZSBzdGF0ZSB3aGVuIGJvdGggYGNvbnRlbnRJZGAgYW5kIGBjb250ZW50U3RhdGVgIGFyZSB0YWtlbiBmcm9tIHRoZSBET00uXHJcbiAgICAgIGlmIChjb250ZW50SWQgJiYgY29udGVudFN0YXRlKSB7XHJcbiAgICAgICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oY29udGVudElkLCBjb250ZW50U3RhdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gUmVhZCB0aGUgc3RhdGUgb2YgdGhlIGFjY29yZGlvbnMgZnJvbSBzZXNzaW9uU3RvcmFnZVxyXG5BY2NvcmRpb24ucHJvdG90eXBlLnNldEluaXRpYWxTdGF0ZSA9IGZ1bmN0aW9uICgkc2VjdGlvbikge1xyXG4gIGlmICh0aGlzLmJyb3dzZXJTdXBwb3J0c1Nlc3Npb25TdG9yYWdlKSB7XHJcbiAgICB2YXIgJGJ1dHRvbiA9ICRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWN0aW9uQnV0dG9uQ2xhc3MpO1xyXG5cclxuICAgIGlmICgkYnV0dG9uKSB7XHJcbiAgICAgIHZhciBjb250ZW50SWQgPSAkYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xyXG4gICAgICB2YXIgY29udGVudFN0YXRlID0gY29udGVudElkID8gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oY29udGVudElkKSA6IG51bGw7XHJcblxyXG4gICAgICBpZiAoY29udGVudFN0YXRlICE9PSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5zZXRFeHBhbmRlZChjb250ZW50U3RhdGUgPT09ICd0cnVlJywgJHNlY3Rpb24pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiogQ3JlYXRlIGFuIGVsZW1lbnQgdG8gaW1wcm92ZSBzZW1hbnRpY3Mgb2YgdGhlIHNlY3Rpb24gYnV0dG9uIHdpdGggcHVuY3R1YXRpb25cclxuKiBAcmV0dXJuIHtvYmplY3R9IERPTSBlbGVtZW50XHJcbipcclxuKiBVc2VkIHRvIGFkZCBwYXVzZSAod2l0aCBhIGNvbW1hKSBmb3IgYXNzaXN0aXZlIHRlY2hub2xvZ3kuXHJcbiogRXhhbXBsZTogW2hlYWRpbmddU2VjdGlvbiBBICxbcGF1c2VdIFNob3cgdGhpcyBzZWN0aW9uLlxyXG4qIGh0dHBzOi8vYWNjZXNzaWJpbGl0eS5ibG9nLmdvdi51ay8yMDE3LzEyLzE4L3doYXQtd29ya2luZy1vbi1nb3YtdWstbmF2aWdhdGlvbi10YXVnaHQtdXMtYWJvdXQtYWNjZXNzaWJpbGl0eS9cclxuKlxyXG4qIEFkZGluZyBwdW5jdHVhdGlvbiB0byB0aGUgYnV0dG9uIGNhbiBhbHNvIGltcHJvdmUgaXRzIGdlbmVyYWwgc2VtYW50aWNzIGJ5IGRpdmlkaW5nIGl0cyBjb250ZW50c1xyXG4qIGludG8gdGhlbWF0aWMgY2h1bmtzLlxyXG4qIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWxwaGFnb3YvZ292dWstZnJvbnRlbmQvaXNzdWVzLzIzMjcjaXNzdWVjb21tZW50LTkyMjk1NzQ0MlxyXG4qL1xyXG5BY2NvcmRpb24ucHJvdG90eXBlLmdldEJ1dHRvblB1bmN0dWF0aW9uRWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRwdW5jdHVhdGlvbkVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICRwdW5jdHVhdGlvbkVsLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLXZpc3VhbGx5LWhpZGRlbicsICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24taGVhZGluZy1kaXZpZGVyJyk7XHJcbiAgJHB1bmN0dWF0aW9uRWwuaW5uZXJIVE1MID0gJywgJztcclxuICByZXR1cm4gJHB1bmN0dWF0aW9uRWxcclxufTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbi8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9XaW5kb3cvZGV0ZWN0LmpzXHJcbnZhciBkZXRlY3QgPSAoJ1dpbmRvdycgaW4gdGhpcyk7XHJcblxyXG5pZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbi8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9V2luZG93JmZsYWdzPWFsd2F5c1xyXG5pZiAoKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSA9PT0gXCJ1bmRlZmluZWRcIikgJiYgKHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSBcImZ1bmN0aW9uXCIpKSB7XHJcblx0KGZ1bmN0aW9uIChnbG9iYWwpIHtcclxuXHRcdGlmIChnbG9iYWwuY29uc3RydWN0b3IpIHtcclxuXHRcdFx0Z2xvYmFsLldpbmRvdyA9IGdsb2JhbC5jb25zdHJ1Y3RvcjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdChnbG9iYWwuV2luZG93ID0gZ2xvYmFsLmNvbnN0cnVjdG9yID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gV2luZG93KCkge30nKSgpKS5wcm90b3R5cGUgPSB0aGlzO1xyXG5cdFx0fVxyXG5cdH0odGhpcykpO1xyXG59XHJcblxyXG59KVxyXG4uY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbi8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FdmVudC9kZXRlY3QuanNcclxudmFyIGRldGVjdCA9IChcclxuICAoZnVuY3Rpb24oZ2xvYmFsKSB7XHJcblxyXG4gIFx0aWYgKCEoJ0V2ZW50JyBpbiBnbG9iYWwpKSByZXR1cm4gZmFsc2U7XHJcbiAgXHRpZiAodHlwZW9mIGdsb2JhbC5FdmVudCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRydWU7XHJcblxyXG4gIFx0dHJ5IHtcclxuXHJcbiAgXHRcdC8vIEluIElFIDktMTEsIHRoZSBFdmVudCBvYmplY3QgZXhpc3RzIGJ1dCBjYW5ub3QgYmUgaW5zdGFudGlhdGVkXHJcbiAgXHRcdG5ldyBFdmVudCgnY2xpY2snKTtcclxuICBcdFx0cmV0dXJuIHRydWU7XHJcbiAgXHR9IGNhdGNoKGUpIHtcclxuICBcdFx0cmV0dXJuIGZhbHNlO1xyXG4gIFx0fVxyXG4gIH0odGhpcykpXHJcbik7XHJcblxyXG5pZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbi8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9RXZlbnQmZmxhZ3M9YWx3YXlzXHJcbihmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHVubGlzdGVuYWJsZVdpbmRvd0V2ZW50cyA9IHtcclxuXHRcdGNsaWNrOiAxLFxyXG5cdFx0ZGJsY2xpY2s6IDEsXHJcblx0XHRrZXl1cDogMSxcclxuXHRcdGtleXByZXNzOiAxLFxyXG5cdFx0a2V5ZG93bjogMSxcclxuXHRcdG1vdXNlZG93bjogMSxcclxuXHRcdG1vdXNldXA6IDEsXHJcblx0XHRtb3VzZW1vdmU6IDEsXHJcblx0XHRtb3VzZW92ZXI6IDEsXHJcblx0XHRtb3VzZWVudGVyOiAxLFxyXG5cdFx0bW91c2VsZWF2ZTogMSxcclxuXHRcdG1vdXNlb3V0OiAxLFxyXG5cdFx0c3RvcmFnZTogMSxcclxuXHRcdHN0b3JhZ2Vjb21taXQ6IDEsXHJcblx0XHR0ZXh0aW5wdXQ6IDFcclxuXHR9O1xyXG5cclxuXHQvLyBUaGlzIHBvbHlmaWxsIGRlcGVuZHMgb24gYXZhaWxhYmlsaXR5IG9mIGBkb2N1bWVudGAgc28gd2lsbCBub3QgcnVuIGluIGEgd29ya2VyXHJcblx0Ly8gSG93ZXZlciwgd2UgYXNzc3VtZSB0aGVyZSBhcmUgbm8gYnJvd3NlcnMgd2l0aCB3b3JrZXIgc3VwcG9ydCB0aGF0IGxhY2sgcHJvcGVyXHJcblx0Ly8gc3VwcG9ydCBmb3IgYEV2ZW50YCB3aXRoaW4gdGhlIHdvcmtlclxyXG5cdGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XHJcblxyXG5cdGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIGVsZW1lbnQpIHtcclxuXHRcdHZhclxyXG5cdFx0aW5kZXggPSAtMSxcclxuXHRcdGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcclxuXHJcblx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xyXG5cdFx0XHRpZiAoaW5kZXggaW4gYXJyYXkgJiYgYXJyYXlbaW5kZXhdID09PSBlbGVtZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGluZGV4O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH1cclxuXHJcblx0dmFyIGV4aXN0aW5nUHJvdG8gPSAod2luZG93LkV2ZW50ICYmIHdpbmRvdy5FdmVudC5wcm90b3R5cGUpIHx8IG51bGw7XHJcblx0d2luZG93LkV2ZW50ID0gV2luZG93LnByb3RvdHlwZS5FdmVudCA9IGZ1bmN0aW9uIEV2ZW50KHR5cGUsIGV2ZW50SW5pdERpY3QpIHtcclxuXHRcdGlmICghdHlwZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGV2ZW50O1xyXG5cdFx0Ly8gU2hvcnRjdXQgaWYgYnJvd3NlciBzdXBwb3J0cyBjcmVhdGVFdmVudFxyXG5cdFx0aWYgKCdjcmVhdGVFdmVudCcgaW4gZG9jdW1lbnQpIHtcclxuXHRcdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcclxuXHRcdFx0dmFyIGJ1YmJsZXMgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuYnViYmxlcyAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5idWJibGVzIDogZmFsc2U7XHJcblx0XHRcdHZhciBjYW5jZWxhYmxlID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmNhbmNlbGFibGUgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSA6IGZhbHNlO1xyXG5cclxuXHRcdFx0ZXZlbnQuaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGV2ZW50O1xyXG5cdFx0fVxyXG5cclxuXHRcdGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcclxuXHJcblx0XHRldmVudC50eXBlID0gdHlwZTtcclxuXHRcdGV2ZW50LmJ1YmJsZXMgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuYnViYmxlcyAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5idWJibGVzIDogZmFsc2U7XHJcblx0XHRldmVudC5jYW5jZWxhYmxlID0gZXZlbnRJbml0RGljdCAmJiBldmVudEluaXREaWN0LmNhbmNlbGFibGUgIT09IHVuZGVmaW5lZCA/IGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSA6IGZhbHNlO1xyXG5cclxuXHRcdHJldHVybiBldmVudDtcclxuXHR9O1xyXG5cdGlmIChleGlzdGluZ1Byb3RvKSB7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LkV2ZW50LCAncHJvdG90eXBlJywge1xyXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxyXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0d3JpdGFibGU6IHRydWUsXHJcblx0XHRcdHZhbHVlOiBleGlzdGluZ1Byb3RvXHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGlmICghKCdjcmVhdGVFdmVudCcgaW4gZG9jdW1lbnQpKSB7XHJcblx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciA9IFdpbmRvdy5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IERvY3VtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gRWxlbWVudC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoKSB7XHJcblx0XHRcdHZhclxyXG5cdFx0XHRlbGVtZW50ID0gdGhpcyxcclxuXHRcdFx0dHlwZSA9IGFyZ3VtZW50c1swXSxcclxuXHRcdFx0bGlzdGVuZXIgPSBhcmd1bWVudHNbMV07XHJcblxyXG5cdFx0XHRpZiAoZWxlbWVudCA9PT0gd2luZG93ICYmIHR5cGUgaW4gdW5saXN0ZW5hYmxlV2luZG93RXZlbnRzKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdJbiBJRTggdGhlIGV2ZW50OiAnICsgdHlwZSArICcgaXMgbm90IGF2YWlsYWJsZSBvbiB0aGUgd2luZG93IG9iamVjdC4gUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvaXNzdWVzLzMxNyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHMpIHtcclxuXHRcdFx0XHRlbGVtZW50Ll9ldmVudHMgPSB7fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHNbdHlwZV0pIHtcclxuXHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRcdFx0XHRcdHZhclxyXG5cdFx0XHRcdFx0bGlzdCA9IGVsZW1lbnQuX2V2ZW50c1tldmVudC50eXBlXS5saXN0LFxyXG5cdFx0XHRcdFx0ZXZlbnRzID0gbGlzdC5zbGljZSgpLFxyXG5cdFx0XHRcdFx0aW5kZXggPSAtMSxcclxuXHRcdFx0XHRcdGxlbmd0aCA9IGV2ZW50cy5sZW5ndGgsXHJcblx0XHRcdFx0XHRldmVudEVsZW1lbnQ7XHJcblxyXG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGV2ZW50LmNhbmNlbGFibGUgIT09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdFx0ZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsSW1tZWRpYXRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IGVsZW1lbnQ7XHJcblx0XHRcdFx0XHRldmVudC5yZWxhdGVkVGFyZ2V0ID0gZXZlbnQuZnJvbUVsZW1lbnQgfHwgbnVsbDtcclxuXHRcdFx0XHRcdGV2ZW50LnRhcmdldCA9IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IGVsZW1lbnQ7XHJcblx0XHRcdFx0XHRldmVudC50aW1lU3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoZXZlbnQuY2xpZW50WCkge1xyXG5cdFx0XHRcdFx0XHRldmVudC5wYWdlWCA9IGV2ZW50LmNsaWVudFggKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuXHRcdFx0XHRcdFx0ZXZlbnQucGFnZVkgPSBldmVudC5jbGllbnRZICsgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiAhZXZlbnQuY2FuY2VsSW1tZWRpYXRlKSB7XHJcblx0XHRcdFx0XHRcdGlmIChpbmRleCBpbiBldmVudHMpIHtcclxuXHRcdFx0XHRcdFx0XHRldmVudEVsZW1lbnQgPSBldmVudHNbaW5kZXhdO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoaW5kZXhPZihsaXN0LCBldmVudEVsZW1lbnQpICE9PSAtMSAmJiB0eXBlb2YgZXZlbnRFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRldmVudEVsZW1lbnQuY2FsbChlbGVtZW50LCBldmVudCk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3QgPSBbXTtcclxuXHJcblx0XHRcdFx0aWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuYXR0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGVsZW1lbnQuX2V2ZW50c1t0eXBlXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdC5wdXNoKGxpc3RlbmVyKTtcclxuXHRcdH07XHJcblxyXG5cdFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBXaW5kb3cucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkge1xyXG5cdFx0XHR2YXJcclxuXHRcdFx0ZWxlbWVudCA9IHRoaXMsXHJcblx0XHRcdHR5cGUgPSBhcmd1bWVudHNbMF0sXHJcblx0XHRcdGxpc3RlbmVyID0gYXJndW1lbnRzWzFdLFxyXG5cdFx0XHRpbmRleDtcclxuXHJcblx0XHRcdGlmIChlbGVtZW50Ll9ldmVudHMgJiYgZWxlbWVudC5fZXZlbnRzW3R5cGVdICYmIGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0KSB7XHJcblx0XHRcdFx0aW5kZXggPSBpbmRleE9mKGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LCBsaXN0ZW5lcik7XHJcblxyXG5cdFx0XHRcdGlmIChpbmRleCAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LnNwbGljZShpbmRleCwgMSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdC5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50LmRldGFjaEV2ZW50KCdvbicgKyB0eXBlLCBlbGVtZW50Ll9ldmVudHNbdHlwZV0pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGRlbGV0ZSBlbGVtZW50Ll9ldmVudHNbdHlwZV07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHdpbmRvdy5kaXNwYXRjaEV2ZW50ID0gV2luZG93LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gRG9jdW1lbnQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBFbGVtZW50LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChldmVudCkge1xyXG5cdFx0XHRpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vdCBlbm91Z2ggYXJndW1lbnRzJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghZXZlbnQgfHwgdHlwZW9mIGV2ZW50LnR5cGUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdET00gRXZlbnRzIEV4Y2VwdGlvbiAwJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBlbGVtZW50ID0gdGhpcywgdHlwZSA9IGV2ZW50LnR5cGU7XHJcblxyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdGlmICghZXZlbnQuYnViYmxlcykge1xyXG5cdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHR2YXIgY2FuY2VsQnViYmxlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuXHJcblx0XHRcdFx0XHRcdChlbGVtZW50IHx8IHdpbmRvdykuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGNhbmNlbEJ1YmJsZUV2ZW50KTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0dGhpcy5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FuY2VsQnViYmxlRXZlbnQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5maXJlRXZlbnQoJ29uJyArIHR5cGUsIGV2ZW50KTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHRldmVudC50YXJnZXQgPSBlbGVtZW50O1xyXG5cclxuXHRcdFx0XHRkbyB7XHJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudDtcclxuXHJcblx0XHRcdFx0XHRpZiAoJ19ldmVudHMnIGluIGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQuX2V2ZW50c1t0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0uY2FsbChlbGVtZW50LCBldmVudCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBlbGVtZW50WydvbicgKyB0eXBlXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdFx0XHRlbGVtZW50WydvbicgKyB0eXBlXS5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRlbGVtZW50ID0gZWxlbWVudC5ub2RlVHlwZSA9PT0gOSA/IGVsZW1lbnQucGFyZW50V2luZG93IDogZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cdFx0XHRcdH0gd2hpbGUgKGVsZW1lbnQgJiYgIWV2ZW50LmNhbmNlbEJ1YmJsZSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBBZGQgdGhlIERPTUNvbnRlbnRMb2FkZWQgRXZlbnRcclxuXHRcdGRvY3VtZW50LmF0dGFjaEV2ZW50KCdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuXHRcdFx0XHRkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnRE9NQ29udGVudExvYWRlZCcsIHtcclxuXHRcdFx0XHRcdGJ1YmJsZXM6IHRydWVcclxuXHRcdFx0XHR9KSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufSgpKTtcclxuXHJcbn0pXHJcbi5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxudmFyIEtFWV9TUEFDRSA9IDMyO1xyXG52YXIgREVCT1VOQ0VfVElNRU9VVF9JTl9TRUNPTkRTID0gMTtcclxuXHJcbmZ1bmN0aW9uIEJ1dHRvbiAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbiAgdGhpcy5kZWJvdW5jZUZvcm1TdWJtaXRUaW1lciA9IG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEphdmFTY3JpcHQgJ3NoaW0nIHRvIHRyaWdnZXIgdGhlIGNsaWNrIGV2ZW50IG9mIGVsZW1lbnQocykgd2hlbiB0aGUgc3BhY2Uga2V5IGlzIHByZXNzZWQuXHJcbipcclxuKiBDcmVhdGVkIHNpbmNlIHNvbWUgQXNzaXN0aXZlIFRlY2hub2xvZ2llcyAoZm9yIGV4YW1wbGUgc29tZSBTY3JlZW5yZWFkZXJzKVxyXG4qIHdpbGwgdGVsbCBhIHVzZXIgdG8gcHJlc3Mgc3BhY2Ugb24gYSAnYnV0dG9uJywgc28gdGhpcyBmdW5jdGlvbmFsaXR5IG5lZWRzIHRvIGJlIHNoaW1tZWRcclxuKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FscGhhZ292L2dvdnVrX2VsZW1lbnRzL3B1bGwvMjcyI2lzc3VlY29tbWVudC0yMzMwMjgyNzBcclxuKlxyXG4qIEBwYXJhbSB7b2JqZWN0fSBldmVudCBldmVudFxyXG4qL1xyXG5CdXR0b24ucHJvdG90eXBlLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAvLyBnZXQgdGhlIHRhcmdldCBlbGVtZW50XHJcbiAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAvLyBpZiB0aGUgZWxlbWVudCBoYXMgYSByb2xlPSdidXR0b24nIGFuZCB0aGUgcHJlc3NlZCBrZXkgaXMgYSBzcGFjZSwgd2UnbGwgc2ltdWxhdGUgYSBjbGlja1xyXG4gIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICdidXR0b24nICYmIGV2ZW50LmtleUNvZGUgPT09IEtFWV9TUEFDRSkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIHRyaWdnZXIgdGhlIHRhcmdldCdzIGNsaWNrIGV2ZW50XHJcbiAgICB0YXJnZXQuY2xpY2soKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuKiBJZiB0aGUgY2xpY2sgcXVpY2tseSBzdWNjZWVkcyBhIHByZXZpb3VzIGNsaWNrIHRoZW4gbm90aGluZyB3aWxsIGhhcHBlbi5cclxuKiBUaGlzIHN0b3BzIHBlb3BsZSBhY2NpZGVudGFsbHkgY2F1c2luZyBtdWx0aXBsZSBmb3JtIHN1Ym1pc3Npb25zIGJ5XHJcbiogZG91YmxlIGNsaWNraW5nIGJ1dHRvbnMuXHJcbiovXHJcbkJ1dHRvbi5wcm90b3R5cGUuZGVib3VuY2UgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gIC8vIENoZWNrIHRoZSBidXR0b24gdGhhdCBpcyBjbGlja2VkIG9uIGhhcyB0aGUgcHJldmVudERvdWJsZUNsaWNrIGZlYXR1cmUgZW5hYmxlZFxyXG4gIGlmICh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXByZXZlbnQtZG91YmxlLWNsaWNrJykgIT09ICd0cnVlJykge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBJZiB0aGUgdGltZXIgaXMgc3RpbGwgcnVubmluZyB0aGVuIHdlIHdhbnQgdG8gcHJldmVudCB0aGUgY2xpY2sgZnJvbSBzdWJtaXR0aW5nIHRoZSBmb3JtXHJcbiAgaWYgKHRoaXMuZGVib3VuY2VGb3JtU3VibWl0VGltZXIpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHRoaXMuZGVib3VuY2VGb3JtU3VibWl0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuZGVib3VuY2VGb3JtU3VibWl0VGltZXIgPSBudWxsO1xyXG4gIH0uYmluZCh0aGlzKSwgREVCT1VOQ0VfVElNRU9VVF9JTl9TRUNPTkRTICogMTAwMCk7XHJcbn07XHJcblxyXG4vKipcclxuKiBJbml0aWFsaXNlIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBrZXlkb3duIGF0IGRvY3VtZW50IGxldmVsXHJcbiogdGhpcyB3aWxsIGhlbHAgbGlzdGVuaW5nIGZvciBsYXRlciBpbnNlcnRlZCBlbGVtZW50cyB3aXRoIGEgcm9sZT1cImJ1dHRvblwiXHJcbiovXHJcbkJ1dHRvbi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLiRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5RG93bik7XHJcbiAgdGhpcy4kbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5kZWJvdW5jZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogSmF2YVNjcmlwdCAncG9seWZpbGwnIGZvciBIVE1MNSdzIDxkZXRhaWxzPiBhbmQgPHN1bW1hcnk+IGVsZW1lbnRzXHJcbiAqIGFuZCAnc2hpbScgdG8gYWRkIGFjY2Vzc2libGl0eSBlbmhhbmNlbWVudHMgZm9yIGFsbCBicm93c2Vyc1xyXG4gKlxyXG4gKiBodHRwOi8vY2FuaXVzZS5jb20vI2ZlYXQ9ZGV0YWlsc1xyXG4gKi9cclxuXHJcbnZhciBLRVlfRU5URVIgPSAxMztcclxudmFyIEtFWV9TUEFDRSQxID0gMzI7XHJcblxyXG5mdW5jdGlvbiBEZXRhaWxzICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxufVxyXG5cclxuRGV0YWlscy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXRoaXMuJG1vZHVsZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBJZiB0aGVyZSBpcyBuYXRpdmUgZGV0YWlscyBzdXBwb3J0LCB3ZSB3YW50IHRvIGF2b2lkIHJ1bm5pbmcgY29kZSB0byBwb2x5ZmlsbCBuYXRpdmUgYmVoYXZpb3VyLlxyXG4gIHZhciBoYXNOYXRpdmVEZXRhaWxzID0gdHlwZW9mIHRoaXMuJG1vZHVsZS5vcGVuID09PSAnYm9vbGVhbic7XHJcblxyXG4gIGlmIChoYXNOYXRpdmVEZXRhaWxzKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIHRoaXMucG9seWZpbGxEZXRhaWxzKCk7XHJcbn07XHJcblxyXG5EZXRhaWxzLnByb3RvdHlwZS5wb2x5ZmlsbERldGFpbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcblxyXG4gIC8vIFNhdmUgc2hvcnRjdXRzIHRvIHRoZSBpbm5lciBzdW1tYXJ5IGFuZCBjb250ZW50IGVsZW1lbnRzXHJcbiAgdmFyICRzdW1tYXJ5ID0gdGhpcy4kc3VtbWFyeSA9ICRtb2R1bGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N1bW1hcnknKS5pdGVtKDApO1xyXG4gIHZhciAkY29udGVudCA9IHRoaXMuJGNvbnRlbnQgPSAkbW9kdWxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdkaXYnKS5pdGVtKDApO1xyXG5cclxuICAvLyBJZiA8ZGV0YWlscz4gZG9lc24ndCBoYXZlIGEgPHN1bW1hcnk+IGFuZCBhIDxkaXY+IHJlcHJlc2VudGluZyB0aGUgY29udGVudFxyXG4gIC8vIGl0IG1lYW5zIHRoZSByZXF1aXJlZCBIVE1MIHN0cnVjdHVyZSBpcyBub3QgbWV0IHNvIHRoZSBzY3JpcHQgd2lsbCBzdG9wXHJcbiAgaWYgKCEkc3VtbWFyeSB8fCAhJGNvbnRlbnQpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gSWYgdGhlIGNvbnRlbnQgZG9lc24ndCBoYXZlIGFuIElELCBhc3NpZ24gaXQgb25lIG5vd1xyXG4gIC8vIHdoaWNoIHdlJ2xsIG5lZWQgZm9yIHRoZSBzdW1tYXJ5J3MgYXJpYS1jb250cm9scyBhc3NpZ25tZW50XHJcbiAgaWYgKCEkY29udGVudC5pZCkge1xyXG4gICAgJGNvbnRlbnQuaWQgPSAnZGV0YWlscy1jb250ZW50LScgKyBnZW5lcmF0ZVVuaXF1ZUlEKCk7XHJcbiAgfVxyXG5cclxuICAvLyBBZGQgQVJJQSByb2xlPVwiZ3JvdXBcIiB0byBkZXRhaWxzXHJcbiAgJG1vZHVsZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnZ3JvdXAnKTtcclxuXHJcbiAgLy8gQWRkIHJvbGU9YnV0dG9uIHRvIHN1bW1hcnlcclxuICAkc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XHJcblxyXG4gIC8vIEFkZCBhcmlhLWNvbnRyb2xzXHJcbiAgJHN1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgJGNvbnRlbnQuaWQpO1xyXG5cclxuICAvLyBTZXQgdGFiSW5kZXggc28gdGhlIHN1bW1hcnkgaXMga2V5Ym9hcmQgYWNjZXNzaWJsZSBmb3Igbm9uLW5hdGl2ZSBlbGVtZW50c1xyXG4gIC8vXHJcbiAgLy8gV2UgaGF2ZSB0byB1c2UgdGhlIGNhbWVsY2FzZSBgdGFiSW5kZXhgIHByb3BlcnR5IGFzIHRoZXJlIGlzIGEgYnVnIGluIElFNi9JRTcgd2hlbiB3ZSBzZXQgdGhlIGNvcnJlY3QgYXR0cmlidXRlIGxvd2VyY2FzZTpcclxuICAvLyBTZWUgaHR0cDovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNzAxMjAxOTQwMzYvaHR0cDovL3d3dy5zYWxpZW5jZXMuY29tL2Jyb3dzZXJCdWdzL3RhYkluZGV4Lmh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgJHN1bW1hcnkudGFiSW5kZXggPSAwO1xyXG5cclxuICAvLyBEZXRlY3QgaW5pdGlhbCBvcGVuIHN0YXRlXHJcbiAgaWYgKHRoaXMuJG1vZHVsZS5oYXNBdHRyaWJ1dGUoJ29wZW4nKSkge1xyXG4gICAgJHN1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJHN1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcbiAgICAkY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxuXHJcbiAgLy8gQmluZCBhbiBldmVudCB0byBoYW5kbGUgc3VtbWFyeSBlbGVtZW50c1xyXG4gIHRoaXMucG9seWZpbGxIYW5kbGVJbnB1dHMoJHN1bW1hcnksIHRoaXMucG9seWZpbGxTZXRBdHRyaWJ1dGVzLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiogRGVmaW5lIGEgc3RhdGVjaGFuZ2UgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIGFyaWEtZXhwYW5kZWQgYW5kIHN0eWxlLmRpc3BsYXlcclxuKiBAcGFyYW0ge29iamVjdH0gc3VtbWFyeSBlbGVtZW50XHJcbiovXHJcbkRldGFpbHMucHJvdG90eXBlLnBvbHlmaWxsU2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAodGhpcy4kbW9kdWxlLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XHJcbiAgICB0aGlzLiRtb2R1bGUucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XHJcbiAgICB0aGlzLiRzdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xyXG4gICAgdGhpcy4kY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLiRtb2R1bGUuc2V0QXR0cmlidXRlKCdvcGVuJywgJ29wZW4nKTtcclxuICAgIHRoaXMuJHN1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcclxuICAgIHRoaXMuJGNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWVcclxufTtcclxuXHJcbi8qKlxyXG4qIEhhbmRsZSBjcm9zcy1tb2RhbCBjbGljayBldmVudHNcclxuKiBAcGFyYW0ge29iamVjdH0gbm9kZSBlbGVtZW50XHJcbiogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgZnVuY3Rpb25cclxuKi9cclxuRGV0YWlscy5wcm90b3R5cGUucG9seWZpbGxIYW5kbGVJbnB1dHMgPSBmdW5jdGlvbiAobm9kZSwgY2FsbGJhY2spIHtcclxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgLy8gV2hlbiB0aGUga2V5IGdldHMgcHJlc3NlZCAtIGNoZWNrIGlmIGl0IGlzIGVudGVyIG9yIHNwYWNlXHJcbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VOVEVSIHx8IGV2ZW50LmtleUNvZGUgPT09IEtFWV9TUEFDRSQxKSB7XHJcbiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N1bW1hcnknKSB7XHJcbiAgICAgICAgLy8gUHJldmVudCBzcGFjZSBmcm9tIHNjcm9sbGluZyB0aGUgcGFnZVxyXG4gICAgICAgIC8vIGFuZCBlbnRlciBmcm9tIHN1Ym1pdHRpbmcgYSBmb3JtXHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAvLyBDbGljayB0byBsZXQgdGhlIGNsaWNrIGV2ZW50IGRvIGFsbCB0aGUgbmVjZXNzYXJ5IGFjdGlvblxyXG4gICAgICAgIGlmICh0YXJnZXQuY2xpY2spIHtcclxuICAgICAgICAgIHRhcmdldC5jbGljaygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBleGNlcHQgU2FmYXJpIDUuMSBhbmQgdW5kZXIgZG9uJ3Qgc3VwcG9ydCAuY2xpY2soKSBoZXJlXHJcbiAgICAgICAgICBjYWxsYmFjayhldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8vIFByZXZlbnQga2V5dXAgdG8gcHJldmVudCBjbGlja2luZyB0d2ljZSBpbiBGaXJlZm94IHdoZW4gdXNpbmcgc3BhY2Uga2V5XHJcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfU1BBQ0UkMSkge1xyXG4gICAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzdW1tYXJ5Jykge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIENoYXJhY3RlckNvdW50ICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLiR0ZXh0YXJlYSA9ICRtb2R1bGUucXVlcnlTZWxlY3RvcignLmdvdnVrLWpzLWNoYXJhY3Rlci1jb3VudCcpO1xyXG4gIHRoaXMuJHZpc2libGVDb3VudE1lc3NhZ2UgPSBudWxsO1xyXG4gIHRoaXMuJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZSA9IG51bGw7XHJcbiAgdGhpcy5sYXN0SW5wdXRUaW1lc3RhbXAgPSBudWxsO1xyXG59XHJcblxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuZGVmYXVsdHMgPSB7XHJcbiAgY2hhcmFjdGVyQ291bnRBdHRyaWJ1dGU6ICdkYXRhLW1heGxlbmd0aCcsXHJcbiAgd29yZENvdW50QXR0cmlidXRlOiAnZGF0YS1tYXh3b3JkcydcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgY29tcG9uZW50XHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIENoZWNrIHRoYXQgcmVxdWlyZWQgZWxlbWVudHMgYXJlIHByZXNlbnRcclxuICBpZiAoIXRoaXMuJHRleHRhcmVhKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGZvciBtb2R1bGVcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuICB2YXIgJHRleHRhcmVhID0gdGhpcy4kdGV4dGFyZWE7XHJcbiAgdmFyICRmYWxsYmFja0xpbWl0TWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCR0ZXh0YXJlYS5pZCArICctaW5mbycpO1xyXG5cclxuICAvLyBNb3ZlIHRoZSBmYWxsYmFjayBjb3VudCBtZXNzYWdlIHRvIGJlIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSB0ZXh0YXJlYVxyXG4gIC8vIEtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XHJcbiAgJHRleHRhcmVhLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCAkZmFsbGJhY2tMaW1pdE1lc3NhZ2UpO1xyXG5cclxuICAvLyBDcmVhdGUgdGhlICpzY3JlZW4gcmVhZGVyKiBzcGVjaWZpYyBsaXZlLXVwZGF0aW5nIGNvdW50ZXJcclxuICAvLyBUaGlzIGRvZXNuJ3QgbmVlZCBhbnkgc3R5bGluZyBjbGFzc2VzLCBhcyBpdCBpcyBuZXZlciB2aXNpYmxlXHJcbiAgdmFyICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlLmNsYXNzTmFtZSA9ICdnb3Z1ay1jaGFyYWN0ZXItY291bnRfX3NyLXN0YXR1cyBnb3Z1ay12aXN1YWxseS1oaWRkZW4nO1xyXG4gICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2Uuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XHJcbiAgdGhpcy4kc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlID0gJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZTtcclxuICAkZmFsbGJhY2tMaW1pdE1lc3NhZ2UuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UpO1xyXG5cclxuICAvLyBDcmVhdGUgb3VyIGxpdmUtdXBkYXRpbmcgY291bnRlciBlbGVtZW50LCBjb3B5aW5nIHRoZSBjbGFzc2VzIGZyb20gdGhlXHJcbiAgLy8gZmFsbGJhY2sgZWxlbWVudCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgYXMgdGhlc2UgbWF5IGhhdmUgYmVlbiBjb25maWd1cmVkXHJcbiAgdmFyICR2aXNpYmxlQ291bnRNZXNzYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgJHZpc2libGVDb3VudE1lc3NhZ2UuY2xhc3NOYW1lID0gJGZhbGxiYWNrTGltaXRNZXNzYWdlLmNsYXNzTmFtZTtcclxuICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdnb3Z1ay1jaGFyYWN0ZXItY291bnRfX3N0YXR1cycpO1xyXG4gICR2aXNpYmxlQ291bnRNZXNzYWdlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xyXG4gIHRoaXMuJHZpc2libGVDb3VudE1lc3NhZ2UgPSAkdmlzaWJsZUNvdW50TWVzc2FnZTtcclxuICAkZmFsbGJhY2tMaW1pdE1lc3NhZ2UuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsICR2aXNpYmxlQ291bnRNZXNzYWdlKTtcclxuXHJcbiAgLy8gSGlkZSB0aGUgZmFsbGJhY2sgbGltaXQgbWVzc2FnZVxyXG4gICRmYWxsYmFja0xpbWl0TWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdnb3Z1ay12aXN1YWxseS1oaWRkZW4nKTtcclxuXHJcbiAgLy8gUmVhZCBvcHRpb25zIHNldCB1c2luZyBkYXRhc2V0ICgnZGF0YS0nIHZhbHVlcylcclxuICB0aGlzLm9wdGlvbnMgPSB0aGlzLmdldERhdGFzZXQoJG1vZHVsZSk7XHJcblxyXG4gIC8vIERldGVybWluZSB0aGUgbGltaXQgYXR0cmlidXRlIChjaGFyYWN0ZXJzIG9yIHdvcmRzKVxyXG4gIHZhciBjb3VudEF0dHJpYnV0ZSA9IHRoaXMuZGVmYXVsdHMuY2hhcmFjdGVyQ291bnRBdHRyaWJ1dGU7XHJcbiAgaWYgKHRoaXMub3B0aW9ucy5tYXh3b3Jkcykge1xyXG4gICAgY291bnRBdHRyaWJ1dGUgPSB0aGlzLmRlZmF1bHRzLndvcmRDb3VudEF0dHJpYnV0ZTtcclxuICB9XHJcblxyXG4gIC8vIFNhdmUgdGhlIGVsZW1lbnQgbGltaXRcclxuICB0aGlzLm1heExlbmd0aCA9ICRtb2R1bGUuZ2V0QXR0cmlidXRlKGNvdW50QXR0cmlidXRlKTtcclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGxpbWl0XHJcbiAgaWYgKCF0aGlzLm1heExlbmd0aCkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBSZW1vdmUgaGFyZCBsaW1pdCBpZiBzZXRcclxuICAkdGV4dGFyZWEucmVtb3ZlQXR0cmlidXRlKCdtYXhsZW5ndGgnKTtcclxuXHJcbiAgdGhpcy5iaW5kQ2hhbmdlRXZlbnRzKCk7XHJcblxyXG4gIC8vIFdoZW4gdGhlIHBhZ2UgaXMgcmVzdG9yZWQgYWZ0ZXIgbmF2aWdhdGluZyAnYmFjaycgaW4gc29tZSBicm93c2VycyB0aGVcclxuICAvLyBzdGF0ZSBvZiB0aGUgY2hhcmFjdGVyIGNvdW50IGlzIG5vdCByZXN0b3JlZCB1bnRpbCAqYWZ0ZXIqIHRoZSBET01Db250ZW50TG9hZGVkXHJcbiAgLy8gZXZlbnQgaXMgZmlyZWQsIHNvIHdlIG5lZWQgdG8gbWFudWFsbHkgdXBkYXRlIGl0IGFmdGVyIHRoZSBwYWdlc2hvdyBldmVudFxyXG4gIC8vIGluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBpdC5cclxuICBpZiAoJ29ucGFnZXNob3cnIGluIHdpbmRvdykge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgdGhpcy51cGRhdGVDb3VudE1lc3NhZ2UuYmluZCh0aGlzKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgdGhpcy51cGRhdGVDb3VudE1lc3NhZ2UuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG4gIHRoaXMudXBkYXRlQ291bnRNZXNzYWdlKCk7XHJcbn07XHJcblxyXG4vLyBSZWFkIGRhdGEgYXR0cmlidXRlc1xyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuZ2V0RGF0YXNldCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgdmFyIGRhdGFzZXQgPSB7fTtcclxuICB2YXIgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcclxuICBpZiAoYXR0cmlidXRlcykge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2ldO1xyXG4gICAgICB2YXIgbWF0Y2ggPSBhdHRyaWJ1dGUubmFtZS5tYXRjaCgvXmRhdGEtKC4rKS8pO1xyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICBkYXRhc2V0W21hdGNoWzFdXSA9IGF0dHJpYnV0ZS52YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZGF0YXNldFxyXG59O1xyXG5cclxuLy8gQ291bnRzIGNoYXJhY3RlcnMgb3Igd29yZHMgaW4gdGV4dFxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuY291bnQgPSBmdW5jdGlvbiAodGV4dCkge1xyXG4gIHZhciBsZW5ndGg7XHJcbiAgaWYgKHRoaXMub3B0aW9ucy5tYXh3b3Jkcykge1xyXG4gICAgdmFyIHRva2VucyA9IHRleHQubWF0Y2goL1xcUysvZykgfHwgW107IC8vIE1hdGNoZXMgY29uc2VjdXRpdmUgbm9uLXdoaXRlc3BhY2UgY2hhcnNcclxuICAgIGxlbmd0aCA9IHRva2Vucy5sZW5ndGg7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlbmd0aCA9IHRleHQubGVuZ3RoO1xyXG4gIH1cclxuICByZXR1cm4gbGVuZ3RoXHJcbn07XHJcblxyXG4vLyBCaW5kIGlucHV0IHByb3BlcnR5Y2hhbmdlIHRvIHRoZSBlbGVtZW50cyBhbmQgdXBkYXRlIGJhc2VkIG9uIHRoZSBjaGFuZ2VcclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmJpbmRDaGFuZ2VFdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICR0ZXh0YXJlYSA9IHRoaXMuJHRleHRhcmVhO1xyXG4gICR0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaGFuZGxlS2V5VXAuYmluZCh0aGlzKSk7XHJcblxyXG4gIC8vIEJpbmQgZm9jdXMvYmx1ciBldmVudHMgdG8gc3RhcnQvc3RvcCBwb2xsaW5nXHJcbiAgJHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5oYW5kbGVGb2N1cy5iaW5kKHRoaXMpKTtcclxuICAkdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuaGFuZGxlQmx1ci5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8vIFNwZWVjaCByZWNvZ25pdGlvbiBzb2Z0d2FyZSBzdWNoIGFzIERyYWdvbiBOYXR1cmFsbHlTcGVha2luZyB3aWxsIG1vZGlmeSB0aGVcclxuLy8gZmllbGRzIGJ5IGRpcmVjdGx5IGNoYW5naW5nIGl0cyBgdmFsdWVgLiBUaGVzZSBjaGFuZ2VzIGRvbid0IHRyaWdnZXIgZXZlbnRzXHJcbi8vIGluIEphdmFTY3JpcHQsIHNvIHdlIG5lZWQgdG8gcG9sbCB0byBoYW5kbGUgd2hlbiBhbmQgaWYgdGhleSBvY2N1ci5cclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmNoZWNrSWZWYWx1ZUNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKCF0aGlzLiR0ZXh0YXJlYS5vbGRWYWx1ZSkgdGhpcy4kdGV4dGFyZWEub2xkVmFsdWUgPSAnJztcclxuICBpZiAodGhpcy4kdGV4dGFyZWEudmFsdWUgIT09IHRoaXMuJHRleHRhcmVhLm9sZFZhbHVlKSB7XHJcbiAgICB0aGlzLiR0ZXh0YXJlYS5vbGRWYWx1ZSA9IHRoaXMuJHRleHRhcmVhLnZhbHVlO1xyXG4gICAgdGhpcy51cGRhdGVDb3VudE1lc3NhZ2UoKTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGJvdGggdGhlIHZpc2libGUgYW5kIHNjcmVlbiByZWFkZXItc3BlY2lmaWNcclxuLy8gY291bnRlcnMgc2ltdWx0YW5lb3VzbHkgKGUuZy4gb24gaW5pdClcclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLnVwZGF0ZUNvdW50TWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLnVwZGF0ZVZpc2libGVDb3VudE1lc3NhZ2UoKTtcclxuICB0aGlzLnVwZGF0ZVNjcmVlblJlYWRlckNvdW50TWVzc2FnZSgpO1xyXG59O1xyXG5cclxuLy8gVXBkYXRlIHZpc2libGUgY291bnRlclxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUudXBkYXRlVmlzaWJsZUNvdW50TWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJHRleHRhcmVhID0gdGhpcy4kdGV4dGFyZWE7XHJcbiAgdmFyICR2aXNpYmxlQ291bnRNZXNzYWdlID0gdGhpcy4kdmlzaWJsZUNvdW50TWVzc2FnZTtcclxuICB2YXIgcmVtYWluaW5nTnVtYmVyID0gdGhpcy5tYXhMZW5ndGggLSB0aGlzLmNvdW50KCR0ZXh0YXJlYS52YWx1ZSk7XHJcblxyXG4gIC8vIElmIGlucHV0IGlzIG92ZXIgdGhlIHRocmVzaG9sZCwgcmVtb3ZlIHRoZSBkaXNhYmxlZCBjbGFzcyB3aGljaCByZW5kZXJzIHRoZVxyXG4gIC8vIGNvdW50ZXIgaW52aXNpYmxlLlxyXG4gIGlmICh0aGlzLmlzT3ZlclRocmVzaG9sZCgpKSB7XHJcbiAgICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay1jaGFyYWN0ZXItY291bnRfX21lc3NhZ2UtLWRpc2FibGVkJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICR2aXNpYmxlQ291bnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWNoYXJhY3Rlci1jb3VudF9fbWVzc2FnZS0tZGlzYWJsZWQnKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBzdHlsZXNcclxuICBpZiAocmVtYWluaW5nTnVtYmVyIDwgMCkge1xyXG4gICAgJHRleHRhcmVhLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLXRleHRhcmVhLS1lcnJvcicpO1xyXG4gICAgJHZpc2libGVDb3VudE1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZ292dWstaGludCcpO1xyXG4gICAgJHZpc2libGVDb3VudE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnZ292dWstZXJyb3ItbWVzc2FnZScpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkdGV4dGFyZWEuY2xhc3NMaXN0LnJlbW92ZSgnZ292dWstdGV4dGFyZWEtLWVycm9yJyk7XHJcbiAgICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay1lcnJvci1tZXNzYWdlJyk7XHJcbiAgICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdnb3Z1ay1oaW50Jyk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgbWVzc2FnZVxyXG4gICR2aXNpYmxlQ291bnRNZXNzYWdlLmlubmVySFRNTCA9IHRoaXMuZm9ybWF0dGVkVXBkYXRlTWVzc2FnZSgpO1xyXG59O1xyXG5cclxuLy8gVXBkYXRlIHNjcmVlbiByZWFkZXItc3BlY2lmaWMgY291bnRlclxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUudXBkYXRlU2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlID0gdGhpcy4kc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlO1xyXG5cclxuICAvLyBJZiBvdmVyIHRoZSB0aHJlc2hvbGQsIHJlbW92ZSB0aGUgYXJpYS1oaWRkZW4gYXR0cmlidXRlLCBhbGxvd2luZyBzY3JlZW5cclxuICAvLyByZWFkZXJzIHRvIGFubm91bmNlIHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50LlxyXG4gIGlmICh0aGlzLmlzT3ZlclRocmVzaG9sZCgpKSB7XHJcbiAgICAkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICAvLyBVcGRhdGUgbWVzc2FnZVxyXG4gICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXR0ZWRVcGRhdGVNZXNzYWdlKCk7XHJcbn07XHJcblxyXG4vLyBGb3JtYXQgdXBkYXRlIG1lc3NhZ2VcclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmZvcm1hdHRlZFVwZGF0ZU1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICR0ZXh0YXJlYSA9IHRoaXMuJHRleHRhcmVhO1xyXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xyXG4gIHZhciByZW1haW5pbmdOdW1iZXIgPSB0aGlzLm1heExlbmd0aCAtIHRoaXMuY291bnQoJHRleHRhcmVhLnZhbHVlKTtcclxuXHJcbiAgdmFyIGNoYXJWZXJiID0gJ3JlbWFpbmluZyc7XHJcbiAgdmFyIGNoYXJOb3VuID0gJ2NoYXJhY3Rlcic7XHJcbiAgdmFyIGRpc3BsYXlOdW1iZXIgPSByZW1haW5pbmdOdW1iZXI7XHJcbiAgaWYgKG9wdGlvbnMubWF4d29yZHMpIHtcclxuICAgIGNoYXJOb3VuID0gJ3dvcmQnO1xyXG4gIH1cclxuICBjaGFyTm91biA9IGNoYXJOb3VuICsgKChyZW1haW5pbmdOdW1iZXIgPT09IC0xIHx8IHJlbWFpbmluZ051bWJlciA9PT0gMSkgPyAnJyA6ICdzJyk7XHJcblxyXG4gIGNoYXJWZXJiID0gKHJlbWFpbmluZ051bWJlciA8IDApID8gJ3RvbyBtYW55JyA6ICdyZW1haW5pbmcnO1xyXG4gIGRpc3BsYXlOdW1iZXIgPSBNYXRoLmFicyhyZW1haW5pbmdOdW1iZXIpO1xyXG5cclxuICByZXR1cm4gJ1lvdSBoYXZlICcgKyBkaXNwbGF5TnVtYmVyICsgJyAnICsgY2hhck5vdW4gKyAnICcgKyBjaGFyVmVyYlxyXG59O1xyXG5cclxuLy8gQ2hlY2tzIHdoZXRoZXIgdGhlIHZhbHVlIGlzIG92ZXIgdGhlIGNvbmZpZ3VyZWQgdGhyZXNob2xkIGZvciB0aGUgaW5wdXQuXHJcbi8vIElmIHRoZXJlIGlzIG5vIGNvbmZpZ3VyZWQgdGhyZXNob2xkLCBpdCBpcyBzZXQgdG8gMCBhbmQgdGhpcyBmdW5jdGlvbiB3aWxsXHJcbi8vIGFsd2F5cyByZXR1cm4gdHJ1ZS5cclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmlzT3ZlclRocmVzaG9sZCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJHRleHRhcmVhID0gdGhpcy4kdGV4dGFyZWE7XHJcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcblxyXG4gIC8vIERldGVybWluZSB0aGUgcmVtYWluaW5nIG51bWJlciBvZiBjaGFyYWN0ZXJzL3dvcmRzXHJcbiAgdmFyIGN1cnJlbnRMZW5ndGggPSB0aGlzLmNvdW50KCR0ZXh0YXJlYS52YWx1ZSk7XHJcbiAgdmFyIG1heExlbmd0aCA9IHRoaXMubWF4TGVuZ3RoO1xyXG5cclxuICAvLyBTZXQgdGhyZXNob2xkIGlmIHByZXNlbnRlZCBpbiBvcHRpb25zXHJcbiAgdmFyIHRocmVzaG9sZFBlcmNlbnQgPSBvcHRpb25zLnRocmVzaG9sZCA/IG9wdGlvbnMudGhyZXNob2xkIDogMDtcclxuICB2YXIgdGhyZXNob2xkVmFsdWUgPSBtYXhMZW5ndGggKiB0aHJlc2hvbGRQZXJjZW50IC8gMTAwO1xyXG5cclxuICByZXR1cm4gKHRocmVzaG9sZFZhbHVlIDw9IGN1cnJlbnRMZW5ndGgpXHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdGhlIHZpc2libGUgY2hhcmFjdGVyIGNvdW50ZXIgYW5kIGtlZXAgdHJhY2sgb2Ygd2hlbiB0aGUgbGFzdCB1cGRhdGVcclxuLy8gaGFwcGVuZWQgZm9yIGVhY2gga2V5cHJlc3NcclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmhhbmRsZUtleVVwID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMudXBkYXRlVmlzaWJsZUNvdW50TWVzc2FnZSgpO1xyXG4gIHRoaXMubGFzdElucHV0VGltZXN0YW1wID0gRGF0ZS5ub3coKTtcclxufTtcclxuXHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS5oYW5kbGVGb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBJZiB0aGUgZmllbGQgaXMgZm9jdXNlZCwgYW5kIGEga2V5dXAgZXZlbnQgaGFzbid0IGJlZW4gZGV0ZWN0ZWQgZm9yIGF0XHJcbiAgLy8gbGVhc3QgMTAwMCBtcyAoMSBzZWNvbmQpLCB0aGVuIHJ1biB0aGUgbWFudWFsIGNoYW5nZSBjaGVjay5cclxuICAvLyBUaGlzIGlzIHNvIHRoYXQgdGhlIHVwZGF0ZSB0cmlnZ2VyZWQgYnkgdGhlIG1hbnVhbCBjb21wYXJpc29uIGRvZXNuJ3RcclxuICAvLyBjb25mbGljdCB3aXRoIGRlYm91bmNlZCBLZXlib2FyZEV2ZW50IHVwZGF0ZXMuXHJcbiAgdGhpcy52YWx1ZUNoZWNrZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICBpZiAoIXRoaXMubGFzdElucHV0VGltZXN0YW1wIHx8IChEYXRlLm5vdygpIC0gNTAwKSA+PSB0aGlzLmxhc3RJbnB1dFRpbWVzdGFtcCkge1xyXG4gICAgICB0aGlzLmNoZWNrSWZWYWx1ZUNoYW5nZWQoKTtcclxuICAgIH1cclxuICB9LmJpbmQodGhpcyksIDEwMDApO1xyXG59O1xyXG5cclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmhhbmRsZUJsdXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2FuY2VsIHZhbHVlIGNoZWNraW5nIG9uIGJsdXJcclxuICBjbGVhckludGVydmFsKHRoaXMudmFsdWVDaGVja2VyKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIENoZWNrYm94ZXMgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG4gIHRoaXMuJGlucHV0cyA9ICRtb2R1bGUucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXNlIENoZWNrYm94ZXNcclxuICpcclxuICogQ2hlY2tib3hlcyBjYW4gYmUgYXNzb2NpYXRlZCB3aXRoIGEgJ2NvbmRpdGlvbmFsbHkgcmV2ZWFsZWQnIGNvbnRlbnQgYmxvY2sg4oCTXHJcbiAqIGZvciBleGFtcGxlLCBhIGNoZWNrYm94IGZvciAnUGhvbmUnIGNvdWxkIHJldmVhbCBhbiBhZGRpdGlvbmFsIGZvcm0gZmllbGQgZm9yXHJcbiAqIHRoZSB1c2VyIHRvIGVudGVyIHRoZWlyIHBob25lIG51bWJlci5cclxuICpcclxuICogVGhlc2UgYXNzb2NpYXRpb25zIGFyZSBtYWRlIHVzaW5nIGEgYGRhdGEtYXJpYS1jb250cm9sc2AgYXR0cmlidXRlLCB3aGljaCBpc1xyXG4gKiBwcm9tb3RlZCB0byBhbiBhcmlhLWNvbnRyb2xzIGF0dHJpYnV0ZSBkdXJpbmcgaW5pdGlhbGlzYXRpb24uXHJcbiAqXHJcbiAqIFdlIGFsc28gbmVlZCB0byByZXN0b3JlIHRoZSBzdGF0ZSBvZiBhbnkgY29uZGl0aW9uYWwgcmV2ZWFscyBvbiB0aGUgcGFnZSAoZm9yXHJcbiAqIGV4YW1wbGUgaWYgdGhlIHVzZXIgaGFzIG5hdmlnYXRlZCBiYWNrKSwgYW5kIHNldCB1cCBldmVudCBoYW5kbGVycyB0byBrZWVwXHJcbiAqIHRoZSByZXZlYWwgaW4gc3luYyB3aXRoIHRoZSBjaGVja2JveCBzdGF0ZS5cclxuICovXHJcbkNoZWNrYm94ZXMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgdmFyICRpbnB1dHMgPSB0aGlzLiRpbnB1dHM7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkaW5wdXRzLCBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gJGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1hcmlhLWNvbnRyb2xzJyk7XHJcblxyXG4gICAgLy8gU2tpcCBjaGVja2JveGVzIHdpdGhvdXQgZGF0YS1hcmlhLWNvbnRyb2xzIGF0dHJpYnV0ZXMsIG9yIHdoZXJlIHRoZVxyXG4gICAgLy8gdGFyZ2V0IGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXHJcbiAgICBpZiAoIXRhcmdldCB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9tb3RlIHRoZSBkYXRhLWFyaWEtY29udHJvbHMgYXR0cmlidXRlIHRvIGEgYXJpYS1jb250cm9scyBhdHRyaWJ1dGVcclxuICAgIC8vIHNvIHRoYXQgdGhlIHJlbGF0aW9uc2hpcCBpcyBleHBvc2VkIGluIHRoZSBBT01cclxuICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0YXJnZXQpO1xyXG4gICAgJGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hcmlhLWNvbnRyb2xzJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFdoZW4gdGhlIHBhZ2UgaXMgcmVzdG9yZWQgYWZ0ZXIgbmF2aWdhdGluZyAnYmFjaycgaW4gc29tZSBicm93c2VycyB0aGVcclxuICAvLyBzdGF0ZSBvZiBmb3JtIGNvbnRyb2xzIGlzIG5vdCByZXN0b3JlZCB1bnRpbCAqYWZ0ZXIqIHRoZSBET01Db250ZW50TG9hZGVkXHJcbiAgLy8gZXZlbnQgaXMgZmlyZWQsIHNvIHdlIG5lZWQgdG8gc3luYyBhZnRlciB0aGUgcGFnZXNob3cgZXZlbnQgaW4gYnJvd3NlcnNcclxuICAvLyB0aGF0IHN1cHBvcnQgaXQuXHJcbiAgaWYgKCdvbnBhZ2VzaG93JyBpbiB3aW5kb3cpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscy5iaW5kKHRoaXMpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLnN5bmNBbGxDb25kaXRpb25hbFJldmVhbHMuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAvLyBBbHRob3VnaCB3ZSd2ZSBzZXQgdXAgaGFuZGxlcnMgdG8gc3luYyBzdGF0ZSBvbiB0aGUgcGFnZXNob3cgb3JcclxuICAvLyBET01Db250ZW50TG9hZGVkIGV2ZW50LCBpbml0IGNvdWxkIGJlIGNhbGxlZCBhZnRlciB0aG9zZSBldmVudHMgaGF2ZSBmaXJlZCxcclxuICAvLyBmb3IgZXhhbXBsZSBpZiB0aGV5IGFyZSBhZGRlZCB0byB0aGUgcGFnZSBkeW5hbWljYWxseSwgc28gc3luYyBub3cgdG9vLlxyXG4gIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscygpO1xyXG5cclxuICAkbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTeW5jIHRoZSBjb25kaXRpb25hbCByZXZlYWwgc3RhdGVzIGZvciBhbGwgaW5wdXRzIGluIHRoaXMgJG1vZHVsZS5cclxuICovXHJcbkNoZWNrYm94ZXMucHJvdG90eXBlLnN5bmNBbGxDb25kaXRpb25hbFJldmVhbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKHRoaXMuJGlucHV0cywgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTeW5jIGNvbmRpdGlvbmFsIHJldmVhbCB3aXRoIHRoZSBpbnB1dCBzdGF0ZVxyXG4gKlxyXG4gKiBTeW5jaHJvbmlzZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgY29uZGl0aW9uYWwgcmV2ZWFsLCBhbmQgaXRzIGFjY2Vzc2libGVcclxuICogc3RhdGUsIHdpdGggdGhlIGlucHV0J3MgY2hlY2tlZCBzdGF0ZS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSAkaW5wdXQgQ2hlY2tib3ggaW5wdXRcclxuICovXHJcbkNoZWNrYm94ZXMucHJvdG90eXBlLnN5bmNDb25kaXRpb25hbFJldmVhbFdpdGhJbnB1dFN0YXRlID0gZnVuY3Rpb24gKCRpbnB1dCkge1xyXG4gIHZhciAkdGFyZ2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJGlucHV0LmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpKTtcclxuXHJcbiAgaWYgKCR0YXJnZXQgJiYgJHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2dvdnVrLWNoZWNrYm94ZXNfX2NvbmRpdGlvbmFsJykpIHtcclxuICAgIHZhciBpbnB1dElzQ2hlY2tlZCA9ICRpbnB1dC5jaGVja2VkO1xyXG5cclxuICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBpbnB1dElzQ2hlY2tlZCk7XHJcbiAgICAkdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2dvdnVrLWNoZWNrYm94ZXNfX2NvbmRpdGlvbmFsLS1oaWRkZW4nLCAhaW5wdXRJc0NoZWNrZWQpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBVbmNoZWNrIG90aGVyIGNoZWNrYm94ZXNcclxuICpcclxuICogRmluZCBhbnkgb3RoZXIgY2hlY2tib3ggaW5wdXRzIHdpdGggdGhlIHNhbWUgbmFtZSB2YWx1ZSwgYW5kIHVuY2hlY2sgdGhlbS5cclxuICogVGhpcyBpcyB1c2VmdWwgZm9yIHdoZW4gYSDigJxOb25lIG9mIHRoZXNlXCIgY2hlY2tib3ggaXMgY2hlY2tlZC5cclxuICovXHJcbkNoZWNrYm94ZXMucHJvdG90eXBlLnVuQ2hlY2tBbGxJbnB1dHNFeGNlcHQgPSBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgdmFyIGFsbElucHV0c1dpdGhTYW1lTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwiJyArICRpbnB1dC5uYW1lICsgJ1wiXScpO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goYWxsSW5wdXRzV2l0aFNhbWVOYW1lLCBmdW5jdGlvbiAoJGlucHV0V2l0aFNhbWVOYW1lKSB7XHJcbiAgICB2YXIgaGFzU2FtZUZvcm1Pd25lciA9ICgkaW5wdXQuZm9ybSA9PT0gJGlucHV0V2l0aFNhbWVOYW1lLmZvcm0pO1xyXG4gICAgaWYgKGhhc1NhbWVGb3JtT3duZXIgJiYgJGlucHV0V2l0aFNhbWVOYW1lICE9PSAkaW5wdXQpIHtcclxuICAgICAgJGlucHV0V2l0aFNhbWVOYW1lLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSgkaW5wdXRXaXRoU2FtZU5hbWUpO1xyXG4gICAgfVxyXG4gIH0uYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogVW5jaGVjayBleGNsdXNpdmUgaW5wdXRzXHJcbiAqXHJcbiAqIEZpbmQgYW55IGNoZWNrYm94IGlucHV0cyB3aXRoIHRoZSBzYW1lIG5hbWUgdmFsdWUgYW5kIHRoZSAnZXhjbHVzaXZlJyBiZWhhdmlvdXIsXHJcbiAqIGFuZCB1bmNoZWNrIHRoZW0uIFRoaXMgaGVscHMgcHJldmVudCBzb21lb25lIGNoZWNraW5nIGJvdGggYSByZWd1bGFyIGNoZWNrYm94IGFuZCBhXHJcbiAqIFwiTm9uZSBvZiB0aGVzZVwiIGNoZWNrYm94IGluIHRoZSBzYW1lIGZpZWxkc2V0LlxyXG4gKi9cclxuQ2hlY2tib3hlcy5wcm90b3R5cGUudW5DaGVja0V4Y2x1c2l2ZUlucHV0cyA9IGZ1bmN0aW9uICgkaW5wdXQpIHtcclxuICB2YXIgYWxsSW5wdXRzV2l0aFNhbWVOYW1lQW5kRXhjbHVzaXZlQmVoYXZpb3VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuICAgICdpbnB1dFtkYXRhLWJlaGF2aW91cj1cImV4Y2x1c2l2ZVwiXVt0eXBlPVwiY2hlY2tib3hcIl1bbmFtZT1cIicgKyAkaW5wdXQubmFtZSArICdcIl0nXHJcbiAgKTtcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKGFsbElucHV0c1dpdGhTYW1lTmFtZUFuZEV4Y2x1c2l2ZUJlaGF2aW91ciwgZnVuY3Rpb24gKCRleGNsdXNpdmVJbnB1dCkge1xyXG4gICAgdmFyIGhhc1NhbWVGb3JtT3duZXIgPSAoJGlucHV0LmZvcm0gPT09ICRleGNsdXNpdmVJbnB1dC5mb3JtKTtcclxuICAgIGlmIChoYXNTYW1lRm9ybU93bmVyKSB7XHJcbiAgICAgICRleGNsdXNpdmVJbnB1dC5jaGVja2VkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc3luY0NvbmRpdGlvbmFsUmV2ZWFsV2l0aElucHV0U3RhdGUoJGV4Y2x1c2l2ZUlucHV0KTtcclxuICAgIH1cclxuICB9LmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsaWNrIGV2ZW50IGhhbmRsZXJcclxuICpcclxuICogSGFuZGxlIGEgY2xpY2sgd2l0aGluIHRoZSAkbW9kdWxlIOKAkyBpZiB0aGUgY2xpY2sgb2NjdXJyZWQgb24gYSBjaGVja2JveCwgc3luY1xyXG4gKiB0aGUgc3RhdGUgb2YgYW55IGFzc29jaWF0ZWQgY29uZGl0aW9uYWwgcmV2ZWFsIHdpdGggdGhlIGNoZWNrYm94IHN0YXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IENsaWNrIGV2ZW50XHJcbiAqL1xyXG5DaGVja2JveGVzLnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gIHZhciAkdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAvLyBJZ25vcmUgY2xpY2tzIG9uIHRoaW5ncyB0aGF0IGFyZW4ndCBjaGVja2JveCBpbnB1dHNcclxuICBpZiAoJHRhcmdldC50eXBlICE9PSAnY2hlY2tib3gnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSBjaGVja2JveCBjb25kaXRpb25hbGx5LXJldmVhbHMgc29tZSBjb250ZW50LCBzeW5jIHRoZSBzdGF0ZVxyXG4gIHZhciBoYXNBcmlhQ29udHJvbHMgPSAkdGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xyXG4gIGlmIChoYXNBcmlhQ29udHJvbHMpIHtcclxuICAgIHRoaXMuc3luY0NvbmRpdGlvbmFsUmV2ZWFsV2l0aElucHV0U3RhdGUoJHRhcmdldCk7XHJcbiAgfVxyXG5cclxuICAvLyBObyBmdXJ0aGVyIGJlaGF2aW91ciBuZWVkZWQgZm9yIHVuY2hlY2tpbmdcclxuICBpZiAoISR0YXJnZXQuY2hlY2tlZCkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBIYW5kbGUgJ2V4Y2x1c2l2ZScgY2hlY2tib3ggYmVoYXZpb3VyIChpZSBcIk5vbmUgb2YgdGhlc2VcIilcclxuICB2YXIgaGFzQmVoYXZpb3VyRXhjbHVzaXZlID0gKCR0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWJlaGF2aW91cicpID09PSAnZXhjbHVzaXZlJyk7XHJcbiAgaWYgKGhhc0JlaGF2aW91ckV4Y2x1c2l2ZSkge1xyXG4gICAgdGhpcy51bkNoZWNrQWxsSW5wdXRzRXhjZXB0KCR0YXJnZXQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnVuQ2hlY2tFeGNsdXNpdmVJbnB1dHMoJHRhcmdldCk7XHJcbiAgfVxyXG59O1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICAvLyBEZXRlY3Rpb24gZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvMWYzYzA5YjQwMmY2NWJmNmUzOTNmOTMzYTE1YmE2M2YxYjg2ZWYxZi9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9tYXRjaGVzL2RldGVjdC5qc1xyXG4gIHZhciBkZXRlY3QgPSAoXHJcbiAgICAnZG9jdW1lbnQnIGluIHRoaXMgJiYgXCJtYXRjaGVzXCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgKTtcclxuXHJcbiAgaWYgKGRldGVjdCkgcmV0dXJuXHJcblxyXG4gIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlLzFmM2MwOWI0MDJmNjViZjZlMzkzZjkzM2ExNWJhNjNmMWI4NmVmMWYvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvbWF0Y2hlcy9wb2x5ZmlsbC5qc1xyXG4gIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUub01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZnVuY3Rpb24gbWF0Y2hlcyhzZWxlY3Rvcikge1xyXG4gICAgdmFyIGVsZW1lbnQgPSB0aGlzO1xyXG4gICAgdmFyIGVsZW1lbnRzID0gKGVsZW1lbnQuZG9jdW1lbnQgfHwgZWxlbWVudC5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcclxuICAgIHZhciBpbmRleCA9IDA7XHJcblxyXG4gICAgd2hpbGUgKGVsZW1lbnRzW2luZGV4XSAmJiBlbGVtZW50c1tpbmRleF0gIT09IGVsZW1lbnQpIHtcclxuICAgICAgKytpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gISFlbGVtZW50c1tpbmRleF07XHJcbiAgfTtcclxuXHJcbn0pLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XHJcblxyXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblxyXG4gIC8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS8xZjNjMDliNDAyZjY1YmY2ZTM5M2Y5MzNhMTViYTYzZjFiODZlZjFmL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0VsZW1lbnQvcHJvdG90eXBlL2Nsb3Nlc3QvZGV0ZWN0LmpzXHJcbiAgdmFyIGRldGVjdCA9IChcclxuICAgICdkb2N1bWVudCcgaW4gdGhpcyAmJiBcImNsb3Nlc3RcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICApO1xyXG5cclxuICBpZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbiAgLy8gUG9seWZpbGwgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvMWYzYzA5YjQwMmY2NWJmNmUzOTNmOTMzYTE1YmE2M2YxYjg2ZWYxZi9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9jbG9zZXN0L3BvbHlmaWxsLmpzXHJcbiAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uIGNsb3Nlc3Qoc2VsZWN0b3IpIHtcclxuICAgIHZhciBub2RlID0gdGhpcztcclxuXHJcbiAgICB3aGlsZSAobm9kZSkge1xyXG4gICAgICBpZiAobm9kZS5tYXRjaGVzKHNlbGVjdG9yKSkgcmV0dXJuIG5vZGU7XHJcbiAgICAgIGVsc2Ugbm9kZSA9ICdTVkdFbGVtZW50JyBpbiB3aW5kb3cgJiYgbm9kZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQgPyBub2RlLnBhcmVudE5vZGUgOiBub2RlLnBhcmVudEVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxuXHJcbn0pLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XHJcblxyXG5mdW5jdGlvbiBFcnJvclN1bW1hcnkgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG59XHJcblxyXG5FcnJvclN1bW1hcnkucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgaWYgKCEkbW9kdWxlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIHRoaXMuc2V0Rm9jdXMoKTtcclxuICAkbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBGb2N1cyB0aGUgZXJyb3Igc3VtbWFyeVxyXG4gKi9cclxuRXJyb3JTdW1tYXJ5LnByb3RvdHlwZS5zZXRGb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuXHJcbiAgaWYgKCRtb2R1bGUuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc2FibGUtYXV0by1mb2N1cycpID09PSAndHJ1ZScpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRhYmluZGV4IHRvIC0xIHRvIG1ha2UgdGhlIGVsZW1lbnQgcHJvZ3JhbW1hdGljYWxseSBmb2N1c2FibGUsIGJ1dFxyXG4gIC8vIHJlbW92ZSBpdCBvbiBibHVyIGFzIHRoZSBlcnJvciBzdW1tYXJ5IGRvZXNuJ3QgbmVlZCB0byBiZSBmb2N1c2VkIGFnYWluLlxyXG4gICRtb2R1bGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG5cclxuICAkbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkbW9kdWxlLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICB9KTtcclxuXHJcbiAgJG1vZHVsZS5mb2N1cygpO1xyXG59O1xyXG5cclxuLyoqXHJcbiogQ2xpY2sgZXZlbnQgaGFuZGxlclxyXG4qXHJcbiogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCAtIENsaWNrIGV2ZW50XHJcbiovXHJcbkVycm9yU3VtbWFyeS5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gIGlmICh0aGlzLmZvY3VzVGFyZ2V0KHRhcmdldCkpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvY3VzIHRoZSB0YXJnZXQgZWxlbWVudFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0LCB0aGUgYnJvd3NlciB3aWxsIHNjcm9sbCB0aGUgdGFyZ2V0IGludG8gdmlldy4gQmVjYXVzZSBvdXIgbGFiZWxzXHJcbiAqIG9yIGxlZ2VuZHMgYXBwZWFyIGFib3ZlIHRoZSBpbnB1dCwgdGhpcyBtZWFucyB0aGUgdXNlciB3aWxsIGJlIHByZXNlbnRlZCB3aXRoXHJcbiAqIGFuIGlucHV0IHdpdGhvdXQgYW55IGNvbnRleHQsIGFzIHRoZSBsYWJlbCBvciBsZWdlbmQgd2lsbCBiZSBvZmYgdGhlIHRvcCBvZlxyXG4gKiB0aGUgc2NyZWVuLlxyXG4gKlxyXG4gKiBNYW51YWxseSBoYW5kbGluZyB0aGUgY2xpY2sgZXZlbnQsIHNjcm9sbGluZyB0aGUgcXVlc3Rpb24gaW50byB2aWV3IGFuZCB0aGVuXHJcbiAqIGZvY3Vzc2luZyB0aGUgZWxlbWVudCBzb2x2ZXMgdGhpcy5cclxuICpcclxuICogVGhpcyBhbHNvIHJlc3VsdHMgaW4gdGhlIGxhYmVsIGFuZC9vciBsZWdlbmQgYmVpbmcgYW5ub3VuY2VkIGNvcnJlY3RseSBpblxyXG4gKiBOVkRBIChhcyB0ZXN0ZWQgaW4gMjAxOC4zLjIpIC0gd2l0aG91dCB0aGlzIG9ubHkgdGhlIGZpZWxkIHR5cGUgaXMgYW5ub3VuY2VkXHJcbiAqIChlLmcuIFwiRWRpdCwgaGFzIGF1dG9jb21wbGV0ZVwiKS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gJHRhcmdldCAtIEV2ZW50IHRhcmdldFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdGFyZ2V0IHdhcyBhYmxlIHRvIGJlIGZvY3Vzc2VkXHJcbiAqL1xyXG5FcnJvclN1bW1hcnkucHJvdG90eXBlLmZvY3VzVGFyZ2V0ID0gZnVuY3Rpb24gKCR0YXJnZXQpIHtcclxuICAvLyBJZiB0aGUgZWxlbWVudCB0aGF0IHdhcyBjbGlja2VkIHdhcyBub3QgYSBsaW5rLCByZXR1cm4gZWFybHlcclxuICBpZiAoJHRhcmdldC50YWdOYW1lICE9PSAnQScgfHwgJHRhcmdldC5ocmVmID09PSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICB2YXIgaW5wdXRJZCA9IHRoaXMuZ2V0RnJhZ21lbnRGcm9tVXJsKCR0YXJnZXQuaHJlZik7XHJcbiAgdmFyICRpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlucHV0SWQpO1xyXG4gIGlmICghJGlucHV0KSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHZhciAkbGVnZW5kT3JMYWJlbCA9IHRoaXMuZ2V0QXNzb2NpYXRlZExlZ2VuZE9yTGFiZWwoJGlucHV0KTtcclxuICBpZiAoISRsZWdlbmRPckxhYmVsKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIC8vIFNjcm9sbCB0aGUgbGVnZW5kIG9yIGxhYmVsIGludG8gdmlldyAqYmVmb3JlKiBjYWxsaW5nIGZvY3VzIG9uIHRoZSBpbnB1dCB0b1xyXG4gIC8vIGF2b2lkIGV4dHJhIHNjcm9sbGluZyBpbiBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgYHByZXZlbnRTY3JvbGxgICh3aGljaFxyXG4gIC8vIGF0IHRpbWUgb2Ygd3JpdGluZyBpcyBtb3N0IG9mIHRoZW0uLi4pXHJcbiAgJGxlZ2VuZE9yTGFiZWwuc2Nyb2xsSW50b1ZpZXcoKTtcclxuICAkaW5wdXQuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pO1xyXG5cclxuICByZXR1cm4gdHJ1ZVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCBmcmFnbWVudCBmcm9tIFVSTFxyXG4gKlxyXG4gKiBFeHRyYWN0IHRoZSBmcmFnbWVudCAoZXZlcnl0aGluZyBhZnRlciB0aGUgaGFzaCkgZnJvbSBhIFVSTCwgYnV0IG5vdCBpbmNsdWRpbmdcclxuICogdGhlIGhhc2guXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBVUkxcclxuICogQHJldHVybnMge3N0cmluZ30gRnJhZ21lbnQgZnJvbSBVUkwsIHdpdGhvdXQgdGhlIGhhc2hcclxuICovXHJcbkVycm9yU3VtbWFyeS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRGcm9tVXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG4gIGlmICh1cmwuaW5kZXhPZignIycpID09PSAtMSkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICByZXR1cm4gdXJsLnNwbGl0KCcjJykucG9wKClcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgYXNzb2NpYXRlZCBsZWdlbmQgb3IgbGFiZWxcclxuICpcclxuICogUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGV4aXN0cyBmcm9tIHRoaXMgbGlzdDpcclxuICpcclxuICogLSBUaGUgYDxsZWdlbmQ+YCBhc3NvY2lhdGVkIHdpdGggdGhlIGNsb3Nlc3QgYDxmaWVsZHNldD5gIGFuY2VzdG9yLCBhcyBsb25nXHJcbiAqICAgYXMgdGhlIHRvcCBvZiBpdCBpcyBubyBtb3JlIHRoYW4gaGFsZiBhIHZpZXdwb3J0IGhlaWdodCBhd2F5IGZyb20gdGhlXHJcbiAqICAgYm90dG9tIG9mIHRoZSBpbnB1dFxyXG4gKiAtIFRoZSBmaXJzdCBgPGxhYmVsPmAgdGhhdCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGlucHV0IHVzaW5nIGZvcj1cImlucHV0SWRcIlxyXG4gKiAtIFRoZSBjbG9zZXN0IHBhcmVudCBgPGxhYmVsPmBcclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gJGlucHV0IC0gVGhlIGlucHV0XHJcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gQXNzb2NpYXRlZCBsZWdlbmQgb3IgbGFiZWwsIG9yIG51bGwgaWYgbm8gYXNzb2NpYXRlZFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIGxlZ2VuZCBvciBsYWJlbCBjYW4gYmUgZm91bmRcclxuICovXHJcbkVycm9yU3VtbWFyeS5wcm90b3R5cGUuZ2V0QXNzb2NpYXRlZExlZ2VuZE9yTGFiZWwgPSBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgdmFyICRmaWVsZHNldCA9ICRpbnB1dC5jbG9zZXN0KCdmaWVsZHNldCcpO1xyXG5cclxuICBpZiAoJGZpZWxkc2V0KSB7XHJcbiAgICB2YXIgbGVnZW5kcyA9ICRmaWVsZHNldC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGVnZW5kJyk7XHJcblxyXG4gICAgaWYgKGxlZ2VuZHMubGVuZ3RoKSB7XHJcbiAgICAgIHZhciAkY2FuZGlkYXRlTGVnZW5kID0gbGVnZW5kc1swXTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBpbnB1dCB0eXBlIGlzIHJhZGlvIG9yIGNoZWNrYm94LCBhbHdheXMgdXNlIHRoZSBsZWdlbmQgaWYgdGhlcmVcclxuICAgICAgLy8gaXMgb25lLlxyXG4gICAgICBpZiAoJGlucHV0LnR5cGUgPT09ICdjaGVja2JveCcgfHwgJGlucHV0LnR5cGUgPT09ICdyYWRpbycpIHtcclxuICAgICAgICByZXR1cm4gJGNhbmRpZGF0ZUxlZ2VuZFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGb3Igb3RoZXIgaW5wdXQgdHlwZXMsIG9ubHkgc2Nyb2xsIHRvIHRoZSBmaWVsZHNldOKAmXMgbGVnZW5kIChpbnN0ZWFkIG9mXHJcbiAgICAgIC8vIHRoZSBsYWJlbCBhc3NvY2lhdGVkIHdpdGggdGhlIGlucHV0KSBpZiB0aGUgaW5wdXQgd291bGQgZW5kIHVwIGluIHRoZVxyXG4gICAgICAvLyB0b3AgaGFsZiBvZiB0aGUgc2NyZWVuLlxyXG4gICAgICAvL1xyXG4gICAgICAvLyBUaGlzIHNob3VsZCBhdm9pZCBzaXR1YXRpb25zIHdoZXJlIHRoZSBpbnB1dCBlaXRoZXIgZW5kcyB1cCBvZmYgdGhlXHJcbiAgICAgIC8vIHNjcmVlbiwgb3Igb2JzY3VyZWQgYnkgYSBzb2Z0d2FyZSBrZXlib2FyZC5cclxuICAgICAgdmFyIGxlZ2VuZFRvcCA9ICRjYW5kaWRhdGVMZWdlbmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICB2YXIgaW5wdXRSZWN0ID0gJGlucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0XHJcbiAgICAgIC8vIG9yIHdpbmRvdy5pbm5lckhlaWdodCAobGlrZSBJRTgpLCBiYWlsIGFuZCBqdXN0IGxpbmsgdG8gdGhlIGxhYmVsLlxyXG4gICAgICBpZiAoaW5wdXRSZWN0LmhlaWdodCAmJiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgICB2YXIgaW5wdXRCb3R0b20gPSBpbnB1dFJlY3QudG9wICsgaW5wdXRSZWN0LmhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKGlucHV0Qm90dG9tIC0gbGVnZW5kVG9wIDwgd2luZG93LmlubmVySGVpZ2h0IC8gMikge1xyXG4gICAgICAgICAgcmV0dXJuICRjYW5kaWRhdGVMZWdlbmRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGFiZWxbZm9yPSdcIiArICRpbnB1dC5nZXRBdHRyaWJ1dGUoJ2lkJykgKyBcIiddXCIpIHx8XHJcbiAgICAkaW5wdXQuY2xvc2VzdCgnbGFiZWwnKVxyXG59O1xyXG5cclxuZnVuY3Rpb24gTm90aWZpY2F0aW9uQmFubmVyICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpc2UgdGhlIGNvbXBvbmVudFxyXG4gKi9cclxuTm90aWZpY2F0aW9uQmFubmVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG4gIC8vIENoZWNrIGZvciBtb2R1bGVcclxuICBpZiAoISRtb2R1bGUpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgdGhpcy5zZXRGb2N1cygpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvY3VzIHRoZSBlbGVtZW50XHJcbiAqXHJcbiAqIElmIGByb2xlPVwiYWxlcnRcImAgaXMgc2V0LCBmb2N1cyB0aGUgZWxlbWVudCB0byBoZWxwIHNvbWUgYXNzaXN0aXZlIHRlY2hub2xvZ2llc1xyXG4gKiBwcmlvcml0aXNlIGFubm91bmNpbmcgaXQuXHJcbiAqXHJcbiAqIFlvdSBjYW4gdHVybiBvZmYgdGhlIGF1dG8tZm9jdXMgZnVuY3Rpb25hbGl0eSBieSBzZXR0aW5nIGBkYXRhLWRpc2FibGUtYXV0by1mb2N1cz1cInRydWVcImAgaW4gdGhlXHJcbiAqIGNvbXBvbmVudCBIVE1MLiBZb3UgbWlnaHQgd2lzaCB0byBkbyB0aGlzIGJhc2VkIG9uIHVzZXIgcmVzZWFyY2ggZmluZGluZ3MsIG9yIHRvIGF2b2lkIGEgY2xhc2hcclxuICogd2l0aCBhbm90aGVyIGVsZW1lbnQgd2hpY2ggc2hvdWxkIGJlIGZvY3VzZWQgd2hlbiB0aGUgcGFnZSBsb2Fkcy5cclxuICovXHJcbk5vdGlmaWNhdGlvbkJhbm5lci5wcm90b3R5cGUuc2V0Rm9jdXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcblxyXG4gIGlmICgkbW9kdWxlLmdldEF0dHJpYnV0ZSgnZGF0YS1kaXNhYmxlLWF1dG8tZm9jdXMnKSA9PT0gJ3RydWUnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGlmICgkbW9kdWxlLmdldEF0dHJpYnV0ZSgncm9sZScpICE9PSAnYWxlcnQnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIFNldCB0YWJpbmRleCB0byAtMSB0byBtYWtlIHRoZSBlbGVtZW50IGZvY3VzYWJsZSB3aXRoIEphdmFTY3JpcHQuXHJcbiAgLy8gUmVtb3ZlIHRoZSB0YWJpbmRleCBvbiBibHVyIGFzIHRoZSBjb21wb25lbnQgZG9lc24ndCBuZWVkIHRvIGJlIGZvY3VzYWJsZSBhZnRlciB0aGUgcGFnZSBoYXNcclxuICAvLyBsb2FkZWQuXHJcbiAgaWYgKCEkbW9kdWxlLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xyXG4gICAgJG1vZHVsZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gICAgJG1vZHVsZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAkbW9kdWxlLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgJG1vZHVsZS5mb2N1cygpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gSGVhZGVyICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLiRtZW51QnV0dG9uID0gJG1vZHVsZSAmJiAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay1qcy1oZWFkZXItdG9nZ2xlJyk7XHJcbiAgdGhpcy4kbWVudSA9IHRoaXMuJG1lbnVCdXR0b24gJiYgJG1vZHVsZS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgJyMnICsgdGhpcy4kbWVudUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKVxyXG4gICk7XHJcblxyXG4gIC8vIFNhdmUgdGhlIG9wZW5lZC9jbG9zZWQgc3RhdGUgZm9yIHRoZSBuYXYgaW4gbWVtb3J5IHNvIHRoYXQgd2UgY2FuXHJcbiAgLy8gYWNjdXJhdGVseSBtYWludGFpbiBzdGF0ZSB3aGVuIHRoZSBzY3JlZW4gaXMgY2hhbmdlZCBmcm9tIHNtYWxsIHRvXHJcbiAgLy8gYmlnIGFuZCBiYWNrIHRvIHNtYWxsXHJcbiAgdGhpcy5tZW51SXNPcGVuID0gZmFsc2U7XHJcblxyXG4gIC8vIEEgZ2xvYmFsIGNvbnN0IGZvciBzdG9yaW5nIGEgbWF0Y2hNZWRpYSBpbnN0YW5jZSB3aGljaCB3ZSdsbCB1c2UgdG9cclxuICAvLyBkZXRlY3Qgd2hlbiBhIHNjcmVlbiBzaXplIGNoYW5nZSBoYXBwZW5zLiBXZSBzZXQgdGhpcyBsYXRlciBkdXJpbmcgdGhlXHJcbiAgLy8gaW5pdCBmdW5jdGlvbiBhbmQgcmVseSBvbiBpdCBiZWluZyBudWxsIGlmIHRoZSBmZWF0dXJlIGlzbid0IGF2YWlsYWJsZVxyXG4gIC8vIHRvIGluaXRpYWxseSBhcHBseSBoaWRkZW4gYXR0cmlidXRlc1xyXG4gIHRoaXMubXFsID0gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpc2UgaGVhZGVyXHJcbiAqXHJcbiAqIENoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgdGhlIGhlYWRlciwgbWVudSBhbmQgbWVudSBidXR0b24g4oCTIGlmIGFueSBhcmVcclxuICogbWlzc2luZyB0aGVuIHRoZXJlJ3Mgbm90aGluZyB0byBkbyBzbyByZXR1cm4gZWFybHkuXHJcbiAqIEZlYXR1cmUgc25pZmYgZm9yIGFuZCBhcHBseSBhIG1hdGNoTWVkaWEgZm9yIGRlc2t0b3Agd2hpY2ggd2lsbFxyXG4gKiB0cmlnZ2VyIGEgc3RhdGUgc3luYyBpZiB0aGUgYnJvd3NlciB2aWV3cG9ydCBtb3ZlcyBiZXR3ZWVuIHN0YXRlcy4gSWZcclxuICogbWF0Y2hNZWRpYSBpc24ndCBhdmFpbGFibGUsIGhpZGUgdGhlIG1lbnUgYnV0dG9uIGFuZCBwcmVzZW50IHRoZSBcIm5vIGpzXCJcclxuICogdmVyc2lvbiBvZiB0aGUgbWVudSB0byB0aGUgdXNlci5cclxuICovXHJcbkhlYWRlci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXRoaXMuJG1vZHVsZSB8fCAhdGhpcy4kbWVudUJ1dHRvbiB8fCAhdGhpcy4kbWVudSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICBpZiAoJ21hdGNoTWVkaWEnIGluIHdpbmRvdykge1xyXG4gICAgLy8gU2V0IHRoZSBtYXRjaE1lZGlhIHRvIHRoZSBnb3Z1ay1mcm9udGVuZCBkZXNrdG9wIGJyZWFrcG9pbnRcclxuICAgIHRoaXMubXFsID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDQ4LjA2MjVlbSknKTtcclxuXHJcbiAgICBpZiAoJ2FkZEV2ZW50TGlzdGVuZXInIGluIHRoaXMubXFsKSB7XHJcbiAgICAgIHRoaXMubXFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuc3luY1N0YXRlLmJpbmQodGhpcykpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gYWRkTGlzdGVuZXIgaXMgYSBkZXByZWNhdGVkIGZ1bmN0aW9uLCBob3dldmVyIGFkZEV2ZW50TGlzdGVuZXJcclxuICAgICAgLy8gaXNuJ3Qgc3VwcG9ydGVkIGJ5IElFIG9yIFNhZmFyaS4gV2UgdGhlcmVmb3JlIGFkZCB0aGlzIGluIGFzXHJcbiAgICAgIC8vIGEgZmFsbGJhY2sgZm9yIHRob3NlIGJyb3dzZXJzXHJcbiAgICAgIHRoaXMubXFsLmFkZExpc3RlbmVyKHRoaXMuc3luY1N0YXRlLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3luY1N0YXRlKCk7XHJcbiAgICB0aGlzLiRtZW51QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVNZW51QnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuJG1lbnVCdXR0b24uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAnJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgbWVudSBzdGF0ZVxyXG4gKlxyXG4gKiBVc2VzIHRoZSBnbG9iYWwgdmFyaWFibGUgbWVudUlzT3BlbiB0byBjb3JyZWN0bHkgc2V0IHRoZSBhY2Nlc3NpYmxlIGFuZFxyXG4gKiB2aXN1YWwgc3RhdGVzIG9mIHRoZSBtZW51IGFuZCB0aGUgbWVudSBidXR0b24uXHJcbiAqIEFkZGl0aW9uYWxseSB3aWxsIGZvcmNlIHRoZSBtZW51IHRvIGJlIHZpc2libGUgYW5kIHRoZSBtZW51IGJ1dHRvbiB0byBiZVxyXG4gKiBoaWRkZW4gaWYgdGhlIG1hdGNoTWVkaWEgaXMgdHJpZ2dlcmVkIHRvIGRlc2t0b3AuXHJcbiAqL1xyXG5IZWFkZXIucHJvdG90eXBlLnN5bmNTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAodGhpcy5tcWwubWF0Y2hlcykge1xyXG4gICAgdGhpcy4kbWVudS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xyXG4gICAgdGhpcy4kbWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy4kbWVudUJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xyXG4gICAgdGhpcy4kbWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0aGlzLm1lbnVJc09wZW4pO1xyXG5cclxuICAgIGlmICh0aGlzLm1lbnVJc09wZW4pIHtcclxuICAgICAgdGhpcy4kbWVudS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy4kbWVudS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogSGFuZGxlIG1lbnUgYnV0dG9uIGNsaWNrXHJcbiAqXHJcbiAqIFdoZW4gdGhlIG1lbnUgYnV0dG9uIGlzIGNsaWNrZWQsIGNoYW5nZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgbWVudSBhbmQgdGhlblxyXG4gKiBzeW5jIHRoZSBhY2Nlc3NpYmlsaXR5IHN0YXRlIGFuZCBtZW51IGJ1dHRvbiBzdGF0ZVxyXG4gKi9cclxuSGVhZGVyLnByb3RvdHlwZS5oYW5kbGVNZW51QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5tZW51SXNPcGVuID0gIXRoaXMubWVudUlzT3BlbjtcclxuICB0aGlzLnN5bmNTdGF0ZSgpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gUmFkaW9zICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLiRpbnB1dHMgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGlzZSBSYWRpb3NcclxuICpcclxuICogUmFkaW9zIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggYSAnY29uZGl0aW9uYWxseSByZXZlYWxlZCcgY29udGVudCBibG9jayDigJMgZm9yXHJcbiAqIGV4YW1wbGUsIGEgcmFkaW8gZm9yICdQaG9uZScgY291bGQgcmV2ZWFsIGFuIGFkZGl0aW9uYWwgZm9ybSBmaWVsZCBmb3IgdGhlXHJcbiAqIHVzZXIgdG8gZW50ZXIgdGhlaXIgcGhvbmUgbnVtYmVyLlxyXG4gKlxyXG4gKiBUaGVzZSBhc3NvY2lhdGlvbnMgYXJlIG1hZGUgdXNpbmcgYSBgZGF0YS1hcmlhLWNvbnRyb2xzYCBhdHRyaWJ1dGUsIHdoaWNoIGlzXHJcbiAqIHByb21vdGVkIHRvIGFuIGFyaWEtY29udHJvbHMgYXR0cmlidXRlIGR1cmluZyBpbml0aWFsaXNhdGlvbi5cclxuICpcclxuICogV2UgYWxzbyBuZWVkIHRvIHJlc3RvcmUgdGhlIHN0YXRlIG9mIGFueSBjb25kaXRpb25hbCByZXZlYWxzIG9uIHRoZSBwYWdlIChmb3JcclxuICogZXhhbXBsZSBpZiB0aGUgdXNlciBoYXMgbmF2aWdhdGVkIGJhY2spLCBhbmQgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGtlZXBcclxuICogdGhlIHJldmVhbCBpbiBzeW5jIHdpdGggdGhlIHJhZGlvIHN0YXRlLlxyXG4gKi9cclxuUmFkaW9zLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG4gIHZhciAkaW5wdXRzID0gdGhpcy4kaW5wdXRzO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goJGlucHV0cywgZnVuY3Rpb24gKCRpbnB1dCkge1xyXG4gICAgdmFyIHRhcmdldCA9ICRpbnB1dC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXJpYS1jb250cm9scycpO1xyXG5cclxuICAgIC8vIFNraXAgcmFkaW9zIHdpdGhvdXQgZGF0YS1hcmlhLWNvbnRyb2xzIGF0dHJpYnV0ZXMsIG9yIHdoZXJlIHRoZVxyXG4gICAgLy8gdGFyZ2V0IGVsZW1lbnQgZG9lcyBub3QgZXhpc3QuXHJcbiAgICBpZiAoIXRhcmdldCB8fCAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9tb3RlIHRoZSBkYXRhLWFyaWEtY29udHJvbHMgYXR0cmlidXRlIHRvIGEgYXJpYS1jb250cm9scyBhdHRyaWJ1dGVcclxuICAgIC8vIHNvIHRoYXQgdGhlIHJlbGF0aW9uc2hpcCBpcyBleHBvc2VkIGluIHRoZSBBT01cclxuICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0YXJnZXQpO1xyXG4gICAgJGlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hcmlhLWNvbnRyb2xzJyk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFdoZW4gdGhlIHBhZ2UgaXMgcmVzdG9yZWQgYWZ0ZXIgbmF2aWdhdGluZyAnYmFjaycgaW4gc29tZSBicm93c2VycyB0aGVcclxuICAvLyBzdGF0ZSBvZiBmb3JtIGNvbnRyb2xzIGlzIG5vdCByZXN0b3JlZCB1bnRpbCAqYWZ0ZXIqIHRoZSBET01Db250ZW50TG9hZGVkXHJcbiAgLy8gZXZlbnQgaXMgZmlyZWQsIHNvIHdlIG5lZWQgdG8gc3luYyBhZnRlciB0aGUgcGFnZXNob3cgZXZlbnQgaW4gYnJvd3NlcnNcclxuICAvLyB0aGF0IHN1cHBvcnQgaXQuXHJcbiAgaWYgKCdvbnBhZ2VzaG93JyBpbiB3aW5kb3cpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscy5iaW5kKHRoaXMpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLnN5bmNBbGxDb25kaXRpb25hbFJldmVhbHMuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICAvLyBBbHRob3VnaCB3ZSd2ZSBzZXQgdXAgaGFuZGxlcnMgdG8gc3luYyBzdGF0ZSBvbiB0aGUgcGFnZXNob3cgb3JcclxuICAvLyBET01Db250ZW50TG9hZGVkIGV2ZW50LCBpbml0IGNvdWxkIGJlIGNhbGxlZCBhZnRlciB0aG9zZSBldmVudHMgaGF2ZSBmaXJlZCxcclxuICAvLyBmb3IgZXhhbXBsZSBpZiB0aGV5IGFyZSBhZGRlZCB0byB0aGUgcGFnZSBkeW5hbWljYWxseSwgc28gc3luYyBub3cgdG9vLlxyXG4gIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscygpO1xyXG5cclxuICAvLyBIYW5kbGUgZXZlbnRzXHJcbiAgJG1vZHVsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogU3luYyB0aGUgY29uZGl0aW9uYWwgcmV2ZWFsIHN0YXRlcyBmb3IgYWxsIGlucHV0cyBpbiB0aGlzICRtb2R1bGUuXHJcbiAqL1xyXG5SYWRpb3MucHJvdG90eXBlLnN5bmNBbGxDb25kaXRpb25hbFJldmVhbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKHRoaXMuJGlucHV0cywgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTeW5jIGNvbmRpdGlvbmFsIHJldmVhbCB3aXRoIHRoZSBpbnB1dCBzdGF0ZVxyXG4gKlxyXG4gKiBTeW5jaHJvbmlzZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgY29uZGl0aW9uYWwgcmV2ZWFsLCBhbmQgaXRzIGFjY2Vzc2libGVcclxuICogc3RhdGUsIHdpdGggdGhlIGlucHV0J3MgY2hlY2tlZCBzdGF0ZS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MSW5wdXRFbGVtZW50fSAkaW5wdXQgUmFkaW8gaW5wdXRcclxuICovXHJcblJhZGlvcy5wcm90b3R5cGUuc3luY0NvbmRpdGlvbmFsUmV2ZWFsV2l0aElucHV0U3RhdGUgPSBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgdmFyICR0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgkaW5wdXQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpO1xyXG5cclxuICBpZiAoJHRhcmdldCAmJiAkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ292dWstcmFkaW9zX19jb25kaXRpb25hbCcpKSB7XHJcbiAgICB2YXIgaW5wdXRJc0NoZWNrZWQgPSAkaW5wdXQuY2hlY2tlZDtcclxuXHJcbiAgICAkaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgaW5wdXRJc0NoZWNrZWQpO1xyXG4gICAgJHRhcmdldC5jbGFzc0xpc3QudG9nZ2xlKCdnb3Z1ay1yYWRpb3NfX2NvbmRpdGlvbmFsLS1oaWRkZW4nLCAhaW5wdXRJc0NoZWNrZWQpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBDbGljayBldmVudCBoYW5kbGVyXHJcbiAqXHJcbiAqIEhhbmRsZSBhIGNsaWNrIHdpdGhpbiB0aGUgJG1vZHVsZSDigJMgaWYgdGhlIGNsaWNrIG9jY3VycmVkIG9uIGEgcmFkaW8sIHN5bmNcclxuICogdGhlIHN0YXRlIG9mIHRoZSBjb25kaXRpb25hbCByZXZlYWwgZm9yIGFsbCByYWRpbyBidXR0b25zIGluIHRoZSBzYW1lIGZvcm1cclxuICogd2l0aCB0aGUgc2FtZSBuYW1lIChiZWNhdXNlIGNoZWNraW5nIG9uZSByYWRpbyBjb3VsZCBoYXZlIHVuLWNoZWNrZWQgYSByYWRpb1xyXG4gKiBpbiBhbm90aGVyICRtb2R1bGUpXHJcbiAqXHJcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgQ2xpY2sgZXZlbnRcclxuICovXHJcblJhZGlvcy5wcm90b3R5cGUuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICB2YXIgJGNsaWNrZWRJbnB1dCA9IGV2ZW50LnRhcmdldDtcclxuXHJcbiAgLy8gSWdub3JlIGNsaWNrcyBvbiB0aGluZ3MgdGhhdCBhcmVuJ3QgcmFkaW8gYnV0dG9uc1xyXG4gIGlmICgkY2xpY2tlZElucHV0LnR5cGUgIT09ICdyYWRpbycpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gV2Ugb25seSBuZWVkIHRvIGNvbnNpZGVyIHJhZGlvcyB3aXRoIGNvbmRpdGlvbmFsIHJldmVhbHMsIHdoaWNoIHdpbGwgaGF2ZVxyXG4gIC8vIGFyaWEtY29udHJvbHMgYXR0cmlidXRlcy5cclxuICB2YXIgJGFsbElucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXVthcmlhLWNvbnRyb2xzXScpO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goJGFsbElucHV0cywgZnVuY3Rpb24gKCRpbnB1dCkge1xyXG4gICAgdmFyIGhhc1NhbWVGb3JtT3duZXIgPSAoJGlucHV0LmZvcm0gPT09ICRjbGlja2VkSW5wdXQuZm9ybSk7XHJcbiAgICB2YXIgaGFzU2FtZU5hbWUgPSAoJGlucHV0Lm5hbWUgPT09ICRjbGlja2VkSW5wdXQubmFtZSk7XHJcblxyXG4gICAgaWYgKGhhc1NhbWVOYW1lICYmIGhhc1NhbWVGb3JtT3duZXIpIHtcclxuICAgICAgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSgkaW5wdXQpO1xyXG4gICAgfVxyXG4gIH0uYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBTa2lwTGluayAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbiAgdGhpcy4kbGlua2VkRWxlbWVudCA9IG51bGw7XHJcbiAgdGhpcy5saW5rZWRFbGVtZW50TGlzdGVuZXIgPSBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpc2UgdGhlIGNvbXBvbmVudFxyXG4gKi9cclxuU2tpcExpbmsucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2hlY2sgZm9yIG1vZHVsZVxyXG4gIGlmICghdGhpcy4kbW9kdWxlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIENoZWNrIGZvciBsaW5rZWQgZWxlbWVudFxyXG4gIHRoaXMuJGxpbmtlZEVsZW1lbnQgPSB0aGlzLmdldExpbmtlZEVsZW1lbnQoKTtcclxuICBpZiAoIXRoaXMuJGxpbmtlZEVsZW1lbnQpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgdGhpcy4kbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c0xpbmtlZEVsZW1lbnQuYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vKipcclxuKiBHZXQgbGlua2VkIGVsZW1lbnRcclxuKlxyXG4qIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gJGxpbmtlZEVsZW1lbnQgLSBET00gZWxlbWVudCBsaW5rZWQgdG8gZnJvbSB0aGUgc2tpcCBsaW5rXHJcbiovXHJcblNraXBMaW5rLnByb3RvdHlwZS5nZXRMaW5rZWRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBsaW5rZWRFbGVtZW50SWQgPSB0aGlzLmdldEZyYWdtZW50RnJvbVVybCgpO1xyXG5cclxuICBpZiAoIWxpbmtlZEVsZW1lbnRJZCkge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG5cclxuICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobGlua2VkRWxlbWVudElkKVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvY3VzIHRoZSBsaW5rZWQgZWxlbWVudFxyXG4gKlxyXG4gKiBTZXQgdGFiaW5kZXggYW5kIGhlbHBlciBDU1MgY2xhc3MuIFNldCBsaXN0ZW5lciB0byByZW1vdmUgdGhlbSBvbiBibHVyLlxyXG4gKi9cclxuU2tpcExpbmsucHJvdG90eXBlLmZvY3VzTGlua2VkRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJGxpbmtlZEVsZW1lbnQgPSB0aGlzLiRsaW5rZWRFbGVtZW50O1xyXG5cclxuICBpZiAoISRsaW5rZWRFbGVtZW50LmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xyXG4gICAgLy8gU2V0IHRoZSBlbGVtZW50IHRhYmluZGV4IHRvIC0xIHNvIGl0IGNhbiBiZSBmb2N1c2VkIHdpdGggSmF2YVNjcmlwdC5cclxuICAgICRsaW5rZWRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxuICAgICRsaW5rZWRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2dvdnVrLXNraXAtbGluay1mb2N1c2VkLWVsZW1lbnQnKTtcclxuXHJcbiAgICAvLyBBZGQgbGlzdGVuZXIgZm9yIGJsdXIgb24gdGhlIGZvY3VzZWQgZWxlbWVudCAodW5sZXNzIHRoZSBsaXN0ZW5lciBoYXMgcHJldmlvdXNseSBiZWVuIGFkZGVkKVxyXG4gICAgaWYgKCF0aGlzLmxpbmtlZEVsZW1lbnRMaXN0ZW5lcikge1xyXG4gICAgICB0aGlzLiRsaW5rZWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLnJlbW92ZUZvY3VzUHJvcGVydGllcy5iaW5kKHRoaXMpKTtcclxuICAgICAgdGhpcy5saW5rZWRFbGVtZW50TGlzdGVuZXIgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuICAkbGlua2VkRWxlbWVudC5mb2N1cygpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSB0aGUgdGFiaW5kZXggdGhhdCBtYWtlcyB0aGUgbGlua2VkIGVsZW1lbnQgZm9jdXNhYmxlIGJlY2F1c2UgdGhlIGVsZW1lbnQgb25seSBuZWVkcyB0byBiZVxyXG4gKiBmb2N1c2FibGUgdW50aWwgaXQgaGFzIHJlY2VpdmVkIHByb2dyYW1tYXRpYyBmb2N1cyBhbmQgYSBzY3JlZW4gcmVhZGVyIGhhcyBhbm5vdW5jZWQgaXQuXHJcbiAqXHJcbiAqIFJlbW92ZSB0aGUgQ1NTIGNsYXNzIHRoYXQgcmVtb3ZlcyB0aGUgbmF0aXZlIGZvY3VzIHN0eWxlcy5cclxuICovXHJcblNraXBMaW5rLnByb3RvdHlwZS5yZW1vdmVGb2N1c1Byb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy4kbGlua2VkRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcbiAgdGhpcy4kbGlua2VkRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay1za2lwLWxpbmstZm9jdXNlZC1lbGVtZW50Jyk7XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IGZyYWdtZW50IGZyb20gVVJMXHJcbiAqXHJcbiAqIEV4dHJhY3QgdGhlIGZyYWdtZW50IChldmVyeXRoaW5nIGFmdGVyIHRoZSBoYXNoIHN5bWJvbCkgZnJvbSBhIFVSTCwgYnV0IG5vdCBpbmNsdWRpbmdcclxuICogdGhlIHN5bWJvbC5cclxuICpcclxuICogQHJldHVybnMge3N0cmluZ30gRnJhZ21lbnQgZnJvbSBVUkwsIHdpdGhvdXQgdGhlIGhhc2ggc3ltYm9sXHJcbiAqL1xyXG5Ta2lwTGluay5wcm90b3R5cGUuZ2V0RnJhZ21lbnRGcm9tVXJsID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIEJhaWwgaWYgdGhlIGFuY2hvciBsaW5rIGRvZXNuJ3QgaGF2ZSBhIGhhc2hcclxuICBpZiAoIXRoaXMuJG1vZHVsZS5oYXNoKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzLiRtb2R1bGUuaGFzaC5zcGxpdCgnIycpLnBvcCgpXHJcbn07XHJcblxyXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1saWJyYXJ5L21hc3Rlci9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvbmV4dEVsZW1lbnRTaWJsaW5nL2RldGVjdC5qc1xyXG4gICAgdmFyIGRldGVjdCA9IChcclxuICAgICAgJ2RvY3VtZW50JyBpbiB0aGlzICYmIFwibmV4dEVsZW1lbnRTaWJsaW5nXCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICApO1xyXG5cclxuICAgIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAgIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1saWJyYXJ5L21hc3Rlci9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvbmV4dEVsZW1lbnRTaWJsaW5nL3BvbHlmaWxsLmpzXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRWxlbWVudC5wcm90b3R5cGUsIFwibmV4dEVsZW1lbnRTaWJsaW5nXCIsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbCA9IHRoaXMubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgd2hpbGUgKGVsICYmIGVsLm5vZGVUeXBlICE9PSAxKSB7IGVsID0gZWwubmV4dFNpYmxpbmc7IH1cclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvLyBEZXRlY3Rpb24gZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLWxpYnJhcnkvbWFzdGVyL3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9wcmV2aW91c0VsZW1lbnRTaWJsaW5nL2RldGVjdC5qc1xyXG4gICAgdmFyIGRldGVjdCA9IChcclxuICAgICAgJ2RvY3VtZW50JyBpbiB0aGlzICYmIFwicHJldmlvdXNFbGVtZW50U2libGluZ1wiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbiAgICAvLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtbGlicmFyeS9tYXN0ZXIvcG9seWZpbGxzL0VsZW1lbnQvcHJvdG90eXBlL3ByZXZpb3VzRWxlbWVudFNpYmxpbmcvcG9seWZpbGwuanNcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnLCB7XHJcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgZWwgPSB0aGlzLnByZXZpb3VzU2libGluZztcclxuICAgICAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT09IDEpIHsgZWwgPSBlbC5wcmV2aW91c1NpYmxpbmc7IH1cclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbmZ1bmN0aW9uIFRhYnMgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG4gIHRoaXMuJHRhYnMgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5nb3Z1ay10YWJzX190YWInKTtcclxuXHJcbiAgdGhpcy5rZXlzID0geyBsZWZ0OiAzNywgcmlnaHQ6IDM5LCB1cDogMzgsIGRvd246IDQwIH07XHJcbiAgdGhpcy5qc0hpZGRlbkNsYXNzID0gJ2dvdnVrLXRhYnNfX3BhbmVsLS1oaWRkZW4nO1xyXG59XHJcblxyXG5UYWJzLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh0eXBlb2Ygd2luZG93Lm1hdGNoTWVkaWEgPT09ICdmdW5jdGlvbicpIHtcclxuICAgIHRoaXMuc2V0dXBSZXNwb25zaXZlQ2hlY2tzKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuc2V0dXAoKTtcclxuICB9XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5zZXR1cFJlc3BvbnNpdmVDaGVja3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5tcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNDAuMDYyNWVtKScpO1xyXG4gIHRoaXMubXFsLmFkZExpc3RlbmVyKHRoaXMuY2hlY2tNb2RlLmJpbmQodGhpcykpO1xyXG4gIHRoaXMuY2hlY2tNb2RlKCk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5jaGVja01vZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHRoaXMubXFsLm1hdGNoZXMpIHtcclxuICAgIHRoaXMuc2V0dXAoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy50ZWFyZG93bigpO1xyXG4gIH1cclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG4gIHZhciAkdGFicyA9IHRoaXMuJHRhYnM7XHJcbiAgdmFyICR0YWJMaXN0ID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcuZ292dWstdGFic19fbGlzdCcpO1xyXG4gIHZhciAkdGFiTGlzdEl0ZW1zID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yQWxsKCcuZ292dWstdGFic19fbGlzdC1pdGVtJyk7XHJcblxyXG4gIGlmICghJHRhYnMgfHwgISR0YWJMaXN0IHx8ICEkdGFiTGlzdEl0ZW1zKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gICR0YWJMaXN0LnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWJsaXN0Jyk7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkdGFiTGlzdEl0ZW1zLCBmdW5jdGlvbiAoJGl0ZW0pIHtcclxuICAgICRpdGVtLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTtcclxuICB9KTtcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKCR0YWJzLCBmdW5jdGlvbiAoJHRhYikge1xyXG4gICAgLy8gU2V0IEhUTUwgYXR0cmlidXRlc1xyXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVzKCR0YWIpO1xyXG5cclxuICAgIC8vIFNhdmUgYm91bmRlZCBmdW5jdGlvbnMgdG8gdXNlIHdoZW4gcmVtb3ZpbmcgZXZlbnQgbGlzdGVuZXJzIGR1cmluZyB0ZWFyZG93blxyXG4gICAgJHRhYi5ib3VuZFRhYkNsaWNrID0gdGhpcy5vblRhYkNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICAkdGFiLmJvdW5kVGFiS2V5ZG93biA9IHRoaXMub25UYWJLZXlkb3duLmJpbmQodGhpcyk7XHJcblxyXG4gICAgLy8gSGFuZGxlIGV2ZW50c1xyXG4gICAgJHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICR0YWIuYm91bmRUYWJDbGljaywgdHJ1ZSk7XHJcbiAgICAkdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAkdGFiLmJvdW5kVGFiS2V5ZG93biwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gUmVtb3ZlIG9sZCBhY3RpdmUgcGFuZWxzXHJcbiAgICB0aGlzLmhpZGVUYWIoJHRhYik7XHJcbiAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgLy8gU2hvdyBlaXRoZXIgdGhlIGFjdGl2ZSB0YWIgYWNjb3JkaW5nIHRvIHRoZSBVUkwncyBoYXNoIG9yIHRoZSBmaXJzdCB0YWJcclxuICB2YXIgJGFjdGl2ZVRhYiA9IHRoaXMuZ2V0VGFiKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB8fCB0aGlzLiR0YWJzWzBdO1xyXG4gIHRoaXMuc2hvd1RhYigkYWN0aXZlVGFiKTtcclxuXHJcbiAgLy8gSGFuZGxlIGhhc2hjaGFuZ2UgZXZlbnRzXHJcbiAgJG1vZHVsZS5ib3VuZE9uSGFzaENoYW5nZSA9IHRoaXMub25IYXNoQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAkbW9kdWxlLmJvdW5kT25IYXNoQ2hhbmdlLCB0cnVlKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG4gIHZhciAkdGFicyA9IHRoaXMuJHRhYnM7XHJcbiAgdmFyICR0YWJMaXN0ID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcuZ292dWstdGFic19fbGlzdCcpO1xyXG4gIHZhciAkdGFiTGlzdEl0ZW1zID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yQWxsKCcuZ292dWstdGFic19fbGlzdC1pdGVtJyk7XHJcblxyXG4gIGlmICghJHRhYnMgfHwgISR0YWJMaXN0IHx8ICEkdGFiTGlzdEl0ZW1zKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gICR0YWJMaXN0LnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goJHRhYkxpc3RJdGVtcywgZnVuY3Rpb24gKCRpdGVtKSB7XHJcbiAgICAkaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XHJcbiAgfSk7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkdGFicywgZnVuY3Rpb24gKCR0YWIpIHtcclxuICAgIC8vIFJlbW92ZSBldmVudHNcclxuICAgICR0YWIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCAkdGFiLmJvdW5kVGFiQ2xpY2ssIHRydWUpO1xyXG4gICAgJHRhYi5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgJHRhYi5ib3VuZFRhYktleWRvd24sIHRydWUpO1xyXG5cclxuICAgIC8vIFVuc2V0IEhUTUwgYXR0cmlidXRlc1xyXG4gICAgdGhpcy51bnNldEF0dHJpYnV0ZXMoJHRhYik7XHJcbiAgfS5iaW5kKHRoaXMpKTtcclxuXHJcbiAgLy8gUmVtb3ZlIGhhc2hjaGFuZ2UgZXZlbnQgaGFuZGxlclxyXG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgJG1vZHVsZS5ib3VuZE9uSGFzaENoYW5nZSwgdHJ1ZSk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5vbkhhc2hDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4gIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgdmFyICR0YWJXaXRoSGFzaCA9IHRoaXMuZ2V0VGFiKGhhc2gpO1xyXG4gIGlmICghJHRhYldpdGhIYXNoKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIFByZXZlbnQgY2hhbmdpbmcgdGhlIGhhc2hcclxuICBpZiAodGhpcy5jaGFuZ2luZ0hhc2gpIHtcclxuICAgIHRoaXMuY2hhbmdpbmdIYXNoID0gZmFsc2U7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIFNob3cgZWl0aGVyIHRoZSBhY3RpdmUgdGFiIGFjY29yZGluZyB0byB0aGUgVVJMJ3MgaGFzaCBvciB0aGUgZmlyc3QgdGFiXHJcbiAgdmFyICRwcmV2aW91c1RhYiA9IHRoaXMuZ2V0Q3VycmVudFRhYigpO1xyXG5cclxuICB0aGlzLmhpZGVUYWIoJHByZXZpb3VzVGFiKTtcclxuICB0aGlzLnNob3dUYWIoJHRhYldpdGhIYXNoKTtcclxuICAkdGFiV2l0aEhhc2guZm9jdXMoKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmhpZGVUYWIgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIHRoaXMudW5oaWdobGlnaHRUYWIoJHRhYik7XHJcbiAgdGhpcy5oaWRlUGFuZWwoJHRhYik7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5zaG93VGFiID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICB0aGlzLmhpZ2hsaWdodFRhYigkdGFiKTtcclxuICB0aGlzLnNob3dQYW5lbCgkdGFiKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmdldFRhYiA9IGZ1bmN0aW9uIChoYXNoKSB7XHJcbiAgcmV0dXJuIHRoaXMuJG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcuZ292dWstdGFic19fdGFiW2hyZWY9XCInICsgaGFzaCArICdcIl0nKVxyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuc2V0QXR0cmlidXRlcyA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgLy8gc2V0IHRhYiBhdHRyaWJ1dGVzXHJcbiAgdmFyIHBhbmVsSWQgPSB0aGlzLmdldEhyZWYoJHRhYikuc2xpY2UoMSk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RhYl8nICsgcGFuZWxJZCk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFiJyk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBwYW5lbElkKTtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xyXG4gICR0YWIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG5cclxuICAvLyBzZXQgcGFuZWwgYXR0cmlidXRlc1xyXG4gIHZhciAkcGFuZWwgPSB0aGlzLmdldFBhbmVsKCR0YWIpO1xyXG4gICRwYW5lbC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAndGFicGFuZWwnKTtcclxuICAkcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCAkdGFiLmlkKTtcclxuICAkcGFuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmpzSGlkZGVuQ2xhc3MpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUudW5zZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICAvLyB1bnNldCB0YWIgYXR0cmlidXRlc1xyXG4gICR0YWIucmVtb3ZlQXR0cmlidXRlKCdpZCcpO1xyXG4gICR0YWIucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XHJcbiAgJHRhYi5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKTtcclxuICAkdGFiLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcpO1xyXG4gICR0YWIucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xyXG5cclxuICAvLyB1bnNldCBwYW5lbCBhdHRyaWJ1dGVzXHJcbiAgdmFyICRwYW5lbCA9IHRoaXMuZ2V0UGFuZWwoJHRhYik7XHJcbiAgJHBhbmVsLnJlbW92ZUF0dHJpYnV0ZSgncm9sZScpO1xyXG4gICRwYW5lbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScpO1xyXG4gICRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuanNIaWRkZW5DbGFzcyk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5vblRhYkNsaWNrID0gZnVuY3Rpb24gKGUpIHtcclxuICBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ292dWstdGFic19fdGFiJykpIHtcclxuICAvLyBBbGxvdyBldmVudHMgb24gY2hpbGQgRE9NIGVsZW1lbnRzIHRvIGJ1YmJsZSB1cCB0byB0YWIgcGFyZW50XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHZhciAkbmV3VGFiID0gZS50YXJnZXQ7XHJcbiAgdmFyICRjdXJyZW50VGFiID0gdGhpcy5nZXRDdXJyZW50VGFiKCk7XHJcbiAgdGhpcy5oaWRlVGFiKCRjdXJyZW50VGFiKTtcclxuICB0aGlzLnNob3dUYWIoJG5ld1RhYik7XHJcbiAgdGhpcy5jcmVhdGVIaXN0b3J5RW50cnkoJG5ld1RhYik7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5jcmVhdGVIaXN0b3J5RW50cnkgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIHZhciAkcGFuZWwgPSB0aGlzLmdldFBhbmVsKCR0YWIpO1xyXG5cclxuICAvLyBTYXZlIGFuZCByZXN0b3JlIHRoZSBpZFxyXG4gIC8vIHNvIHRoZSBwYWdlIGRvZXNuJ3QganVtcCB3aGVuIGEgdXNlciBjbGlja3MgYSB0YWIgKHdoaWNoIGNoYW5nZXMgdGhlIGhhc2gpXHJcbiAgdmFyIGlkID0gJHBhbmVsLmlkO1xyXG4gICRwYW5lbC5pZCA9ICcnO1xyXG4gIHRoaXMuY2hhbmdpbmdIYXNoID0gdHJ1ZTtcclxuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHRoaXMuZ2V0SHJlZigkdGFiKS5zbGljZSgxKTtcclxuICAkcGFuZWwuaWQgPSBpZDtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLm9uVGFiS2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuICAgIGNhc2UgdGhpcy5rZXlzLmxlZnQ6XHJcbiAgICBjYXNlIHRoaXMua2V5cy51cDpcclxuICAgICAgdGhpcy5hY3RpdmF0ZVByZXZpb3VzVGFiKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgYnJlYWtcclxuICAgIGNhc2UgdGhpcy5rZXlzLnJpZ2h0OlxyXG4gICAgY2FzZSB0aGlzLmtleXMuZG93bjpcclxuICAgICAgdGhpcy5hY3RpdmF0ZU5leHRUYWIoKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBicmVha1xyXG4gIH1cclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmFjdGl2YXRlTmV4dFRhYiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgY3VycmVudFRhYiA9IHRoaXMuZ2V0Q3VycmVudFRhYigpO1xyXG4gIHZhciBuZXh0VGFiTGlzdEl0ZW0gPSBjdXJyZW50VGFiLnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nO1xyXG4gIGlmIChuZXh0VGFiTGlzdEl0ZW0pIHtcclxuICAgIHZhciBuZXh0VGFiID0gbmV4dFRhYkxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay10YWJzX190YWInKTtcclxuICB9XHJcbiAgaWYgKG5leHRUYWIpIHtcclxuICAgIHRoaXMuaGlkZVRhYihjdXJyZW50VGFiKTtcclxuICAgIHRoaXMuc2hvd1RhYihuZXh0VGFiKTtcclxuICAgIG5leHRUYWIuZm9jdXMoKTtcclxuICAgIHRoaXMuY3JlYXRlSGlzdG9yeUVudHJ5KG5leHRUYWIpO1xyXG4gIH1cclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmFjdGl2YXRlUHJldmlvdXNUYWIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGN1cnJlbnRUYWIgPSB0aGlzLmdldEN1cnJlbnRUYWIoKTtcclxuICB2YXIgcHJldmlvdXNUYWJMaXN0SXRlbSA9IGN1cnJlbnRUYWIucGFyZW50Tm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xyXG4gIGlmIChwcmV2aW91c1RhYkxpc3RJdGVtKSB7XHJcbiAgICB2YXIgcHJldmlvdXNUYWIgPSBwcmV2aW91c1RhYkxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay10YWJzX190YWInKTtcclxuICB9XHJcbiAgaWYgKHByZXZpb3VzVGFiKSB7XHJcbiAgICB0aGlzLmhpZGVUYWIoY3VycmVudFRhYik7XHJcbiAgICB0aGlzLnNob3dUYWIocHJldmlvdXNUYWIpO1xyXG4gICAgcHJldmlvdXNUYWIuZm9jdXMoKTtcclxuICAgIHRoaXMuY3JlYXRlSGlzdG9yeUVudHJ5KHByZXZpb3VzVGFiKTtcclxuICB9XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5nZXRQYW5lbCA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgdmFyICRwYW5lbCA9IHRoaXMuJG1vZHVsZS5xdWVyeVNlbGVjdG9yKHRoaXMuZ2V0SHJlZigkdGFiKSk7XHJcbiAgcmV0dXJuICRwYW5lbFxyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuc2hvd1BhbmVsID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICB2YXIgJHBhbmVsID0gdGhpcy5nZXRQYW5lbCgkdGFiKTtcclxuICAkcGFuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmpzSGlkZGVuQ2xhc3MpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuaGlkZVBhbmVsID0gZnVuY3Rpb24gKHRhYikge1xyXG4gIHZhciAkcGFuZWwgPSB0aGlzLmdldFBhbmVsKHRhYik7XHJcbiAgJHBhbmVsLmNsYXNzTGlzdC5hZGQodGhpcy5qc0hpZGRlbkNsYXNzKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLnVuaGlnaGxpZ2h0VGFiID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICdmYWxzZScpO1xyXG4gICR0YWIucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay10YWJzX19saXN0LWl0ZW0tLXNlbGVjdGVkJyk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5oaWdobGlnaHRUYWIgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gICR0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ3RydWUnKTtcclxuICAkdGFiLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZ292dWstdGFic19fbGlzdC1pdGVtLS1zZWxlY3RlZCcpO1xyXG4gICR0YWIuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5nZXRDdXJyZW50VGFiID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLiRtb2R1bGUucXVlcnlTZWxlY3RvcignLmdvdnVrLXRhYnNfX2xpc3QtaXRlbS0tc2VsZWN0ZWQgLmdvdnVrLXRhYnNfX3RhYicpXHJcbn07XHJcblxyXG4vLyB0aGlzIGlzIGJlY2F1c2UgSUUgZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZSBhY3R1YWwgdmFsdWUgYnV0IGEgcmVsYXRpdmUgZnVsbCBwYXRoXHJcbi8vIHNob3VsZCBiZSBhIHV0aWxpdHkgZnVuY3Rpb24gbW9zdCBwcm9iXHJcbi8vIGh0dHA6Ly9sYWJzLnRoZXNlZGF5cy5jb20vYmxvZy8yMDEwLzAxLzA4L2dldHRpbmctdGhlLWhyZWYtdmFsdWUtd2l0aC1qcXVlcnktaW4taWUvXHJcblRhYnMucHJvdG90eXBlLmdldEhyZWYgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIHZhciBocmVmID0gJHRhYi5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcclxuICB2YXIgaGFzaCA9IGhyZWYuc2xpY2UoaHJlZi5pbmRleE9mKCcjJyksIGhyZWYubGVuZ3RoKTtcclxuICByZXR1cm4gaGFzaFxyXG59O1xyXG5cclxuZnVuY3Rpb24gaW5pdEFsbCAob3B0aW9ucykge1xyXG4gIC8vIFNldCB0aGUgb3B0aW9ucyB0byBhbiBlbXB0eSBvYmplY3QgYnkgZGVmYXVsdCBpZiBubyBvcHRpb25zIGFyZSBwYXNzZWQuXHJcbiAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMgOiB7fTtcclxuXHJcbiAgLy8gQWxsb3cgdGhlIHVzZXIgdG8gaW5pdGlhbGlzZSBHT1YuVUsgRnJvbnRlbmQgaW4gb25seSBjZXJ0YWluIHNlY3Rpb25zIG9mIHRoZSBwYWdlXHJcbiAgLy8gRGVmYXVsdHMgdG8gdGhlIGVudGlyZSBkb2N1bWVudCBpZiBub3RoaW5nIGlzIHNldC5cclxuICB2YXIgc2NvcGUgPSB0eXBlb2Ygb3B0aW9ucy5zY29wZSAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRpb25zLnNjb3BlIDogZG9jdW1lbnQ7XHJcblxyXG4gIHZhciAkYnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWJ1dHRvblwiXScpO1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkYnV0dG9ucywgZnVuY3Rpb24gKCRidXR0b24pIHtcclxuICAgIG5ldyBCdXR0b24oJGJ1dHRvbikuaW5pdCgpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgJGFjY29yZGlvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1hY2NvcmRpb25cIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJGFjY29yZGlvbnMsIGZ1bmN0aW9uICgkYWNjb3JkaW9uKSB7XHJcbiAgICBuZXcgQWNjb3JkaW9uKCRhY2NvcmRpb24pLmluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgdmFyICRkZXRhaWxzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kdWxlPVwiZ292dWstZGV0YWlsc1wiXScpO1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkZGV0YWlscywgZnVuY3Rpb24gKCRkZXRhaWwpIHtcclxuICAgIG5ldyBEZXRhaWxzKCRkZXRhaWwpLmluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgdmFyICRjaGFyYWN0ZXJDb3VudHMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1jaGFyYWN0ZXItY291bnRcIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJGNoYXJhY3RlckNvdW50cywgZnVuY3Rpb24gKCRjaGFyYWN0ZXJDb3VudCkge1xyXG4gICAgbmV3IENoYXJhY3RlckNvdW50KCRjaGFyYWN0ZXJDb3VudCkuaW5pdCgpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgJGNoZWNrYm94ZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1jaGVja2JveGVzXCJdJyk7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRjaGVja2JveGVzLCBmdW5jdGlvbiAoJGNoZWNrYm94KSB7XHJcbiAgICBuZXcgQ2hlY2tib3hlcygkY2hlY2tib3gpLmluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gRmluZCBmaXJzdCBlcnJvciBzdW1tYXJ5IG1vZHVsZSB0byBlbmhhbmNlLlxyXG4gIHZhciAkZXJyb3JTdW1tYXJ5ID0gc2NvcGUucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kdWxlPVwiZ292dWstZXJyb3Itc3VtbWFyeVwiXScpO1xyXG4gIG5ldyBFcnJvclN1bW1hcnkoJGVycm9yU3VtbWFyeSkuaW5pdCgpO1xyXG5cclxuICAvLyBGaW5kIGZpcnN0IGhlYWRlciBtb2R1bGUgdG8gZW5oYW5jZS5cclxuICB2YXIgJHRvZ2dsZUJ1dHRvbiA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWhlYWRlclwiXScpO1xyXG4gIG5ldyBIZWFkZXIoJHRvZ2dsZUJ1dHRvbikuaW5pdCgpO1xyXG5cclxuICB2YXIgJG5vdGlmaWNhdGlvbkJhbm5lcnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1ub3RpZmljYXRpb24tYmFubmVyXCJdJyk7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRub3RpZmljYXRpb25CYW5uZXJzLCBmdW5jdGlvbiAoJG5vdGlmaWNhdGlvbkJhbm5lcikge1xyXG4gICAgbmV3IE5vdGlmaWNhdGlvbkJhbm5lcigkbm90aWZpY2F0aW9uQmFubmVyKS5pbml0KCk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciAkcmFkaW9zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kdWxlPVwiZ292dWstcmFkaW9zXCJdJyk7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRyYWRpb3MsIGZ1bmN0aW9uICgkcmFkaW8pIHtcclxuICAgIG5ldyBSYWRpb3MoJHJhZGlvKS5pbml0KCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vIEZpbmQgZmlyc3Qgc2tpcCBsaW5rIG1vZHVsZSB0byBlbmhhbmNlLlxyXG4gIHZhciAkc2tpcExpbmsgPSBzY29wZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1za2lwLWxpbmtcIl0nKTtcclxuICBuZXcgU2tpcExpbmsoJHNraXBMaW5rKS5pbml0KCk7XHJcblxyXG4gIHZhciAkdGFicyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLXRhYnNcIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJHRhYnMsIGZ1bmN0aW9uICgkdGFicykge1xyXG4gICAgbmV3IFRhYnMoJHRhYnMpLmluaXQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0cy5pbml0QWxsID0gaW5pdEFsbDtcclxuZXhwb3J0cy5BY2NvcmRpb24gPSBBY2NvcmRpb247XHJcbmV4cG9ydHMuQnV0dG9uID0gQnV0dG9uO1xyXG5leHBvcnRzLkRldGFpbHMgPSBEZXRhaWxzO1xyXG5leHBvcnRzLkNoYXJhY3RlckNvdW50ID0gQ2hhcmFjdGVyQ291bnQ7XHJcbmV4cG9ydHMuQ2hlY2tib3hlcyA9IENoZWNrYm94ZXM7XHJcbmV4cG9ydHMuRXJyb3JTdW1tYXJ5ID0gRXJyb3JTdW1tYXJ5O1xyXG5leHBvcnRzLkhlYWRlciA9IEhlYWRlcjtcclxuZXhwb3J0cy5Ob3RpZmljYXRpb25CYW5uZXIgPSBOb3RpZmljYXRpb25CYW5uZXI7XHJcbmV4cG9ydHMuUmFkaW9zID0gUmFkaW9zO1xyXG5leHBvcnRzLlNraXBMaW5rID0gU2tpcExpbms7XHJcbmV4cG9ydHMuVGFicyA9IFRhYnM7XHJcblxyXG59KSkpO1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oXCIuL2pzL2FsbC5qc1wiKTtcbiJdLCJuYW1lcyI6WyJmYWN0b3J5IiwiZXhwb3J0cyIsIm5vZGVMaXN0Rm9yRWFjaCIsIm5vZGVzIiwiY2FsbGJhY2siLCJ3aW5kb3ciLCJOb2RlTGlzdCIsInByb3RvdHlwZSIsImZvckVhY2giLCJpIiwibGVuZ3RoIiwiY2FsbCIsIkFjY29yZGlvbiIsIiRtb2R1bGUiLCJ0aGlzIiwibW9kdWxlSWQiLCJnZXRBdHRyaWJ1dGUiLCIkc2VjdGlvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiJHNob3dBbGxCdXR0b24iLCJicm93c2VyU3VwcG9ydHNTZXNzaW9uU3RvcmFnZSIsImhlbHBlciIsImNoZWNrRm9yU2Vzc2lvblN0b3JhZ2UiLCJjb250cm9sc0NsYXNzIiwic2hvd0FsbENsYXNzIiwic2hvd0FsbFRleHRDbGFzcyIsInNlY3Rpb25FeHBhbmRlZENsYXNzIiwic2VjdGlvbkJ1dHRvbkNsYXNzIiwic2VjdGlvbkhlYWRlckNsYXNzIiwic2VjdGlvbkhlYWRpbmdDbGFzcyIsInNlY3Rpb25IZWFkaW5nVGV4dENsYXNzIiwic2VjdGlvbkhlYWRpbmdUZXh0Rm9jdXNDbGFzcyIsInNlY3Rpb25TaG93SGlkZVRvZ2dsZUNsYXNzIiwic2VjdGlvblNob3dIaWRlVG9nZ2xlRm9jdXNDbGFzcyIsInNlY3Rpb25TaG93SGlkZVRleHRDbGFzcyIsInVwQ2hldnJvbkljb25DbGFzcyIsImRvd25DaGV2cm9uSWNvbkNsYXNzIiwic2VjdGlvblN1bW1hcnlDbGFzcyIsInNlY3Rpb25TdW1tYXJ5Rm9jdXNDbGFzcyIsInVuZGVmaW5lZCIsIm5hdGl2ZURlZmluZVByb3BlcnR5Iiwic3VwcG9ydHNBY2Nlc3NvcnMiLCJFUlJfQUNDRVNTT1JTX05PVF9TVVBQT1JURUQiLCJFUlJfVkFMVUVfQUNDRVNTT1JTIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImUiLCJoYXNPd25Qcm9wZXJ0eSIsIm9iamVjdCIsInByb3BlcnR5IiwiZGVzY3JpcHRvciIsImRvY3VtZW50IiwiRWxlbWVudCIsIlR5cGVFcnJvciIsInByb3BlcnR5U3RyaW5nIiwiU3RyaW5nIiwiaGFzVmFsdWVPcldyaXRhYmxlIiwiZ2V0dGVyVHlwZSIsImdldCIsInNldHRlclR5cGUiLCJzZXQiLCJfX2RlZmluZUdldHRlcl9fIiwiX19kZWZpbmVTZXR0ZXJfXyIsInNlbGYiLCJnbG9iYWwiLCJGdW5jdGlvbiIsInRoYXQiLCJpc0NhbGxhYmxlIiwiJEFycmF5IiwiQXJyYXkiLCIkT2JqZWN0IiwiT2JqZWN0UHJvdG90eXBlIiwiQXJyYXlQcm90b3R5cGUiLCJFbXB0eSIsInRvX3N0cmluZyIsInRvU3RyaW5nIiwiaGFzVG9TdHJpbmdUYWciLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsImZuVG9TdHIiLCJ0cnlGdW5jdGlvbk9iamVjdCIsImZuQ2xhc3MiLCJnZW5DbGFzcyIsInN0ckNsYXNzIiwiYXJyYXlfc2xpY2UiLCJzbGljZSIsImFycmF5X2NvbmNhdCIsImNvbmNhdCIsImFycmF5X3B1c2giLCJwdXNoIiwibWF4IiwiTWF0aCIsInRhcmdldCIsImJvdW5kIiwiYXJncyIsImFyZ3VtZW50cyIsImJpbmRlciIsInJlc3VsdCIsImFwcGx5IiwiYm91bmRMZW5ndGgiLCJib3VuZEFyZ3MiLCJqb2luIiwieCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjbGFzc05hbWUiLCJET01Ub2tlbkxpc3QiLCJjcmVhdGVFbGVtZW50TlMiLCJkcFN1cHBvcnQiLCJkZWZpbmVHZXR0ZXIiLCJuYW1lIiwiZm4iLCJjb25maWd1cmFibGUiLCJlbCIsInByb3AiLCJ0b2tlbnMiLCJ0b2tlbk1hcCIsIm1heExlbmd0aCIsImFkZEluZGV4R2V0dGVyIiwicHJlb3AiLCJyZWluZGV4IiwiZXJyb3IiLCJyU3BhY2UiLCJ0ZXN0IiwiU3ludGF4RXJyb3IiLCJjb2RlIiwiYmFzZVZhbCIsInJlcGxhY2UiLCJzcGxpdCIsInRvTG9jYWxlU3RyaW5nIiwiaXRlbSIsImlkeCIsImNvbnRhaW5zIiwidG9rZW4iLCJhZGQiLCJsIiwicmVtb3ZlIiwiaWdub3JlIiwidCIsImZvcmNlIiwiY29uc3RydWN0b3IiLCJuYXRpdmUiLCJXb3JrZXJHbG9iYWxTY29wZSIsImltcG9ydFNjcmlwdHMiLCJIVE1MRG9jdW1lbnQiLCJEb2N1bWVudCIsIkhUTUxFbGVtZW50IiwiaW50ZXJ2YWwiLCJ2Ym9keSIsImFwcGVuZENoaWxkIiwiZnJhbWVEb2N1bWVudCIsImNvbnRlbnRXaW5kb3ciLCJjYWNoZSIsInNoaXYiLCJlbGVtZW50IiwiZGVlcCIsImtleSIsImNoaWxkTm9kZSIsImNoaWxkTm9kZXMiLCJpbmRleCIsIm5vZGVUeXBlIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIm5hdGl2ZUNyZWF0ZUVsZW1lbnQiLCJsb29wTGltaXQiLCJhdHRhY2hFdmVudCIsImV2ZW50IiwicHJvcGVydHlOYW1lIiwibm9uVmFsdWUiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiaGFzQXR0cmlidXRlIiwiYm9keUNoZWNrIiwib25yZWFkeXN0YXRlY2hhbmdlIiwic2V0SW50ZXJ2YWwiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwicmVtb3ZlQ2hpbGQiLCJjbGVhclRpbWVvdXQiLCJib2R5IiwicmVhZHlTdGF0ZSIsImRvY3VtZW50RWxlbWVudCIsImFkZFByb3AiLCJvIiwiYXR0ciIsInRva2VuTGlzdCIsIlRISVMiLCJnaWJiZXJpc2hQcm9wZXJ0eSIsInZpc2FnZSIsIm1pcnJvciIsInJlZmxlY3Rpb25zIiwiX1IiLCJIVE1MTGlua0VsZW1lbnQiLCJIVE1MQW5jaG9yRWxlbWVudCIsIkhUTUxBcmVhRWxlbWVudCIsImluaXQiLCJpbml0Q29udHJvbHMiLCJpbml0U2VjdGlvbkhlYWRlcnMiLCJhcmVBbGxTZWN0aW9uc09wZW4iLCJjaGVja0lmQWxsU2VjdGlvbnNPcGVuIiwidXBkYXRlU2hvd0FsbEJ1dHRvbiIsInNldEF0dHJpYnV0ZSIsIiRpY29uIiwiJGFjY29yZGlvbkNvbnRyb2xzIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RDaGlsZCIsIiR3cmFwcGVyc2hvd0FsbFRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwib25TaG93T3JIaWRlQWxsVG9nZ2xlIiwiYmluZCIsIiRzZWN0aW9uIiwiJGhlYWRlciIsInF1ZXJ5U2VsZWN0b3IiLCJjb25zdHJ1Y3RIZWFkZXJNYXJrdXAiLCJzZXRFeHBhbmRlZCIsImlzRXhwYW5kZWQiLCJvblNlY3Rpb25Ub2dnbGUiLCJzZXRJbml0aWFsU3RhdGUiLCIkaGVhZGVyV3JhcHBlciIsIiRzcGFuIiwiJGhlYWRpbmciLCIkc3VtbWFyeSIsIiRidXR0b24iLCJhdHRyaWJ1dGVzIiwibm9kZVZhbHVlIiwiJGhlYWRpbmdUZXh0IiwiaWQiLCIkaGVhZGluZ1RleHRGb2N1cyIsImlubmVySFRNTCIsIiRzaG93VG9nZ2xlIiwiJHNob3dUb2dnbGVGb2N1cyIsIiRzaG93VG9nZ2xlVGV4dCIsImdldEJ1dHRvblB1bmN0dWF0aW9uRWwiLCIkc3VtbWFyeVNwYW4iLCIkc3VtbWFyeVNwYW5Gb2N1cyIsImoiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiZXhwYW5kZWQiLCJzdG9yZVN0YXRlIiwibm93RXhwYW5kZWQiLCIkc2hvd0hpZGVUZXh0IiwibmV3QnV0dG9uVGV4dCIsIiR2aXN1YWxseUhpZGRlblRleHQiLCIkc2hvd0FsbEljb24iLCIkc2hvd0FsbFRleHQiLCJ0ZXN0U3RyaW5nIiwic2Vzc2lvblN0b3JhZ2UiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJleGNlcHRpb24iLCJCdXR0b24iLCJkZWJvdW5jZUZvcm1TdWJtaXRUaW1lciIsIkRldGFpbHMiLCJDaGFyYWN0ZXJDb3VudCIsIiR0ZXh0YXJlYSIsIiR2aXNpYmxlQ291bnRNZXNzYWdlIiwiJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZSIsImxhc3RJbnB1dFRpbWVzdGFtcCIsIkNoZWNrYm94ZXMiLCIkaW5wdXRzIiwiRXJyb3JTdW1tYXJ5IiwiTm90aWZpY2F0aW9uQmFubmVyIiwiSGVhZGVyIiwiJG1lbnVCdXR0b24iLCIkbWVudSIsIm1lbnVJc09wZW4iLCJtcWwiLCJSYWRpb3MiLCJTa2lwTGluayIsIiRsaW5rZWRFbGVtZW50IiwibGlua2VkRWxlbWVudExpc3RlbmVyIiwiVGFicyIsIiR0YWJzIiwia2V5cyIsImxlZnQiLCJyaWdodCIsInVwIiwiZG93biIsImpzSGlkZGVuQ2xhc3MiLCJjb250ZW50SWQiLCJjb250ZW50U3RhdGUiLCIkcHVuY3R1YXRpb25FbCIsIldpbmRvdyIsIkV2ZW50IiwidW5saXN0ZW5hYmxlV2luZG93RXZlbnRzIiwiY2xpY2siLCJkYmxjbGljayIsImtleXVwIiwia2V5cHJlc3MiLCJrZXlkb3duIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlbW92ZSIsIm1vdXNlb3ZlciIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwibW91c2VvdXQiLCJzdG9yYWdlIiwic3RvcmFnZWNvbW1pdCIsInRleHRpbnB1dCIsImV4aXN0aW5nUHJvdG8iLCJ0eXBlIiwiZXZlbnRJbml0RGljdCIsIkVycm9yIiwiY3JlYXRlRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImluaXRFdmVudCIsImNyZWF0ZUV2ZW50T2JqZWN0IiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwibGlzdGVuZXIiLCJfZXZlbnRzIiwiZXZlbnRFbGVtZW50IiwibGlzdCIsImV2ZW50cyIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJjYW5jZWxJbW1lZGlhdGUiLCJjdXJyZW50VGFyZ2V0IiwicmVsYXRlZFRhcmdldCIsImZyb21FbGVtZW50Iiwic3JjRWxlbWVudCIsInRpbWVTdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwiY2xpZW50WCIsInBhZ2VYIiwic2Nyb2xsTGVmdCIsInBhZ2VZIiwiY2xpZW50WSIsInNjcm9sbFRvcCIsImluZGV4T2YiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3BsaWNlIiwiZGV0YWNoRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiY2FuY2VsQnViYmxlRXZlbnQiLCJmaXJlRXZlbnQiLCJwYXJlbnRXaW5kb3ciLCJhcnJheSIsImhhbmRsZUtleURvd24iLCJrZXlDb2RlIiwiZGVib3VuY2UiLCJzZXRUaW1lb3V0IiwiREVCT1VOQ0VfVElNRU9VVF9JTl9TRUNPTkRTIiwib3BlbiIsInBvbHlmaWxsRGV0YWlscyIsImQiLCIkY29udGVudCIsInBlcmZvcm1hbmNlIiwibm93IiwiYyIsInIiLCJyYW5kb20iLCJmbG9vciIsInRhYkluZGV4Iiwic3R5bGUiLCJkaXNwbGF5IiwicG9seWZpbGxIYW5kbGVJbnB1dHMiLCJwb2x5ZmlsbFNldEF0dHJpYnV0ZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJub2RlIiwiZGVmYXVsdHMiLCJjaGFyYWN0ZXJDb3VudEF0dHJpYnV0ZSIsIndvcmRDb3VudEF0dHJpYnV0ZSIsIiRmYWxsYmFja0xpbWl0TWVzc2FnZSIsImdldEVsZW1lbnRCeUlkIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwib3B0aW9ucyIsImdldERhdGFzZXQiLCJjb3VudEF0dHJpYnV0ZSIsIm1heHdvcmRzIiwiYmluZENoYW5nZUV2ZW50cyIsInVwZGF0ZUNvdW50TWVzc2FnZSIsImRhdGFzZXQiLCJhdHRyaWJ1dGUiLCJtYXRjaCIsImNvdW50IiwidGV4dCIsImhhbmRsZUtleVVwIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVCbHVyIiwiY2hlY2tJZlZhbHVlQ2hhbmdlZCIsInVwZGF0ZVZpc2libGVDb3VudE1lc3NhZ2UiLCJ1cGRhdGVTY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UiLCJyZW1haW5pbmdOdW1iZXIiLCJpc092ZXJUaHJlc2hvbGQiLCJmb3JtYXR0ZWRVcGRhdGVNZXNzYWdlIiwiY2hhclZlcmIiLCJjaGFyTm91biIsImFicyIsImN1cnJlbnRMZW5ndGgiLCJ0aHJlc2hvbGQiLCJ2YWx1ZUNoZWNrZXIiLCJjbGVhckludGVydmFsIiwiJGlucHV0Iiwic3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscyIsImhhbmRsZUNsaWNrIiwic3luY0NvbmRpdGlvbmFsUmV2ZWFsV2l0aElucHV0U3RhdGUiLCIkdGFyZ2V0IiwiaW5wdXRJc0NoZWNrZWQiLCJjaGVja2VkIiwidW5DaGVja0FsbElucHV0c0V4Y2VwdCIsIiRpbnB1dFdpdGhTYW1lTmFtZSIsImZvcm0iLCJ1bkNoZWNrRXhjbHVzaXZlSW5wdXRzIiwiJGV4Y2x1c2l2ZUlucHV0IiwibWF0Y2hlcyIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsInNlbGVjdG9yIiwib3duZXJEb2N1bWVudCIsImNsb3Nlc3QiLCJTVkdFbGVtZW50IiwicGFyZW50RWxlbWVudCIsInNldEZvY3VzIiwiZm9jdXMiLCJmb2N1c1RhcmdldCIsInRhZ05hbWUiLCJocmVmIiwiaW5wdXRJZCIsImdldEZyYWdtZW50RnJvbVVybCIsIiRsZWdlbmRPckxhYmVsIiwiZ2V0QXNzb2NpYXRlZExlZ2VuZE9yTGFiZWwiLCJzY3JvbGxJbnRvVmlldyIsInByZXZlbnRTY3JvbGwiLCJ1cmwiLCJwb3AiLCIkZmllbGRzZXQiLCJsZWdlbmRzIiwiJGNhbmRpZGF0ZUxlZ2VuZCIsImxlZ2VuZFRvcCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImlucHV0UmVjdCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwibWF0Y2hNZWRpYSIsInN5bmNTdGF0ZSIsImFkZExpc3RlbmVyIiwiaGFuZGxlTWVudUJ1dHRvbkNsaWNrIiwiJGNsaWNrZWRJbnB1dCIsImhhc1NhbWVGb3JtT3duZXIiLCJnZXRMaW5rZWRFbGVtZW50IiwiZm9jdXNMaW5rZWRFbGVtZW50IiwibGlua2VkRWxlbWVudElkIiwicmVtb3ZlRm9jdXNQcm9wZXJ0aWVzIiwiaGFzaCIsIm5leHRTaWJsaW5nIiwicHJldmlvdXNTaWJsaW5nIiwic2V0dXBSZXNwb25zaXZlQ2hlY2tzIiwic2V0dXAiLCJjaGVja01vZGUiLCJ0ZWFyZG93biIsIiR0YWJMaXN0IiwiJHRhYkxpc3RJdGVtcyIsIiRpdGVtIiwiJHRhYiIsInNldEF0dHJpYnV0ZXMiLCJib3VuZFRhYkNsaWNrIiwib25UYWJDbGljayIsImJvdW5kVGFiS2V5ZG93biIsIm9uVGFiS2V5ZG93biIsImhpZGVUYWIiLCIkYWN0aXZlVGFiIiwiZ2V0VGFiIiwibG9jYXRpb24iLCJzaG93VGFiIiwiYm91bmRPbkhhc2hDaGFuZ2UiLCJvbkhhc2hDaGFuZ2UiLCJ1bnNldEF0dHJpYnV0ZXMiLCIkdGFiV2l0aEhhc2giLCJjaGFuZ2luZ0hhc2giLCIkcHJldmlvdXNUYWIiLCJnZXRDdXJyZW50VGFiIiwidW5oaWdobGlnaHRUYWIiLCJoaWRlUGFuZWwiLCJoaWdobGlnaHRUYWIiLCJzaG93UGFuZWwiLCJwYW5lbElkIiwiZ2V0SHJlZiIsIiRwYW5lbCIsImdldFBhbmVsIiwiJG5ld1RhYiIsIiRjdXJyZW50VGFiIiwiY3JlYXRlSGlzdG9yeUVudHJ5IiwiYWN0aXZhdGVQcmV2aW91c1RhYiIsImFjdGl2YXRlTmV4dFRhYiIsImN1cnJlbnRUYWIiLCJuZXh0VGFiTGlzdEl0ZW0iLCJuZXh0RWxlbWVudFNpYmxpbmciLCJuZXh0VGFiIiwicHJldmlvdXNUYWJMaXN0SXRlbSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJwcmV2aW91c1RhYiIsInRhYiIsImluaXRBbGwiLCJzY29wZSIsIiRhY2NvcmRpb24iLCIkZGV0YWlsIiwiJGNoYXJhY3RlckNvdW50IiwiJGNoZWNrYm94IiwiJG5vdGlmaWNhdGlvbkJhbm5lciIsIiRyYWRpbyIsImRlZmluZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJjYWNoZWRNb2R1bGUiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZyIsImdsb2JhbFRoaXMiXSwic291cmNlUm9vdCI6IiJ9
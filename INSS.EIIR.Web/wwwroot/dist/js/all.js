(()=>{var t={"./js/all.js":
/*!*******************!*\
  !*** ./js/all.js ***!
  \*******************/function(t,e,n){var i,o,s,r;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}r=function(t){"use strict";function e(t,e){if(window.NodeList.prototype.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e.call(window,t[n],n,t)}function i(t){this.$module=t,this.moduleId=t.getAttribute("id"),this.$sections=t.querySelectorAll(".govuk-accordion__section"),this.$showAllButton="",this.browserSupportsSessionStorage=o.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus"}(function(t){var e,n,i,o;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(t){return!1}}()||(e=Object.defineProperty,n=Object.prototype.hasOwnProperty("__defineGetter__"),i="Getters & setters cannot be defined on this javascript engine",o="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(t,s,r){if(e&&(t===window||t===document||t===Element.prototype||t instanceof Element))return e(t,s,r);if(null===t||!(t instanceof Object||"object"===a(t)))throw new TypeError("Object.defineProperty called on non-object");if(!(r instanceof Object))throw new TypeError("Property description must be an object");var c=String(s),u="value"in r||"writable"in r,l="get"in r&&a(r.get),d="set"in r&&a(r.set);if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!n)throw new TypeError(i);if(u)throw new TypeError(o);Object.__defineGetter__.call(t,c,r.get)}else t[c]=r.value;if(d){if("function"!==d)throw new TypeError("Setter must be a function");if(!n)throw new TypeError(i);if(u)throw new TypeError(o);Object.__defineSetter__.call(t,c,r.set)}return"value"in r&&(t[c]=r.value),t})}).call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(t){var e,n=Array,i=Object,o=i.prototype,s=n.prototype,r=function(){},c=o.toString,u="function"==typeof Symbol&&"symbol"===a(Symbol.toStringTag),l=Function.prototype.toString,d=function(t){try{return l.call(t),!0}catch(t){return!1}},h="[object Function]",p="[object GeneratorFunction]";e=function(t){if("function"!=typeof t)return!1;if(u)return d(t);var e=c.call(t);return e===h||e===p};var f=s.slice,m=s.concat,v=s.push,b=Math.max,g=this;if(!e(g))throw new TypeError("Function.prototype.bind called on incompatible "+g);for(var y,w=f.call(arguments,1),E=function(){if(this instanceof y){var e=g.apply(this,m.call(w,f.call(arguments)));return i(e)===e?e:this}return g.apply(t,m.call(w,f.call(arguments)))},k=b(0,g.length-w.length),C=[],A=0;A<k;A++)v.call(C,"$"+A);return y=Function("binder","return function ("+C.join(",")+"){ return binder.apply(this, arguments); }")(E),g.prototype&&(r.prototype=g.prototype,y.prototype=new r,r.prototype=null),y}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){var e,n,i;"DOMTokenList"in this&&(!("classList"in(e=document.createElement("x")))||!e.classList.toggle("x",!1)&&!e.className)||("DOMTokenList"in(n=this)&&n.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(n.DOMTokenList=function(){var e=!0,n=function(t,n,i,o){Object.defineProperty?Object.defineProperty(t,n,{configurable:!1===e||!!o,get:i}):t.__defineGetter__(n,i)};try{n({},"support")}catch(t){e=!1}return function(e,i){var o=this,s=[],r={},c=0,u=0,l=function(t){n(o,t,(function(){return h(),s[t]}),!1)},d=function(){if(c>=u)for(;u<c;++u)l(u)},h=function(){var t,n,o=arguments,u=/\s+/;if(o.length)for(n=0;n<o.length;++n)if(u.test(o[n]))throw(t=new SyntaxError('String "'+o[n]+'" contains an invalid character')).code=5,t.name="InvalidCharacterError",t;for(""===(s="object"===a(e[i])?(""+e[i].baseVal).replace(/^\s+|\s+$/g,"").split(u):(""+e[i]).replace(/^\s+|\s+$/g,"").split(u))[0]&&(s=[]),r={},n=0;n<s.length;++n)r[s[n]]=!0;c=s.length,d()};return h(),n(o,"length",(function(){return h(),c})),o.toLocaleString=o.toString=function(){return h(),s.join(" ")},o.item=function(t){return h(),s[t]},o.contains=function(t){return h(),!!r[t]},o.add=function(){h.apply(o,t=arguments);for(var t,n,u=0,l=t.length;u<l;++u)n=t[u],r[n]||(s.push(n),r[n]=!0);c!==s.length&&(c=s.length>>>0,"object"===a(e[i])?e[i].baseVal=s.join(" "):e[i]=s.join(" "),d())},o.remove=function(){h.apply(o,t=arguments);for(var t,n={},u=0,l=[];u<t.length;++u)n[t[u]]=!0,delete r[t[u]];for(u=0;u<s.length;++u)n[s[u]]||l.push(s[u]);s=l,c=l.length>>>0,"object"===a(e[i])?e[i].baseVal=s.join(" "):e[i]=s.join(" "),d()},o.toggle=function(e,n){return h.apply(o,[e]),t!==n?n?(o.add(e),!0):(o.remove(e),!1):r[e]?(o.remove(e),!1):(o.add(e),!0)},o}}()),"classList"in(i=document.createElement("span"))&&(i.classList.toggle("x",!1),i.classList.contains("x")&&(i.classList.constructor.prototype.toggle=function(e){var n=arguments[1];if(n===t){var i=!this.contains(e);return this[i?"add":"remove"](e),i}return this[(n=!!n)?"add":"remove"](e),n})),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a","b"),!t.classList.contains("b"))){var e=t.classList.constructor.prototype.add;t.classList.constructor.prototype.add=function(){for(var t=arguments,n=arguments.length,i=0;i<n;i++)e.call(this,t[i])}}}(),function(){var t=document.createElement("span");if("classList"in t&&(t.classList.add("a"),t.classList.add("b"),t.classList.remove("a","b"),t.classList.contains("b"))){var e=t.classList.constructor.prototype.remove;t.classList.constructor.prototype.remove=function(){for(var t=arguments,n=arguments.length,i=0;i<n;i++)e.call(this,t[i])}}}())}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var t,e=document.appendChild(document.createElement("body")),n=e.appendChild(document.createElement("iframe")).contentWindow.document,i=Element.prototype=n.appendChild(n.createElement("*")),o={},s=function t(e,n){var i,s,r,a=e.childNodes||[],c=-1;if(1===e.nodeType&&e.constructor!==Element)for(i in e.constructor=Element,o)s=o[i],e[i]=s;for(;r=n&&a[++c];)t(r,n);return e},r=document.getElementsByTagName("*"),a=document.createElement,c=100;i.attachEvent("onpropertychange",(function(t){for(var e,n=t.propertyName,s=!o.hasOwnProperty(n),a=i[n],c=o[n],u=-1;e=r[++u];)1===e.nodeType&&(s||e[n]===c)&&(e[n]=a);o[n]=a})),i.constructor=Element,i.hasAttribute||(i.hasAttribute=function(t){return null!==this.getAttribute(t)}),u()||(document.onreadystatechange=u,t=setInterval(u,25)),document.createElement=function(t){var e=a(String(t).toLowerCase());return s(e)},document.removeChild(e)}else window.HTMLElement=window.Element;function u(){return c--||clearTimeout(t),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState)||(s(document,!0),t&&document.body.prototype&&clearTimeout(t),!document.body.prototype))}}()}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){var e;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((e=document.createElement("span")).classList.add("a","b"),e.classList.contains("b"))||function(t){var e=!0,n=function(t,n,i,o){Object.defineProperty?Object.defineProperty(t,n,{configurable:!1===e||!!o,get:i}):t.__defineGetter__(n,i)};try{n({},"support")}catch(t){e=!1}var i=function t(i,o,s){n(i.prototype,o,(function(){var i,r=this,a="__defineGetter__DEFINE_PROPERTY"+o;if(r[a])return i;if(r[a]=!0,!1===e){for(var c,u=t.mirror||document.createElement("div"),l=u.childNodes,d=l.length,h=0;h<d;++h)if(l[h]._R===r){c=l[h];break}c||(c=u.appendChild(document.createElement("div"))),i=DOMTokenList.call(c,r,s)}else i=new DOMTokenList(r,s);return n(r,o,(function(){return i})),delete r[a],i}),!0)};i(t.Element,"classList","className"),i(t.HTMLElement,"classList","className"),i(t.HTMLLinkElement,"relList","rel"),i(t.HTMLAnchorElement,"relList","rel"),i(t.HTMLAreaElement,"relList","rel")}(this)}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),i.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var t=this.checkIfAllSectionsOpen();this.updateShowAllButton(t)}},i.prototype.initControls=function(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false");var t=document.createElement("span");t.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(t);var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$showAllButton),this.$module.insertBefore(e,this.$module.firstChild);var n=document.createElement("span");n.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(n),this.$showAllButton.addEventListener("click",this.onShowOrHideAllToggle.bind(this))},i.prototype.initSectionHeaders=function(){e(this.$sections,function(t,e){var n=t.querySelector("."+this.sectionHeaderClass);this.constructHeaderMarkup(n,e),this.setExpanded(this.isExpanded(t),t),n.addEventListener("click",this.onSectionToggle.bind(this,t)),this.setInitialState(t)}.bind(this))},i.prototype.constructHeaderMarkup=function(t,e){var n=t.querySelector("."+this.sectionButtonClass),i=t.querySelector("."+this.sectionHeadingClass),o=t.querySelector("."+this.sectionSummaryClass),s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("aria-controls",this.moduleId+"-content-"+(e+1));for(var r=0;r<n.attributes.length;r++){var a=n.attributes.item(r);"id"!==a.nodeName&&s.setAttribute(a.nodeName,a.nodeValue)}var c=document.createElement("span");c.classList.add(this.sectionHeadingTextClass),c.id=n.id;var u=document.createElement("span");u.classList.add(this.sectionHeadingTextFocusClass),c.appendChild(u),u.innerHTML=n.innerHTML;var l=document.createElement("span");l.classList.add(this.sectionShowHideToggleClass),l.setAttribute("data-nosnippet","");var d=document.createElement("span");d.classList.add(this.sectionShowHideToggleFocusClass),l.appendChild(d);var h=document.createElement("span"),p=document.createElement("span");if(p.classList.add(this.upChevronIconClass),d.appendChild(p),h.classList.add(this.sectionShowHideTextClass),d.appendChild(h),s.appendChild(c),s.appendChild(this.getButtonPunctuationEl()),null!=o){var f=document.createElement("span"),m=document.createElement("span");m.classList.add(this.sectionSummaryFocusClass),f.appendChild(m);for(var v=0,b=o.attributes.length;v<b;++v){var g=o.attributes.item(v).nodeName,y=o.attributes.item(v).nodeValue;f.setAttribute(g,y)}m.innerHTML=o.innerHTML,o.parentNode.replaceChild(f,o),s.appendChild(f),s.appendChild(this.getButtonPunctuationEl())}s.appendChild(l),i.removeChild(n),i.appendChild(s)},i.prototype.onSectionToggle=function(t){var e=this.isExpanded(t);this.setExpanded(!e,t),this.storeState(t)},i.prototype.onShowOrHideAllToggle=function(){var t=this,n=this.$sections,i=!this.checkIfAllSectionsOpen();e(n,(function(e){t.setExpanded(i,e),t.storeState(e)})),t.updateShowAllButton(i)},i.prototype.setExpanded=function(t,e){var n=e.querySelector("."+this.upChevronIconClass),i=e.querySelector("."+this.sectionShowHideTextClass),o=e.querySelector("."+this.sectionButtonClass),s=t?"Hide":"Show",r=document.createElement("span");r.classList.add("govuk-visually-hidden"),r.innerHTML=" this section",i.innerHTML=s,i.appendChild(r),o.setAttribute("aria-expanded",t),t?(e.classList.add(this.sectionExpandedClass),n.classList.remove(this.downChevronIconClass)):(e.classList.remove(this.sectionExpandedClass),n.classList.add(this.downChevronIconClass));var a=this.checkIfAllSectionsOpen();this.updateShowAllButton(a)},i.prototype.isExpanded=function(t){return t.classList.contains(this.sectionExpandedClass)},i.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},i.prototype.updateShowAllButton=function(t){var e=this.$showAllButton.querySelector("."+this.upChevronIconClass),n=this.$showAllButton.querySelector("."+this.showAllTextClass),i=t?"Hide all sections":"Show all sections";this.$showAllButton.setAttribute("aria-expanded",t),n.innerHTML=i,t?e.classList.remove(this.downChevronIconClass):e.classList.add(this.downChevronIconClass)};var o={checkForSessionStorage:function(){var t,e="this is the test string";try{return window.sessionStorage.setItem(e,e),t=window.sessionStorage.getItem(e)===e.toString(),window.sessionStorage.removeItem(e),t}catch(t){return!1}}};function s(t){this.$module=t,this.debounceFormSubmitTimer=null}function r(t){this.$module=t}function c(t){this.$module=t,this.$textarea=t.querySelector(".govuk-js-character-count"),this.$visibleCountMessage=null,this.$screenReaderCountMessage=null,this.lastInputTimestamp=null}function u(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="checkbox"]')}function l(t){this.$module=t}function d(t){this.$module=t}function h(t){this.$module=t,this.$menuButton=t&&t.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&t.querySelector("#"+this.$menuButton.getAttribute("aria-controls")),this.menuIsOpen=!1,this.mql=null}function p(t){this.$module=t,this.$inputs=t.querySelectorAll('input[type="radio"]')}function f(t){this.$module=t,this.$linkedElement=null,this.linkedElementListener=!1}function m(t){this.$module=t,this.$tabs=t.querySelectorAll(".govuk-tabs__tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden"}i.prototype.storeState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),i=e.getAttribute("aria-expanded");n&&i&&window.sessionStorage.setItem(n,i)}}},i.prototype.setInitialState=function(t){if(this.browserSupportsSessionStorage){var e=t.querySelector("."+this.sectionButtonClass);if(e){var n=e.getAttribute("aria-controls"),i=n?window.sessionStorage.getItem(n):null;null!==i&&this.setExpanded("true"===i,t)}}},i.prototype.getButtonPunctuationEl=function(){var t=document.createElement("span");return t.classList.add("govuk-visually-hidden","govuk-accordion__section-heading-divider"),t.innerHTML=", ",t},function(t){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(t){t.constructor?t.Window=t.constructor:(t.Window=t.constructor=new Function("return function Window() {}")()).prototype=this}(this)}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){(function(t){if(!("Event"in t))return!1;if("function"==typeof t.Event)return!0;try{return new Event("click"),!0}catch(t){return!1}})(this)||function(){var e={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(e,n){if(!e)throw new Error("Not enough arguments");var i;if("createEvent"in document){i=document.createEvent("Event");var o=!(!n||n.bubbles===t)&&n.bubbles,s=!(!n||n.cancelable===t)&&n.cancelable;return i.initEvent(e,o,s),i}return(i=document.createEventObject()).type=e,i.bubbles=!(!n||n.bubbles===t)&&n.bubbles,i.cancelable=!(!n||n.cancelable===t)&&n.cancelable,i},n&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:n}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var t=this,n=arguments[0],o=arguments[1];if(t===window&&n in e)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");t._events||(t._events={}),t._events[n]||(t._events[n]=function(e){var n,o=t._events[e.type].list,s=o.slice(),r=-1,a=s.length;for(e.preventDefault=function(){!1!==e.cancelable&&(e.returnValue=!1)},e.stopPropagation=function(){e.cancelBubble=!0},e.stopImmediatePropagation=function(){e.cancelBubble=!0,e.cancelImmediate=!0},e.currentTarget=t,e.relatedTarget=e.fromElement||null,e.target=e.target||e.srcElement||t,e.timeStamp=(new Date).getTime(),e.clientX&&(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);++r<a&&!e.cancelImmediate;)r in s&&-1!==i(o,n=s[r])&&"function"==typeof n&&n.call(t,e)},t._events[n].list=[],t.attachEvent&&t.attachEvent("on"+n,t._events[n])),t._events[n].list.push(o)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var t,e=this,n=arguments[0],o=arguments[1];e._events&&e._events[n]&&e._events[n].list&&-1!==(t=i(e._events[n].list,o))&&(e._events[n].list.splice(t,1),e._events[n].list.length||(e.detachEvent&&e.detachEvent("on"+n,e._events[n]),delete e._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(t){if(!arguments.length)throw new Error("Not enough arguments");if(!t||"string"!=typeof t.type)throw new Error("DOM Events Exception 0");var e=this,n=t.type;try{if(!t.bubbles){t.cancelBubble=!0;var i=function t(i){i.cancelBubble=!0,(e||window).detachEvent("on"+n,t)};this.attachEvent("on"+n,i)}this.fireEvent("on"+n,t)}catch(i){t.target=e;do{t.currentTarget=e,"_events"in e&&"function"==typeof e._events[n]&&e._events[n].call(e,t),"function"==typeof e["on"+n]&&e["on"+n].call(e,t),e=9===e.nodeType?e.parentWindow:e.parentNode}while(e&&!t.cancelBubble)}return!0},document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))})))}function i(t,e){for(var n=-1,i=t.length;++n<i;)if(n in t&&t[n]===e)return n;return-1}}()}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),s.prototype.handleKeyDown=function(t){var e=t.target;"button"===e.getAttribute("role")&&32===t.keyCode&&(t.preventDefault(),e.click())},s.prototype.debounce=function(t){if("true"===t.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(t.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},s.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},r.prototype.init=function(){this.$module&&("boolean"==typeof this.$module.open||this.polyfillDetails())},r.prototype.polyfillDetails=function(){var t,e=this.$module,n=this.$summary=e.getElementsByTagName("summary").item(0),i=this.$content=e.getElementsByTagName("div").item(0);n&&i&&(i.id||(i.id="details-content-"+(t=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)})))),e.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",i.id),n.tabIndex=0,this.$module.hasAttribute("open")?n.setAttribute("aria-expanded","true"):(n.setAttribute("aria-expanded","false"),i.style.display="none"),this.polyfillHandleInputs(n,this.polyfillSetAttributes.bind(this)))},r.prototype.polyfillSetAttributes=function(){return this.$module.hasAttribute("open")?(this.$module.removeAttribute("open"),this.$summary.setAttribute("aria-expanded","false"),this.$content.style.display="none"):(this.$module.setAttribute("open","open"),this.$summary.setAttribute("aria-expanded","true"),this.$content.style.display=""),!0},r.prototype.polyfillHandleInputs=function(t,e){t.addEventListener("keypress",(function(t){var n=t.target;13!==t.keyCode&&32!==t.keyCode||"summary"===n.nodeName.toLowerCase()&&(t.preventDefault(),n.click?n.click():e(t))})),t.addEventListener("keyup",(function(t){var e=t.target;32===t.keyCode&&"summary"===e.nodeName.toLowerCase()&&t.preventDefault()})),t.addEventListener("click",e)},c.prototype.defaults={characterCountAttribute:"data-maxlength",wordCountAttribute:"data-maxwords"},c.prototype.init=function(){if(this.$textarea){var t=this.$module,e=this.$textarea,n=document.getElementById(e.id+"-info");e.insertAdjacentElement("afterend",n);var i=document.createElement("div");i.className="govuk-character-count__sr-status govuk-visually-hidden",i.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=i,n.insertAdjacentElement("afterend",i);var o=document.createElement("div");o.className=n.className,o.classList.add("govuk-character-count__status"),o.setAttribute("aria-hidden","true"),this.$visibleCountMessage=o,n.insertAdjacentElement("afterend",o),n.classList.add("govuk-visually-hidden"),this.options=this.getDataset(t);var s=this.defaults.characterCountAttribute;this.options.maxwords&&(s=this.defaults.wordCountAttribute),this.maxLength=t.getAttribute(s),this.maxLength&&(e.removeAttribute("maxlength"),this.bindChangeEvents(),"onpageshow"in window?window.addEventListener("pageshow",this.updateCountMessage.bind(this)):window.addEventListener("DOMContentLoaded",this.updateCountMessage.bind(this)),this.updateCountMessage())}},c.prototype.getDataset=function(t){var e={},n=t.attributes;if(n)for(var i=0;i<n.length;i++){var o=n[i],s=o.name.match(/^data-(.+)/);s&&(e[s[1]]=o.value)}return e},c.prototype.count=function(t){return this.options.maxwords?(t.match(/\S+/g)||[]).length:t.length},c.prototype.bindChangeEvents=function(){var t=this.$textarea;t.addEventListener("keyup",this.handleKeyUp.bind(this)),t.addEventListener("focus",this.handleFocus.bind(this)),t.addEventListener("blur",this.handleBlur.bind(this))},c.prototype.checkIfValueChanged=function(){this.$textarea.oldValue||(this.$textarea.oldValue=""),this.$textarea.value!==this.$textarea.oldValue&&(this.$textarea.oldValue=this.$textarea.value,this.updateCountMessage())},c.prototype.updateCountMessage=function(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()},c.prototype.updateVisibleCountMessage=function(){var t=this.$textarea,e=this.$visibleCountMessage,n=this.maxLength-this.count(t.value);this.isOverThreshold()?e.classList.remove("govuk-character-count__message--disabled"):e.classList.add("govuk-character-count__message--disabled"),n<0?(t.classList.add("govuk-textarea--error"),e.classList.remove("govuk-hint"),e.classList.add("govuk-error-message")):(t.classList.remove("govuk-textarea--error"),e.classList.remove("govuk-error-message"),e.classList.add("govuk-hint")),e.innerHTML=this.formattedUpdateMessage()},c.prototype.updateScreenReaderCountMessage=function(){var t=this.$screenReaderCountMessage;this.isOverThreshold()?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",!0),t.innerHTML=this.formattedUpdateMessage()},c.prototype.formattedUpdateMessage=function(){var t,e=this.$textarea,n=this.options,i=this.maxLength-this.count(e.value),o="character";return n.maxwords&&(o="word"),o+=-1===i||1===i?"":"s",t=i<0?"too many":"remaining","You have "+Math.abs(i)+" "+o+" "+t},c.prototype.isOverThreshold=function(){var t=this.$textarea,e=this.options,n=this.count(t.value);return this.maxLength*(e.threshold?e.threshold:0)/100<=n},c.prototype.handleKeyUp=function(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()},c.prototype.handleFocus=function(){this.valueChecker=setInterval(function(){(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.checkIfValueChanged()}.bind(this),1e3)},c.prototype.handleBlur=function(){clearInterval(this.valueChecker)},u.prototype.init=function(){var t=this.$module;e(this.$inputs,(function(t){var e=t.getAttribute("data-aria-controls");e&&document.getElementById(e)&&(t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},u.prototype.syncAllConditionalReveals=function(){e(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},u.prototype.syncConditionalRevealWithInputState=function(t){var e=document.getElementById(t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-checkboxes__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n),e.classList.toggle("govuk-checkboxes__conditional--hidden",!n)}},u.prototype.unCheckAllInputsExcept=function(t){e(document.querySelectorAll('input[type="checkbox"][name="'+t.name+'"]'),function(e){t.form===e.form&&e!==t&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},u.prototype.unCheckExclusiveInputs=function(t){e(document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+t.name+'"]'),function(e){t.form===e.form&&(e.checked=!1,this.syncConditionalRevealWithInputState(e))}.bind(this))},u.prototype.handleClick=function(t){var e=t.target;"checkbox"===e.type&&(e.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(e),e.checked&&("exclusive"===e.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(e):this.unCheckExclusiveInputs(e)))},function(t){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(t){for(var e=this,n=(e.document||e.ownerDocument).querySelectorAll(t),i=0;n[i]&&n[i]!==e;)++i;return!!n[i]})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e="SVGElement"in window&&e instanceof SVGElement?e.parentNode:e.parentElement}return null})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),l.prototype.init=function(){var t=this.$module;t&&(this.setFocus(),t.addEventListener("click",this.handleClick.bind(this)))},l.prototype.setFocus=function(){var t=this.$module;"true"!==t.getAttribute("data-disable-auto-focus")&&(t.setAttribute("tabindex","-1"),t.addEventListener("blur",(function(){t.removeAttribute("tabindex")})),t.focus())},l.prototype.handleClick=function(t){var e=t.target;this.focusTarget(e)&&t.preventDefault()},l.prototype.focusTarget=function(t){if("A"!==t.tagName||!1===t.href)return!1;var e=this.getFragmentFromUrl(t.href),n=document.getElementById(e);if(!n)return!1;var i=this.getAssociatedLegendOrLabel(n);return!!i&&(i.scrollIntoView(),n.focus({preventScroll:!0}),!0)},l.prototype.getFragmentFromUrl=function(t){return-1!==t.indexOf("#")&&t.split("#").pop()},l.prototype.getAssociatedLegendOrLabel=function(t){var e=t.closest("fieldset");if(e){var n=e.getElementsByTagName("legend");if(n.length){var i=n[0];if("checkbox"===t.type||"radio"===t.type)return i;var o=i.getBoundingClientRect().top,s=t.getBoundingClientRect();if(s.height&&window.innerHeight&&s.top+s.height-o<window.innerHeight/2)return i}}return document.querySelector("label[for='"+t.getAttribute("id")+"']")||t.closest("label")},d.prototype.init=function(){this.$module&&this.setFocus()},d.prototype.setFocus=function(){var t=this.$module;"true"!==t.getAttribute("data-disable-auto-focus")&&"alert"===t.getAttribute("role")&&(t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.addEventListener("blur",(function(){t.removeAttribute("tabindex")}))),t.focus())},h.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&("matchMedia"in window?(this.mql=window.matchMedia("(min-width: 48.0625em)"),"addEventListener"in this.mql?this.mql.addEventListener("change",this.syncState.bind(this)):this.mql.addListener(this.syncState.bind(this)),this.syncState(),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))):this.$menuButton.setAttribute("hidden",""))},h.prototype.syncState=function(){this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden",""))},h.prototype.handleMenuButtonClick=function(){this.menuIsOpen=!this.menuIsOpen,this.syncState()},p.prototype.init=function(){var t=this.$module;e(this.$inputs,(function(t){var e=t.getAttribute("data-aria-controls");e&&document.getElementById(e)&&(t.setAttribute("aria-controls",e),t.removeAttribute("data-aria-controls"))})),"onpageshow"in window?window.addEventListener("pageshow",this.syncAllConditionalReveals.bind(this)):window.addEventListener("DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),t.addEventListener("click",this.handleClick.bind(this))},p.prototype.syncAllConditionalReveals=function(){e(this.$inputs,this.syncConditionalRevealWithInputState.bind(this))},p.prototype.syncConditionalRevealWithInputState=function(t){var e=document.getElementById(t.getAttribute("aria-controls"));if(e&&e.classList.contains("govuk-radios__conditional")){var n=t.checked;t.setAttribute("aria-expanded",n),e.classList.toggle("govuk-radios__conditional--hidden",!n)}},p.prototype.handleClick=function(t){var n=t.target;"radio"===n.type&&e(document.querySelectorAll('input[type="radio"][aria-controls]'),function(t){var e=t.form===n.form;t.name===n.name&&e&&this.syncConditionalRevealWithInputState(t)}.bind(this))},f.prototype.init=function(){this.$module&&(this.$linkedElement=this.getLinkedElement(),this.$linkedElement&&this.$module.addEventListener("click",this.focusLinkedElement.bind(this)))},f.prototype.getLinkedElement=function(){var t=this.getFragmentFromUrl();return!!t&&document.getElementById(t)},f.prototype.focusLinkedElement=function(){var t=this.$linkedElement;t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),t.classList.add("govuk-skip-link-focused-element"),this.linkedElementListener||(this.$linkedElement.addEventListener("blur",this.removeFocusProperties.bind(this)),this.linkedElementListener=!0)),t.focus()},f.prototype.removeFocusProperties=function(){this.$linkedElement.removeAttribute("tabindex"),this.$linkedElement.classList.remove("govuk-skip-link-focused-element")},f.prototype.getFragmentFromUrl=function(){return!!this.$module.hash&&this.$module.hash.split("#").pop()},function(t){"document"in this&&"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t&&1!==t.nodeType;)t=t.nextSibling;return t}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),function(t){"document"in this&&"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var t=this.previousSibling;t&&1!==t.nodeType;)t=t.previousSibling;return t}})}.call("object"===("undefined"==typeof window?"undefined":a(window))&&window||"object"===("undefined"==typeof self?"undefined":a(self))&&self||"object"===(void 0===n.g?"undefined":a(n.g))&&n.g||{}),m.prototype.init=function(){"function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup()},m.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},m.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},m.prototype.setup=function(){var t=this.$module,n=this.$tabs,i=t.querySelector(".govuk-tabs__list"),o=t.querySelectorAll(".govuk-tabs__list-item");if(n&&i&&o){i.setAttribute("role","tablist"),e(o,(function(t){t.setAttribute("role","presentation")})),e(n,function(t){this.setAttributes(t),t.boundTabClick=this.onTabClick.bind(this),t.boundTabKeydown=this.onTabKeydown.bind(this),t.addEventListener("click",t.boundTabClick,!0),t.addEventListener("keydown",t.boundTabKeydown,!0),this.hideTab(t)}.bind(this));var s=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(s),t.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",t.boundOnHashChange,!0)}},m.prototype.teardown=function(){var t=this.$module,n=this.$tabs,i=t.querySelector(".govuk-tabs__list"),o=t.querySelectorAll(".govuk-tabs__list-item");n&&i&&o&&(i.removeAttribute("role"),e(o,(function(t){t.removeAttribute("role","presentation")})),e(n,function(t){t.removeEventListener("click",t.boundTabClick,!0),t.removeEventListener("keydown",t.boundTabKeydown,!0),this.unsetAttributes(t)}.bind(this)),window.removeEventListener("hashchange",t.boundOnHashChange,!0))},m.prototype.onHashChange=function(t){var e=window.location.hash,n=this.getTab(e);if(n)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();this.hideTab(i),this.showTab(n),n.focus()}},m.prototype.hideTab=function(t){this.unhighlightTab(t),this.hidePanel(t)},m.prototype.showTab=function(t){this.highlightTab(t),this.showPanel(t)},m.prototype.getTab=function(t){return this.$module.querySelector('.govuk-tabs__tab[href="'+t+'"]')},m.prototype.setAttributes=function(t){var e=this.getHref(t).slice(1);t.setAttribute("id","tab_"+e),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");var n=this.getPanel(t);n.setAttribute("role","tabpanel"),n.setAttribute("aria-labelledby",t.id),n.classList.add(this.jsHiddenClass)},m.prototype.unsetAttributes=function(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");var e=this.getPanel(t);e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.jsHiddenClass)},m.prototype.onTabClick=function(t){if(!t.target.classList.contains("govuk-tabs__tab"))return!1;t.preventDefault();var e=t.target,n=this.getCurrentTab();this.hideTab(n),this.showTab(e),this.createHistoryEntry(e)},m.prototype.createHistoryEntry=function(t){var e=this.getPanel(t),n=e.id;e.id="",this.changingHash=!0,window.location.hash=this.getHref(t).slice(1),e.id=n},m.prototype.onTabKeydown=function(t){switch(t.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),t.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),t.preventDefault()}},m.prototype.activateNextTab=function(){var t=this.getCurrentTab(),e=t.parentNode.nextElementSibling;if(e)var n=e.querySelector(".govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))},m.prototype.activatePreviousTab=function(){var t=this.getCurrentTab(),e=t.parentNode.previousElementSibling;if(e)var n=e.querySelector(".govuk-tabs__tab");n&&(this.hideTab(t),this.showTab(n),n.focus(),this.createHistoryEntry(n))},m.prototype.getPanel=function(t){return this.$module.querySelector(this.getHref(t))},m.prototype.showPanel=function(t){this.getPanel(t).classList.remove(this.jsHiddenClass)},m.prototype.hidePanel=function(t){this.getPanel(t).classList.add(this.jsHiddenClass)},m.prototype.unhighlightTab=function(t){t.setAttribute("aria-selected","false"),t.parentNode.classList.remove("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","-1")},m.prototype.highlightTab=function(t){t.setAttribute("aria-selected","true"),t.parentNode.classList.add("govuk-tabs__list-item--selected"),t.setAttribute("tabindex","0")},m.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected .govuk-tabs__tab")},m.prototype.getHref=function(t){var e=t.getAttribute("href");return e.slice(e.indexOf("#"),e.length)},t.initAll=function(t){var n=void 0!==(t=void 0!==t?t:{}).scope?t.scope:document;e(n.querySelectorAll('[data-module="govuk-button"]'),(function(t){new s(t).init()})),e(n.querySelectorAll('[data-module="govuk-accordion"]'),(function(t){new i(t).init()})),e(n.querySelectorAll('[data-module="govuk-details"]'),(function(t){new r(t).init()})),e(n.querySelectorAll('[data-module="govuk-character-count"]'),(function(t){new c(t).init()})),e(n.querySelectorAll('[data-module="govuk-checkboxes"]'),(function(t){new u(t).init()})),new l(n.querySelector('[data-module="govuk-error-summary"]')).init(),new h(n.querySelector('[data-module="govuk-header"]')).init(),e(n.querySelectorAll('[data-module="govuk-notification-banner"]'),(function(t){new d(t).init()})),e(n.querySelectorAll('[data-module="govuk-radios"]'),(function(t){new p(t).init()})),new f(n.querySelector('[data-module="govuk-skip-link"]')).init(),e(n.querySelectorAll('[data-module="govuk-tabs"]'),(function(t){new m(t).init()}))},t.Accordion=i,t.Button=s,t.Details=r,t.CharacterCount=c,t.Checkboxes=u,t.ErrorSummary=l,t.Header=h,t.NotificationBanner=d,t.Radios=p,t.SkipLink=f,t.Tabs=m},"object"===a(e)?r(e):(o=[e],void 0===(s="function"==typeof(i=r)?i.apply(e,o):i)||(t.exports=s))}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();n("./js/all.js")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kaXN0L2pzL2FsbC5qcyIsIm1hcHBpbmdzIjoiOzs7aURBQW1CQSxFLHNPQUFBQSxFQUlWLFNBQVVDLEdBQVcsYUFPOUIsU0FBU0MsRUFBaUJDLEVBQU9DLEdBQy9CLEdBQUlDLE9BQU9DLFNBQVNDLFVBQVVDLFFBQzVCLE9BQU9MLEVBQU1LLFFBQVFKLEdBRXZCLElBQUssSUFBSUssRUFBSSxFQUFHQSxFQUFJTixFQUFNTyxPQUFRRCxJQUNoQ0wsRUFBU08sS0FBS04sT0FBUUYsRUFBTU0sR0FBSUEsRUFBR04sRUFFdEMsQ0FxdkJELFNBQVNTLEVBQVdDLEdBQ2xCQyxLQUFLRCxRQUFVQSxFQUNmQyxLQUFLQyxTQUFXRixFQUFRRyxhQUFhLE1BQ3JDRixLQUFLRyxVQUFZSixFQUFRSyxpQkFBaUIsNkJBQzFDSixLQUFLSyxlQUFpQixHQUN0QkwsS0FBS00sOEJBQWdDQyxFQUFPQyx5QkFFNUNSLEtBQUtTLGNBQWdCLDRCQUNyQlQsS0FBS1UsYUFBZSw0QkFDcEJWLEtBQUtXLGlCQUFtQixpQ0FFeEJYLEtBQUtZLHFCQUF1QixxQ0FDNUJaLEtBQUthLG1CQUFxQixrQ0FDMUJiLEtBQUtjLG1CQUFxQixrQ0FDMUJkLEtBQUtlLG9CQUFzQixtQ0FDM0JmLEtBQUtnQix3QkFBMEIsd0NBQy9CaEIsS0FBS2lCLDZCQUErQiw4Q0FFcENqQixLQUFLa0IsMkJBQTZCLGtDQUNsQ2xCLEtBQUttQixnQ0FBa0Msd0NBQ3ZDbkIsS0FBS29CLHlCQUEyQix1Q0FDaENwQixLQUFLcUIsbUJBQXFCLCtCQUMxQnJCLEtBQUtzQixxQkFBdUIscUNBRTVCdEIsS0FBS3VCLG9CQUFzQixtQ0FDM0J2QixLQUFLd0IseUJBQTJCLHdDQUNqQyxFQTl2QkQsU0FBVUMsR0FHVixJQWlCV0MsRUFFTkMsRUFDQUMsRUFDQUMsRUFsQkgsbUJBQW9CQyxRQUFXLFdBQzlCLElBR0MsT0FEQUEsT0FBT0MsZUFEQyxDQUFDLEVBQ2dCLE9BQVEsQ0FBQ0MsTUFBTSxNQUNqQyxDQUdQLENBRkMsTUFBTUMsR0FDUCxPQUFPLENBQ1AsQ0FDRCxDQVI4QixLQWN0QlAsRUErRFRJLE9BQU9DLGVBN0RKSixFQUFvQkcsT0FBT3JDLFVBQVV5QyxlQUFlLG9CQUNwRE4sRUFBOEIsZ0VBQzlCQyxFQUFzQix3RUFFMUJDLE9BQU9DLGVBQWlCLFNBQXdCSSxFQUFRQyxFQUFVQyxHQUdqRSxHQUFJWCxJQUF5QlMsSUFBVzVDLFFBQVU0QyxJQUFXRyxVQUFZSCxJQUFXSSxRQUFROUMsV0FBYTBDLGFBQWtCSSxTQUMxSCxPQUFPYixFQUFxQlMsRUFBUUMsRUFBVUMsR0FHL0MsR0FBZSxPQUFYRixLQUFxQkEsYUFBa0JMLFFBQTRCLFdBQWxCLEVBQU9LLElBQzNELE1BQU0sSUFBSUssVUFBVSw4Q0FHckIsS0FBTUgsYUFBc0JQLFFBQzNCLE1BQU0sSUFBSVUsVUFBVSwwQ0FHckIsSUFBSUMsRUFBaUJDLE9BQU9OLEdBQ3hCTyxFQUFxQixVQUFXTixHQUFjLGFBQWNBLEVBQzVETyxFQUFhLFFBQVNQLEdBQVQsRUFBOEJBLEVBQVdRLEtBQ3REQyxFQUFhLFFBQVNULEdBQVQsRUFBOEJBLEVBQVdVLEtBRzFELEdBQUlILEVBQVksQ0FDZixHQUFtQixhQUFmQSxFQUNILE1BQU0sSUFBSUosVUFBVSw2QkFFckIsSUFBS2IsRUFDSixNQUFNLElBQUlhLFVBQVVaLEdBRXJCLEdBQUllLEVBQ0gsTUFBTSxJQUFJSCxVQUFVWCxHQUVyQkMsT0FBT2tCLGlCQUFpQm5ELEtBQUtzQyxFQUFRTSxFQUFnQkosRUFBV1EsSUFDaEUsTUFDQVYsRUFBT00sR0FBa0JKLEVBQVdMLE1BSXJDLEdBQUljLEVBQVksQ0FDZixHQUFtQixhQUFmQSxFQUNILE1BQU0sSUFBSU4sVUFBVSw2QkFFckIsSUFBS2IsRUFDSixNQUFNLElBQUlhLFVBQVVaLEdBRXJCLEdBQUllLEVBQ0gsTUFBTSxJQUFJSCxVQUFVWCxHQUVyQkMsT0FBT21CLGlCQUFpQnBELEtBQUtzQyxFQUFRTSxFQUFnQkosRUFBV1UsSUFDaEUsQ0FPRCxNQUpJLFVBQVdWLElBQ2RGLEVBQU9NLEdBQWtCSixFQUFXTCxPQUc5QkcsQ0FDUCxFQWxGRixHQXFGQ3RDLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FFM0gsU0FBVTFCLEdBRUssU0FBVTJCLFNBQVMzRCxXQUtoQ3FDLE9BQU9DLGVBQWVxQixTQUFTM0QsVUFBVyxPQUFRLENBQzlDdUMsTUFBTyxTQUFjcUIsR0FFakIsSUFPSUMsRUFQQUMsRUFBU0MsTUFDVEMsRUFBVTNCLE9BQ1Y0QixFQUFrQkQsRUFBUWhFLFVBQzFCa0UsRUFBaUJKLEVBQU85RCxVQUN4Qm1FLEVBQVEsV0FBbUIsRUFDM0JDLEVBQVlILEVBQWdCSSxTQUM1QkMsRUFBbUMsbUJBQVhDLFFBQXVELFdBQTlCLEVBQU9BLE9BQU9DLGFBQ0VDLEVBQVVkLFNBQVMzRCxVQUFVcUUsU0FBVUssRUFBb0IsU0FBMkJuQyxHQUFTLElBQTJCLE9BQXJCa0MsRUFBUXJFLEtBQUttQyxJQUFlLENBQW1DLENBQTNCLE1BQU9DLEdBQUssT0FBTyxDQUFRLENBQUUsRUFBRW1DLEVBQVUsb0JBQXFCQyxFQUFXLDZCQUE4QmYsRUFBYSxTQUFvQnRCLEdBQVMsR0FBcUIsbUJBQVZBLEVBQXdCLE9BQU8sRUFBUyxHQUFJK0IsRUFBa0IsT0FBT0ksRUFBa0JuQyxHQUFVLElBQUlzQyxFQUFXVCxFQUFVaEUsS0FBS21DLEdBQVEsT0FBT3NDLElBQWFGLEdBQVdFLElBQWFELENBQVcsRUFDeGlCLElBQUlFLEVBQWNaLEVBQWVhLE1BQzdCQyxFQUFlZCxFQUFlZSxPQUM5QkMsRUFBYWhCLEVBQWVpQixLQUM1QkMsRUFBTUMsS0FBS0QsSUFJWEUsRUFBUy9FLEtBRWIsSUFBS3NELEVBQVd5QixHQUNaLE1BQU0sSUFBSXZDLFVBQVUsa0RBQW9EdUMsR0FvRjVFLElBL0VBLElBVUlDLEVBVkFDLEVBQU9WLEVBQVkxRSxLQUFLcUYsVUFBVyxHQVduQ0MsRUFBUyxXQUVULEdBQUluRixnQkFBZ0JnRixFQUFPLENBaUJ2QixJQUFJSSxFQUFTTCxFQUFPTSxNQUNoQnJGLEtBQ0F5RSxFQUFhNUUsS0FBS29GLEVBQU1WLEVBQVkxRSxLQUFLcUYsYUFFN0MsT0FBSXpCLEVBQVEyQixLQUFZQSxFQUNiQSxFQUVKcEYsSUFFVixDQW9CRyxPQUFPK0UsRUFBT00sTUFDVmhDLEVBQ0FvQixFQUFhNUUsS0FBS29GLEVBQU1WLEVBQVkxRSxLQUFLcUYsWUFLcEQsRUFRR0ksRUFBY1QsRUFBSSxFQUFHRSxFQUFPbkYsT0FBU3FGLEVBQUtyRixRQUkxQzJGLEVBQVksR0FDUDVGLEVBQUksRUFBR0EsRUFBSTJGLEVBQWEzRixJQUM3QmdGLEVBQVc5RSxLQUFLMEYsRUFBVyxJQUFNNUYsR0F1Q3JDLE9BOUJBcUYsRUFBUTVCLFNBQVMsU0FBVSxvQkFBc0JtQyxFQUFVQyxLQUFLLEtBQU8sNkNBQS9EcEMsQ0FBNkcrQixHQUVqSEosRUFBT3RGLFlBQ1BtRSxFQUFNbkUsVUFBWXNGLEVBQU90RixVQUN6QnVGLEVBQU12RixVQUFZLElBQUltRSxFQUV0QkEsRUFBTW5FLFVBQVksTUF3QmZ1RixDQUNWLEdBekpQLEVBNEpDbkYsS0FBSyxnQ0FBb0JOLE9BQXBCLGNBQW9CQSxVQUFVQSxRQUFVLGdDQUFvQjJELEtBQXBCLGNBQW9CQSxRQUFRQSxNQUFRLHFCQUFvQkMsRUFBQUEsRUFBcEIsY0FBb0JBLEVBQUFBLEtBQVVBLEVBQUFBLEdBQVUsQ0FBQyxHQUUzSCxTQUFVMUIsR0FHTixJQUN1Q2dFLEVBUTVCdEMsRUFzTUhsQixFQTlNTixpQkFBa0JqQyxTQUNULGNBRDRCeUYsRUFFbENuRCxTQUFTb0QsY0FBYyxTQURHRCxFQUFFRSxVQUFVQyxPQUFPLEtBQUssS0FBV0gsRUFBRUksYUFRakQsaUJBRFIxQyxFQXlQVG5ELE9BeFA2Q21ELEVBQU8yQyxnQkFLNUN4RCxTQUFTeUQsa0JBQ1R6RCxTQUFTeUQsZ0JBQWdCLDZCQUE4QixRQUN2RHpELFNBQVN5RCxnQkFBZ0IsNkJBQThCLE9BQU9KLHFCQUFxQkcsZ0JBR3pGM0MsRUFBTzJDLGFBQWdCLFdBQ3JCLElBQUlFLEdBQVksRUFDWkMsRUFBZSxTQUFVOUQsRUFBUStELEVBQU1DLEVBQUlDLEdBQ3pDdEUsT0FBT0MsZUFDVEQsT0FBT0MsZUFBZUksRUFBUStELEVBQU0sQ0FDbENFLGNBQWMsSUFBVUosS0FBcUJJLEVBQzdDdkQsSUFBS3NELElBR0poRSxFQUFPYSxpQkFBaUJrRCxFQUFNQyxFQUNwQyxFQUdELElBQ0VGLEVBQWEsQ0FBQyxFQUFHLFVBSWxCLENBRkQsTUFBT2hFLEdBQ0wrRCxHQUFZLENBQ2IsQ0FtS0QsT0FoS29CLFNBQVVLLEVBQUlDLEdBQ2hDLElBQUlqRCxFQUFPckQsS0FDUHVHLEVBQVMsR0FDVEMsRUFBVyxDQUFDLEVBQ1o1RyxFQUFTLEVBQ1Q2RyxFQUFZLEVBQ1pDLEVBQWlCLFNBQVUvRyxHQUM3QnNHLEVBQWE1QyxFQUFNMUQsR0FBRyxXQUVwQixPQURBZ0gsSUFDT0osRUFBTzVHLEVBQ2YsSUFBRSxFQUVKLEVBQ0dpSCxFQUFVLFdBR1osR0FBSWhILEdBQVU2RyxFQUNaLEtBQU9BLEVBQVk3RyxJQUFVNkcsRUFDM0JDLEVBQWVELEVBRXBCLEVBR0dFLEVBQVEsV0FDVixJQUFJRSxFQUNBbEgsRUFDQXNGLEVBQU9DLFVBQ1A0QixFQUFTLE1BR2IsR0FBSTdCLEVBQUtyRixPQUNQLElBQUtELEVBQUksRUFBR0EsRUFBSXNGLEVBQUtyRixTQUFVRCxFQUM3QixHQUFJbUgsRUFBT0MsS0FBSzlCLEVBQUt0RixJQUluQixNQUhBa0gsRUFBUSxJQUFJRyxZQUFZLFdBQWEvQixFQUFLdEYsR0FBbEIsb0NBQ2xCc0gsS0FBTyxFQUNiSixFQUFNWCxLQUFPLHdCQUNQVyxFQWdCWixJQUpJLE1BTkZOLEVBRHNCLFdBQXBCLEVBQU9GLEVBQUdDLEtBQ0YsR0FBS0QsRUFBR0MsR0FBTVksU0FBU0MsUUFBUSxhQUFjLElBQUlDLE1BQU1OLElBRXZELEdBQUtULEVBQUdDLElBQU9hLFFBQVEsYUFBYyxJQUFJQyxNQUFNTixJQUl6QyxLQUFJUCxFQUFTLElBRy9CQyxFQUFXLENBQUMsRUFDUDdHLEVBQUksRUFBR0EsRUFBSTRHLEVBQU8zRyxTQUFVRCxFQUMvQjZHLEVBQVNELEVBQU81RyxLQUFNLEVBQ3hCQyxFQUFTMkcsRUFBTzNHLE9BQ2hCZ0gsR0FDRCxFQXFHRCxPQWxHQUQsSUFHQVYsRUFBYTVDLEVBQU0sVUFBVSxXQUUzQixPQURBc0QsSUFDTy9HLENBQ1IsSUFHRHlELEVBQUtnRSxlQUNIaEUsRUFBS1MsU0FBVyxXQUVkLE9BREE2QyxJQUNPSixFQUFPZixLQUFLLElBQ3BCLEVBRUhuQyxFQUFLaUUsS0FBTyxTQUFVQyxHQUVwQixPQURBWixJQUNPSixFQUFPZ0IsRUFDZixFQUVEbEUsRUFBS21FLFNBQVcsU0FBVUMsR0FFeEIsT0FEQWQsTUFDU0gsRUFBU2lCLEVBQ25CLEVBRURwRSxFQUFLcUUsSUFBTSxXQUNUZixFQUFNdEIsTUFBTWhDLEVBQU00QixFQUFPQyxXQUV6QixJQUFLLElBQUlELEVBQU13QyxFQUFPOUgsRUFBSSxFQUFHZ0ksRUFBSTFDLEVBQUtyRixPQUFRRCxFQUFJZ0ksSUFBS2hJLEVBQ3JEOEgsRUFBUXhDLEVBQUt0RixHQUNSNkcsRUFBU2lCLEtBQ1psQixFQUFPM0IsS0FBSzZDLEdBQ1pqQixFQUFTaUIsSUFBUyxHQUtsQjdILElBQVcyRyxFQUFPM0csU0FDcEJBLEVBQVMyRyxFQUFPM0csU0FBVyxFQUNILFdBQXBCLEVBQU95RyxFQUFHQyxJQUNaRCxFQUFHQyxHQUFNWSxRQUFVWCxFQUFPZixLQUFLLEtBRS9CYSxFQUFHQyxHQUFRQyxFQUFPZixLQUFLLEtBRXpCb0IsSUFFSCxFQUVEdkQsRUFBS3VFLE9BQVMsV0FDWmpCLEVBQU10QixNQUFNaEMsRUFBTTRCLEVBQU9DLFdBR3pCLElBQUssSUFBSUQsRUFBTTRDLEVBQVMsQ0FBQyxFQUFHbEksRUFBSSxFQUFHbUksRUFBSSxHQUFJbkksRUFBSXNGLEVBQUtyRixTQUFVRCxFQUM1RGtJLEVBQU81QyxFQUFLdEYsS0FBTSxTQUNYNkcsRUFBU3ZCLEVBQUt0RixJQUl2QixJQUFLQSxFQUFJLEVBQUdBLEVBQUk0RyxFQUFPM0csU0FBVUQsRUFDMUJrSSxFQUFPdEIsRUFBTzVHLEtBQUttSSxFQUFFbEQsS0FBSzJCLEVBQU81RyxJQUV4QzRHLEVBQVN1QixFQUNUbEksRUFBU2tJLEVBQUVsSSxTQUFXLEVBR0UsV0FBcEIsRUFBT3lHLEVBQUdDLElBQ1pELEVBQUdDLEdBQU1ZLFFBQVVYLEVBQU9mLEtBQUssS0FFL0JhLEVBQUdDLEdBQVFDLEVBQU9mLEtBQUssS0FFekJvQixHQUNELEVBRUR2RCxFQUFLdUMsT0FBUyxTQUFVNkIsRUFBT00sR0FJN0IsT0FIQXBCLEVBQU10QixNQUFNaEMsRUFBTSxDQUFDb0UsSUFHZmhHLElBQWNzRyxFQUNaQSxHQUNGMUUsRUFBS3FFLElBQUlELElBQ0YsSUFFUHBFLEVBQUt1RSxPQUFPSCxJQUNMLEdBS1BqQixFQUFTaUIsSUFDWHBFLEVBQUt1RSxPQUFPSCxJQUNMLElBSVRwRSxFQUFLcUUsSUFBSUQsSUFDRixFQUNSLEVBRU1wRSxDQUNSLENBR0YsQ0F0THNCLElBNExqQixjQURGcEIsRUFBSUssU0FBU29ELGNBQWMsV0FFL0J6RCxFQUFFMEQsVUFBVUMsT0FBTyxLQUFLLEdBQ25CM0QsRUFBRTBELFVBQVU2QixTQUFTLE9BQzFCdkYsRUFBRTBELFVBQVVxQyxZQUFZdkksVUFBVW1HLE9BQVMsU0FBZ0I2QixHQUN6RCxJQUFJTSxFQUFRN0MsVUFBVSxHQUN0QixHQUFJNkMsSUFBVXRHLEVBQVcsQ0FDdkIsSUFBSWlHLEdBQU8xSCxLQUFLd0gsU0FBU0MsR0FFekIsT0FEQXpILEtBQUswSCxFQUFNLE1BQVEsVUFBVUQsR0FDdEJDLENBQ1IsQ0FHRCxPQURBMUgsTUFEQStILElBQVVBLEdBQ0csTUFBUSxVQUFVTixHQUN4Qk0sQ0FDUixJQUlGLFdBQ0MsSUFBSTlGLEVBQUlLLFNBQVNvRCxjQUFjLFFBQy9CLEdBQU0sY0FBZXpELElBQ3JCQSxFQUFFMEQsVUFBVStCLElBQUksSUFBSyxNQUNqQnpGLEVBQUUwRCxVQUFVNkIsU0FBUyxNQUF6QixDQUNBLElBQUlTLEVBQVNoRyxFQUFFMEQsVUFBVXFDLFlBQVl2SSxVQUFVaUksSUFDL0N6RixFQUFFMEQsVUFBVXFDLFlBQVl2SSxVQUFVaUksSUFBTSxXQUd0QyxJQUZBLElBQUl6QyxFQUFPQyxVQUNQeUMsRUFBSXpDLFVBQVV0RixPQUNURCxFQUFJLEVBQUdBLEVBQUlnSSxFQUFHaEksSUFDckJzSSxFQUFPcEksS0FBS0csS0FBTWlGLEVBQUt0RixHQUUxQixDQVJvQyxDQUp0QyxJQWdCQSxXQUNDLElBQUlzQyxFQUFJSyxTQUFTb0QsY0FBYyxRQUMvQixHQUFNLGNBQWV6RCxJQUNyQkEsRUFBRTBELFVBQVUrQixJQUFJLEtBQ2hCekYsRUFBRTBELFVBQVUrQixJQUFJLEtBQ2hCekYsRUFBRTBELFVBQVVpQyxPQUFPLElBQUssS0FDbkIzRixFQUFFMEQsVUFBVTZCLFNBQVMsTUFBMUIsQ0FDQSxJQUFJUyxFQUFTaEcsRUFBRTBELFVBQVVxQyxZQUFZdkksVUFBVW1JLE9BQy9DM0YsRUFBRTBELFVBQVVxQyxZQUFZdkksVUFBVW1JLE9BQVMsV0FHekMsSUFGQSxJQUFJM0MsRUFBT0MsVUFDUHlDLEVBQUl6QyxVQUFVdEYsT0FDVEQsRUFBSSxFQUFHQSxFQUFJZ0ksRUFBR2hJLElBQ3JCc0ksRUFBT3BJLEtBQUtHLEtBQU1pRixFQUFLdEYsR0FFMUIsQ0FScUMsQ0FOdkMsSUFwUFAsRUF1UUdFLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FFN0gsU0FBVTFCLEdBR0ksYUFBY3pCLE1BS00sb0JBQXRCa0ksbUJBQWdFLG1CQUFsQkMsZ0JBRXJEbkksS0FBS29JLGFBR1JwSSxLQUFLcUksU0FBV3JJLEtBQUtvSSxjQUtyQnBJLEtBQUtxSSxTQUFXckksS0FBS29JLGFBQWU5RixTQUFTMEYsWUFBZSxJQUFJNUUsU0FBUyxnQ0FBYixHQUM1RHBELEtBQUtxSSxTQUFTNUksVUFBWTZDLFVBbkI1QixFQXlCQ3pDLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FFM0gsU0FBVTFCLEdBR0ksWUFBYXpCLE1BQVEsZ0JBQWlCQSxNQUtuRCxXQUdBLElBQUlULE9BQU9nRCxTQUFZaEQsT0FBTytJLFlBQTlCLENBTUEvSSxPQUFPZ0QsUUFBVWhELE9BQU8rSSxZQUFjLElBQUlsRixTQUFTLCtCQUFiLEdBR3RDLElBaUNJbUYsRUFqQ0FDLEVBQVFsRyxTQUFTbUcsWUFBWW5HLFNBQVNvRCxjQUFjLFNBSXBEZ0QsRUFIUUYsRUFBTUMsWUFBWW5HLFNBQVNvRCxjQUFjLFdBRzNCaUQsY0FBY3JHLFNBQ3BDN0MsRUFBWThDLFFBQVE5QyxVQUFZaUosRUFBY0QsWUFBWUMsRUFBY2hELGNBQWMsTUFDdEZrRCxFQUFRLENBQUMsRUFHVEMsRUFBTyxTQUFQQSxFQUFpQkMsRUFBU0MsR0FDN0IsSUFHQUMsRUFBS2hILEVBQU9pSCxFQUZaQyxFQUFhSixFQUFRSSxZQUFjLEdBQ25DQyxHQUFTLEVBR1QsR0FBeUIsSUFBckJMLEVBQVFNLFVBQWtCTixFQUFRZCxjQUFnQnpGLFFBR3JELElBQUt5RyxLQUZMRixFQUFRZCxZQUFjekYsUUFFVnFHLEVBQ1g1RyxFQUFRNEcsRUFBTUksR0FDZEYsRUFBUUUsR0FBT2hILEVBSWpCLEtBQU9pSCxFQUFZRixHQUFRRyxJQUFhQyxJQUN2Q04sRUFBS0ksRUFBV0YsR0FHakIsT0FBT0QsQ0FDUCxFQUVHTyxFQUFXL0csU0FBU2dILHFCQUFxQixLQUN6Q0MsRUFBc0JqSCxTQUFTb0QsY0FFL0I4RCxFQUFZLElBRWhCL0osRUFBVWdLLFlBQVksb0JBQW9CLFNBQVVDLEdBU25ELElBUkEsSUFNQVosRUFMQWEsRUFBZUQsRUFBTUMsYUFDckJDLEdBQVloQixFQUFNMUcsZUFBZXlILEdBQ2pDRSxFQUFXcEssRUFBVWtLLEdBQ3JCRyxFQUFXbEIsRUFBTWUsR0FDakJSLEdBQVMsRUFHRkwsRUFBVU8sSUFBV0YsSUFDRixJQUFyQkwsRUFBUU0sV0FDUFEsR0FBWWQsRUFBUWEsS0FBa0JHLEtBQ3pDaEIsRUFBUWEsR0FBZ0JFLEdBSzNCakIsRUFBTWUsR0FBZ0JFLENBQ3RCLElBRURwSyxFQUFVdUksWUFBY3pGLFFBRW5COUMsRUFBVXNLLGVBRWR0SyxFQUFVc0ssYUFBZSxTQUFzQjdELEdBQzlDLE9BQW1DLE9BQTVCbEcsS0FBS0UsYUFBYWdHLEVBQ3pCLEdBYUc4RCxNQUNKMUgsU0FBUzJILG1CQUFxQkQsRUFDOUJ6QixFQUFXMkIsWUFBWUYsRUFBVyxLQUluQzFILFNBQVNvRCxjQUFnQixTQUF1QnlFLEdBQy9DLElBQUlyQixFQUFVUyxFQUFvQjdHLE9BQU95SCxHQUFVQyxlQUNuRCxPQUFPdkIsRUFBS0MsRUFDWixFQUdEeEcsU0FBUytILFlBQVk3QixFQTdGcEIsTUFGQWpKLE9BQU8rSSxZQUFjL0ksT0FBT2dELFFBMEU3QixTQUFTeUgsSUFFUixPQURNUixLQUFjYyxhQUFhL0IsTUFDN0JqRyxTQUFTaUksTUFBU2pJLFNBQVNpSSxLQUFLOUssWUFBYSx5QkFBeUJzSCxLQUFLekUsU0FBU2tJLGNBQ3ZGM0IsRUFBS3ZHLFVBQVUsR0FDWGlHLEdBQVlqRyxTQUFTaUksS0FBSzlLLFdBQVc2SyxhQUFhL0IsSUFDNUNqRyxTQUFTaUksS0FBSzlLLFdBR3pCLENBdEZELEdBUkQsRUErR0NJLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FFM0gsU0FBVTFCLEdBR04sSUFFUVEsRUFETixhQUFjakMsTUFBUSxjQUFlc0MsU0FBU21JLGlCQUFtQixZQUFhekssTUFBUSxjQUFldUMsUUFBUTlDLGFBQ3ZHd0MsRUFBSUssU0FBU29ELGNBQWMsU0FDN0JDLFVBQVUrQixJQUFJLElBQUssS0FDZHpGLEVBQUUwRCxVQUFVNkIsU0FBUyxPQU8vQixTQUFVckUsR0FDVCxJQUFJNkMsR0FBWSxFQUNaQyxFQUFlLFNBQVU5RCxFQUFRK0QsRUFBTUMsRUFBSUMsR0FDekN0RSxPQUFPQyxlQUNURCxPQUFPQyxlQUFlSSxFQUFRK0QsRUFBTSxDQUNsQ0UsY0FBYyxJQUFVSixLQUFxQkksRUFDN0N2RCxJQUFLc0QsSUFHSmhFLEVBQU9hLGlCQUFpQmtELEVBQU1DLEVBQ3BDLEVBRUQsSUFDRUYsRUFBYSxDQUFDLEVBQUcsVUFJbEIsQ0FGRCxNQUFPaEUsR0FDTCtELEdBQVksQ0FDYixDQUVELElBQUkwRSxFQUFVLFNBQVZBLEVBQW9CQyxFQUFHekUsRUFBTTBFLEdBRS9CM0UsRUFBYTBFLEVBQUVsTCxVQUFXeUcsR0FBTSxXQUM5QixJQUFJMkUsRUFFQUMsRUFBTzlLLEtBR1grSyxFQUFvQixrQ0FBeUM3RSxFQUM3RCxHQUFHNEUsRUFBS0MsR0FBb0IsT0FBT0YsRUFXbkMsR0FWQUMsRUFBS0MsSUFBcUIsR0FVdEIsSUFBVS9FLEVBQVcsQ0FPdkIsSUFMQSxJQUFJZ0YsRUFDQUMsRUFBU1AsRUFBUU8sUUFBVTNJLFNBQVNvRCxjQUFjLE9BQ2xEd0YsRUFBY0QsRUFBTy9CLFdBQ3JCdkIsRUFBSXVELEVBQVl0TCxPQUVYRCxFQUFJLEVBQUdBLEVBQUlnSSxJQUFLaEksRUFDdkIsR0FBSXVMLEVBQVl2TCxHQUFHd0wsS0FBT0wsRUFBTSxDQUM5QkUsRUFBU0UsRUFBWXZMLEdBQ3JCLEtBQ0QsQ0FHSHFMLElBQVdBLEVBQVNDLEVBQU94QyxZQUFZbkcsU0FBU29ELGNBQWMsU0FFOURtRixFQUFZL0UsYUFBYWpHLEtBQUttTCxFQUFRRixFQUFNRixFQUM3QyxNQUFNQyxFQUFZLElBQUkvRSxhQUFhZ0YsRUFBTUYsR0FPMUMsT0FMQTNFLEVBQWE2RSxFQUFNNUUsR0FBTSxXQUN2QixPQUFPMkUsQ0FDUixXQUNNQyxFQUFLQyxHQUVMRixDQUNSLElBQUUsRUFDSixFQUVESCxFQUFRdkgsRUFBT1osUUFBUyxZQUFhLGFBQ3JDbUksRUFBUXZILEVBQU9tRixZQUFhLFlBQWEsYUFDekNvQyxFQUFRdkgsRUFBT2lJLGdCQUFpQixVQUFXLE9BQzNDVixFQUFRdkgsRUFBT2tJLGtCQUFtQixVQUFXLE9BQzdDWCxFQUFRdkgsRUFBT21JLGdCQUFpQixVQUFXLE1BdkU1QyxFQXdFQ3RMLEtBdEZOLEVBd0ZHSCxLQUFLLGdDQUFvQk4sT0FBcEIsY0FBb0JBLFVBQVVBLFFBQVUsZ0NBQW9CMkQsS0FBcEIsY0FBb0JBLFFBQVFBLE1BQVEscUJBQW9CQyxFQUFBQSxFQUFwQixjQUFvQkEsRUFBQUEsS0FBVUEsRUFBQUEsR0FBVSxDQUFDLEdBK0I3SHJELEVBQVVMLFVBQVU4TCxLQUFPLFdBRXpCLEdBQUt2TCxLQUFLRCxRQUFWLENBSUFDLEtBQUt3TCxlQUNMeEwsS0FBS3lMLHFCQUdMLElBQUlDLEVBQXFCMUwsS0FBSzJMLHlCQUM5QjNMLEtBQUs0TCxvQkFBb0JGLEVBUHhCLENBUUYsRUFHRDVMLEVBQVVMLFVBQVUrTCxhQUFlLFdBRWpDeEwsS0FBS0ssZUFBaUJpQyxTQUFTb0QsY0FBYyxVQUM3QzFGLEtBQUtLLGVBQWV3TCxhQUFhLE9BQVEsVUFDekM3TCxLQUFLSyxlQUFld0wsYUFBYSxRQUFTN0wsS0FBS1UsY0FDL0NWLEtBQUtLLGVBQWV3TCxhQUFhLGdCQUFpQixTQUdsRCxJQUFJQyxFQUFReEosU0FBU29ELGNBQWMsUUFDbkNvRyxFQUFNbkcsVUFBVStCLElBQUkxSCxLQUFLcUIsb0JBQ3pCckIsS0FBS0ssZUFBZW9JLFlBQVlxRCxHQUdoQyxJQUFJQyxFQUFxQnpKLFNBQVNvRCxjQUFjLE9BQ2hEcUcsRUFBbUJGLGFBQWEsUUFBUzdMLEtBQUtTLGVBQzlDc0wsRUFBbUJ0RCxZQUFZekksS0FBS0ssZ0JBQ3BDTCxLQUFLRCxRQUFRaU0sYUFBYUQsRUFBb0IvTCxLQUFLRCxRQUFRa00sWUFHM0QsSUFBSUMsRUFBc0I1SixTQUFTb0QsY0FBYyxRQUNqRHdHLEVBQW9CdkcsVUFBVStCLElBQUkxSCxLQUFLVyxrQkFDdkNYLEtBQUtLLGVBQWVvSSxZQUFZeUQsR0FHaENsTSxLQUFLSyxlQUFlOEwsaUJBQWlCLFFBQVNuTSxLQUFLb00sc0JBQXNCQyxLQUFLck0sTUFDL0UsRUFHREYsRUFBVUwsVUFBVWdNLG1CQUFxQixXQUV2Q3JNLEVBQWdCWSxLQUFLRyxVQUFXLFNBQVVtTSxFQUFVM00sR0FFbEQsSUFBSTRNLEVBQVVELEVBQVNFLGNBQWMsSUFBTXhNLEtBQUtjLG9CQUNoRGQsS0FBS3lNLHNCQUFzQkYsRUFBUzVNLEdBQ3BDSyxLQUFLME0sWUFBWTFNLEtBQUsyTSxXQUFXTCxHQUFXQSxHQUc1Q0MsRUFBUUosaUJBQWlCLFFBQVNuTSxLQUFLNE0sZ0JBQWdCUCxLQUFLck0sS0FBTXNNLElBSWxFdE0sS0FBSzZNLGdCQUFnQlAsRUFDdEIsRUFBQ0QsS0FBS3JNLE1BQ1IsRUFFREYsRUFBVUwsVUFBVWdOLHNCQUF3QixTQUFVSyxFQUFnQjNELEdBQ3BFLElBQUk0RCxFQUFRRCxFQUFlTixjQUFjLElBQU14TSxLQUFLYSxvQkFDaERtTSxFQUFXRixFQUFlTixjQUFjLElBQU14TSxLQUFLZSxxQkFDbkRrTSxFQUFXSCxFQUFlTixjQUFjLElBQU14TSxLQUFLdUIscUJBR25EMkwsRUFBVTVLLFNBQVNvRCxjQUFjLFVBQ3JDd0gsRUFBUXJCLGFBQWEsT0FBUSxVQUM3QnFCLEVBQVFyQixhQUFhLGdCQUFpQjdMLEtBQUtDLFNBQVcsYUFBZWtKLEVBQVEsSUFHN0UsSUFBSyxJQUFJeEosRUFBSSxFQUFHQSxFQUFJb04sRUFBTUksV0FBV3ZOLE9BQVFELElBQUssQ0FDaEQsSUFBSWlMLEVBQU9tQyxFQUFNSSxXQUFXN0YsS0FBSzNILEdBR1gsT0FBbEJpTCxFQUFLVCxVQUNQK0MsRUFBUXJCLGFBQWFqQixFQUFLVCxTQUFVUyxFQUFLd0MsVUFFNUMsQ0FHRCxJQUFJQyxFQUFlL0ssU0FBU29ELGNBQWMsUUFDMUMySCxFQUFhMUgsVUFBVStCLElBQUkxSCxLQUFLZ0IseUJBR2hDcU0sRUFBYUMsR0FBS1AsRUFBTU8sR0FHeEIsSUFBSUMsRUFBb0JqTCxTQUFTb0QsY0FBYyxRQUMvQzZILEVBQWtCNUgsVUFBVStCLElBQUkxSCxLQUFLaUIsOEJBQ3JDb00sRUFBYTVFLFlBQVk4RSxHQUV6QkEsRUFBa0JDLFVBQVlULEVBQU1TLFVBR3BDLElBQUlDLEVBQWNuTCxTQUFTb0QsY0FBYyxRQUN6QytILEVBQVk5SCxVQUFVK0IsSUFBSTFILEtBQUtrQiw0QkFJL0J1TSxFQUFZNUIsYUFBYSxpQkFBa0IsSUFFM0MsSUFBSTZCLEVBQW1CcEwsU0FBU29ELGNBQWMsUUFDOUNnSSxFQUFpQi9ILFVBQVUrQixJQUFJMUgsS0FBS21CLGlDQUNwQ3NNLEVBQVloRixZQUFZaUYsR0FFeEIsSUFBSUMsRUFBa0JyTCxTQUFTb0QsY0FBYyxRQUN6Q29HLEVBQVF4SixTQUFTb0QsY0FBYyxRQWVuQyxHQWRBb0csRUFBTW5HLFVBQVUrQixJQUFJMUgsS0FBS3FCLG9CQUN6QnFNLEVBQWlCakYsWUFBWXFELEdBQzdCNkIsRUFBZ0JoSSxVQUFVK0IsSUFBSTFILEtBQUtvQiwwQkFDbkNzTSxFQUFpQmpGLFlBQVlrRixHQU83QlQsRUFBUXpFLFlBQVk0RSxHQUNwQkgsRUFBUXpFLFlBQVl6SSxLQUFLNE4sMEJBR3JCLE1BQVFYLEVBQWdELENBSzFELElBQUlZLEVBQWV2TCxTQUFTb0QsY0FBYyxRQUV0Q29JLEVBQW9CeEwsU0FBU29ELGNBQWMsUUFDL0NvSSxFQUFrQm5JLFVBQVUrQixJQUFJMUgsS0FBS3dCLDBCQUNyQ3FNLEVBQWFwRixZQUFZcUYsR0FHekIsSUFBSyxJQUFJQyxFQUFJLEVBQUdwRyxFQUFJc0YsRUFBU0UsV0FBV3ZOLE9BQVFtTyxFQUFJcEcsSUFBS29HLEVBQUcsQ0FDMUQsSUFBSTVELEVBQVc4QyxFQUFTRSxXQUFXN0YsS0FBS3lHLEdBQUc1RCxTQUN2Q2lELEVBQVlILEVBQVNFLFdBQVc3RixLQUFLeUcsR0FBR1gsVUFDNUNTLEVBQWFoQyxhQUFhMUIsRUFBVWlELEVBQ3JDLENBR0RVLEVBQWtCTixVQUFZUCxFQUFTTyxVQUd2Q1AsRUFBU2UsV0FBV0MsYUFBYUosRUFBY1osR0FFL0NDLEVBQVF6RSxZQUFZb0YsR0FDcEJYLEVBQVF6RSxZQUFZekksS0FBSzROLHlCQUMxQixDQUVEVixFQUFRekUsWUFBWWdGLEdBRXBCVCxFQUFTM0MsWUFBWTBDLEdBQ3JCQyxFQUFTdkUsWUFBWXlFLEVBQ3RCLEVBR0RwTixFQUFVTCxVQUFVbU4sZ0JBQWtCLFNBQVVOLEdBQzlDLElBQUk0QixFQUFXbE8sS0FBSzJNLFdBQVdMLEdBQy9CdE0sS0FBSzBNLGFBQWF3QixFQUFVNUIsR0FHNUJ0TSxLQUFLbU8sV0FBVzdCLEVBQ2pCLEVBR0R4TSxFQUFVTCxVQUFVMk0sc0JBQXdCLFdBQzFDLElBQUlyTSxFQUFVQyxLQUNWRyxFQUFZSCxLQUFLRyxVQUNqQmlPLEdBQWVwTyxLQUFLMkwseUJBRXhCdk0sRUFBZ0JlLEdBQVcsU0FBVW1NLEdBQ25Ddk0sRUFBUTJNLFlBQVkwQixFQUFhOUIsR0FFakN2TSxFQUFRb08sV0FBVzdCLEVBQ3BCLElBRUR2TSxFQUFRNkwsb0JBQW9Cd0MsRUFDN0IsRUFHRHRPLEVBQVVMLFVBQVVpTixZQUFjLFNBQVV3QixFQUFVNUIsR0FDcEQsSUFBSVIsRUFBUVEsRUFBU0UsY0FBYyxJQUFNeE0sS0FBS3FCLG9CQUMxQ2dOLEVBQWdCL0IsRUFBU0UsY0FBYyxJQUFNeE0sS0FBS29CLDBCQUNsRDhMLEVBQVVaLEVBQVNFLGNBQWMsSUFBTXhNLEtBQUthLG9CQUM1Q3lOLEVBQWdCSixFQUFXLE9BQVMsT0FHcENLLEVBQXNCak0sU0FBU29ELGNBQWMsUUFDakQ2SSxFQUFvQjVJLFVBQVUrQixJQUFJLHlCQUNsQzZHLEVBQW9CZixVQUFZLGdCQUVoQ2EsRUFBY2IsVUFBWWMsRUFDMUJELEVBQWM1RixZQUFZOEYsR0FDMUJyQixFQUFRckIsYUFBYSxnQkFBaUJxQyxHQUdsQ0EsR0FDRjVCLEVBQVMzRyxVQUFVK0IsSUFBSTFILEtBQUtZLHNCQUM1QmtMLEVBQU1uRyxVQUFVaUMsT0FBTzVILEtBQUtzQix3QkFFNUJnTCxFQUFTM0csVUFBVWlDLE9BQU81SCxLQUFLWSxzQkFDL0JrTCxFQUFNbkcsVUFBVStCLElBQUkxSCxLQUFLc0IsdUJBSTNCLElBQUlvSyxFQUFxQjFMLEtBQUsyTCx5QkFDOUIzTCxLQUFLNEwsb0JBQW9CRixFQUMxQixFQUdENUwsRUFBVUwsVUFBVWtOLFdBQWEsU0FBVUwsR0FDekMsT0FBT0EsRUFBUzNHLFVBQVU2QixTQUFTeEgsS0FBS1kscUJBQ3pDLEVBR0RkLEVBQVVMLFVBQVVrTSx1QkFBeUIsV0FPM0MsT0FMb0IzTCxLQUFLRyxVQUFVUCxTQUVSSSxLQUFLRCxRQUFRSyxpQkFBaUIsSUFBTUosS0FBS1ksc0JBQXNCaEIsTUFJM0YsRUFHREUsRUFBVUwsVUFBVW1NLG9CQUFzQixTQUFVc0MsR0FDbEQsSUFBSU0sRUFBZXhPLEtBQUtLLGVBQWVtTSxjQUFjLElBQU14TSxLQUFLcUIsb0JBQzVEb04sRUFBZXpPLEtBQUtLLGVBQWVtTSxjQUFjLElBQU14TSxLQUFLVyxrQkFDNUQyTixFQUFnQkosRUFBVyxvQkFBc0Isb0JBQ3JEbE8sS0FBS0ssZUFBZXdMLGFBQWEsZ0JBQWlCcUMsR0FDbERPLEVBQWFqQixVQUFZYyxFQUdyQkosRUFDRk0sRUFBYTdJLFVBQVVpQyxPQUFPNUgsS0FBS3NCLHNCQUVuQ2tOLEVBQWE3SSxVQUFVK0IsSUFBSTFILEtBQUtzQixxQkFFbkMsRUFHRCxJQUFJZixFQUFTLENBQ1hDLHVCQUF3QixXQUN0QixJQUNJNEUsRUFEQXNKLEVBQWEsMEJBRWpCLElBSUUsT0FIQW5QLE9BQU9vUCxlQUFlQyxRQUFRRixFQUFZQSxHQUMxQ3RKLEVBQVM3RixPQUFPb1AsZUFBZUUsUUFBUUgsS0FBZ0JBLEVBQVc1SyxXQUNsRXZFLE9BQU9vUCxlQUFlRyxXQUFXSixHQUMxQnRKLENBR1IsQ0FGQyxNQUFPMkosR0FDUCxPQUFPLENBQ1IsQ0FDRixHQTJVSCxTQUFTQyxFQUFRalAsR0FDZkMsS0FBS0QsUUFBVUEsRUFDZkMsS0FBS2lQLHdCQUEwQixJQUNoQyxDQWdFRCxTQUFTQyxFQUFTblAsR0FDaEJDLEtBQUtELFFBQVVBLENBQ2hCLENBdUhELFNBQVNvUCxFQUFnQnBQLEdBQ3ZCQyxLQUFLRCxRQUFVQSxFQUNmQyxLQUFLb1AsVUFBWXJQLEVBQVF5TSxjQUFjLDZCQUN2Q3hNLEtBQUtxUCxxQkFBdUIsS0FDNUJyUCxLQUFLc1AsMEJBQTRCLEtBQ2pDdFAsS0FBS3VQLG1CQUFxQixJQUMzQixDQWdQRCxTQUFTQyxFQUFZelAsR0FDbkJDLEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUt5UCxRQUFVMVAsRUFBUUssaUJBQWlCLHlCQUN6QyxDQXlNRCxTQUFTc1AsRUFBYzNQLEdBQ3JCQyxLQUFLRCxRQUFVQSxDQUNoQixDQWlLRCxTQUFTNFAsRUFBb0I1UCxHQUMzQkMsS0FBS0QsUUFBVUEsQ0FDaEIsQ0FrREQsU0FBUzZQLEVBQVE3UCxHQUNmQyxLQUFLRCxRQUFVQSxFQUNmQyxLQUFLNlAsWUFBYzlQLEdBQVdBLEVBQVF5TSxjQUFjLDJCQUNwRHhNLEtBQUs4UCxNQUFROVAsS0FBSzZQLGFBQWU5UCxFQUFReU0sY0FDdkMsSUFBTXhNLEtBQUs2UCxZQUFZM1AsYUFBYSxrQkFNdENGLEtBQUsrUCxZQUFhLEVBTWxCL1AsS0FBS2dRLElBQU0sSUFDWixDQXdFRCxTQUFTQyxFQUFRbFEsR0FDZkMsS0FBS0QsUUFBVUEsRUFDZkMsS0FBS3lQLFFBQVUxUCxFQUFRSyxpQkFBaUIsc0JBQ3pDLENBZ0hELFNBQVM4UCxFQUFVblEsR0FDakJDLEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUttUSxlQUFpQixLQUN0Qm5RLEtBQUtvUSx1QkFBd0IsQ0FDOUIsQ0E2SEQsU0FBU0MsRUFBTXRRLEdBQ2JDLEtBQUtELFFBQVVBLEVBQ2ZDLEtBQUtzUSxNQUFRdlEsRUFBUUssaUJBQWlCLG9CQUV0Q0osS0FBS3VRLEtBQU8sQ0FBRUMsS0FBTSxHQUFJQyxNQUFPLEdBQUlDLEdBQUksR0FBSUMsS0FBTSxJQUNqRDNRLEtBQUs0USxjQUFnQiwyQkFDdEIsQ0EvK0NEOVEsRUFBVUwsVUFBVTBPLFdBQWEsU0FBVTdCLEdBQ3pDLEdBQUl0TSxLQUFLTSw4QkFBK0IsQ0FJdEMsSUFBSTRNLEVBQVVaLEVBQVNFLGNBQWMsSUFBTXhNLEtBQUthLG9CQUVoRCxHQUFJcU0sRUFBUyxDQUNYLElBQUkyRCxFQUFZM0QsRUFBUWhOLGFBQWEsaUJBQ2pDNFEsRUFBZTVELEVBQVFoTixhQUFhLGlCQUdwQzJRLEdBQWFDLEdBQ2Z2UixPQUFPb1AsZUFBZUMsUUFBUWlDLEVBQVdDLEVBRTVDLENBQ0YsQ0FDRixFQUdEaFIsRUFBVUwsVUFBVW9OLGdCQUFrQixTQUFVUCxHQUM5QyxHQUFJdE0sS0FBS00sOEJBQStCLENBQ3RDLElBQUk0TSxFQUFVWixFQUFTRSxjQUFjLElBQU14TSxLQUFLYSxvQkFFaEQsR0FBSXFNLEVBQVMsQ0FDWCxJQUFJMkQsRUFBWTNELEVBQVFoTixhQUFhLGlCQUNqQzRRLEVBQWVELEVBQVl0UixPQUFPb1AsZUFBZUUsUUFBUWdDLEdBQWEsS0FFckQsT0FBakJDLEdBQ0Y5USxLQUFLME0sWUFBNkIsU0FBakJvRSxFQUF5QnhFLEVBRTdDLENBQ0YsQ0FDRixFQWNEeE0sRUFBVUwsVUFBVW1PLHVCQUF5QixXQUMzQyxJQUFJbUQsRUFBaUJ6TyxTQUFTb0QsY0FBYyxRQUc1QyxPQUZBcUwsRUFBZXBMLFVBQVUrQixJQUFJLHdCQUF5Qiw0Q0FDdERxSixFQUFldkQsVUFBWSxLQUNwQnVELENBQ1IsRUFFRCxTQUFVdFAsR0FHSSxXQUFZekIsTUFLUSxvQkFBdEJrSSxtQkFBZ0UsbUJBQWxCQyxlQUN4RCxTQUFVaEYsR0FDTkEsRUFBTzZFLFlBQ1Y3RSxFQUFPNk4sT0FBUzdOLEVBQU82RSxhQUV0QjdFLEVBQU82TixPQUFTN04sRUFBTzZFLFlBQWMsSUFBSTVFLFNBQVMsOEJBQWIsSUFBK0MzRCxVQUFZTyxJQUpsRyxFQU1DQSxLQWZILEVBbUJDSCxLQUFLLGdDQUFvQk4sT0FBcEIsY0FBb0JBLFVBQVVBLFFBQVUsZ0NBQW9CMkQsS0FBcEIsY0FBb0JBLFFBQVFBLE1BQVEscUJBQW9CQyxFQUFBQSxFQUFwQixjQUFvQkEsRUFBQUEsS0FBVUEsRUFBQUEsR0FBVSxDQUFDLEdBRTNILFNBQVUxQixJQUlQLFNBQVMwQixHQUVULEtBQU0sVUFBV0EsR0FBUyxPQUFPLEVBQ2pDLEdBQTRCLG1CQUFqQkEsRUFBTzhOLE1BQXNCLE9BQU8sRUFFL0MsSUFJQyxPQURBLElBQUlBLE1BQU0sVUFDSCxDQUdQLENBRkMsTUFBTWhQLEdBQ1AsT0FBTyxDQUNQLENBQ0QsRUFiQSxDQWFDakMsT0FNSCxXQUNBLElBQUlrUixFQUEyQixDQUM5QkMsTUFBTyxFQUNQQyxTQUFVLEVBQ1ZDLE1BQU8sRUFDUEMsU0FBVSxFQUNWQyxRQUFTLEVBQ1RDLFVBQVcsRUFDWEMsUUFBUyxFQUNUQyxVQUFXLEVBQ1hDLFVBQVcsRUFDWEMsV0FBWSxFQUNaQyxXQUFZLEVBQ1pDLFNBQVUsRUFDVkMsUUFBUyxFQUNUQyxjQUFlLEVBQ2ZDLFVBQVcsR0FNWixHQUF3QixvQkFBYjNQLFVBQThDLG9CQUFYL0MsT0FBOUMsQ0FnQkEsSUFBSTJTLEVBQWlCM1MsT0FBTzBSLE9BQVMxUixPQUFPMFIsTUFBTXhSLFdBQWMsS0FDaEVGLE9BQU8wUixNQUFRRCxPQUFPdlIsVUFBVXdSLE1BQVEsU0FBZWtCLEVBQU1DLEdBQzVELElBQUtELEVBQ0osTUFBTSxJQUFJRSxNQUFNLHdCQUdqQixJQUFJM0ksRUFFSixHQUFJLGdCQUFpQnBILFNBQVUsQ0FDOUJvSCxFQUFRcEgsU0FBU2dRLFlBQVksU0FDN0IsSUFBSUMsS0FBVUgsR0FBaUJBLEVBQWNHLFVBQVk5USxJQUFZMlEsRUFBY0csUUFDL0VDLEtBQWFKLEdBQWlCQSxFQUFjSSxhQUFlL1EsSUFBWTJRLEVBQWNJLFdBSXpGLE9BRkE5SSxFQUFNK0ksVUFBVU4sRUFBTUksRUFBU0MsR0FFeEI5SSxDQUNQLENBUUQsT0FOQUEsRUFBUXBILFNBQVNvUSxxQkFFWFAsS0FBT0EsRUFDYnpJLEVBQU02SSxXQUFVSCxHQUFpQkEsRUFBY0csVUFBWTlRLElBQVkyUSxFQUFjRyxRQUNyRjdJLEVBQU04SSxjQUFhSixHQUFpQkEsRUFBY0ksYUFBZS9RLElBQVkyUSxFQUFjSSxXQUVwRjlJLENBQ1AsRUFDR3dJLEdBQ0hwUSxPQUFPQyxlQUFleEMsT0FBTzBSLE1BQU8sWUFBYSxDQUNoRDdLLGNBQWMsRUFDZHVNLFlBQVksRUFDWkMsVUFBVSxFQUNWNVEsTUFBT2tRLElBSUgsZ0JBQWlCNVAsV0FDdEIvQyxPQUFPNE0saUJBQW1CNkUsT0FBT3ZSLFVBQVUwTSxpQkFBbUI5RCxTQUFTNUksVUFBVTBNLGlCQUFtQjVKLFFBQVE5QyxVQUFVME0saUJBQW1CLFdBQ3hJLElBQ0FyRCxFQUFVOUksS0FDVm1TLEVBQU9qTixVQUFVLEdBQ2pCMk4sRUFBVzNOLFVBQVUsR0FFckIsR0FBSTRELElBQVl2SixRQUFVNFMsS0FBUWpCLEVBQ2pDLE1BQU0sSUFBSW1CLE1BQU0scUJBQXVCRixFQUFPLDJJQUcxQ3JKLEVBQVFnSyxVQUNaaEssRUFBUWdLLFFBQVUsQ0FBQyxHQUdmaEssRUFBUWdLLFFBQVFYLEtBQ3BCckosRUFBUWdLLFFBQVFYLEdBQVEsU0FBVXpJLEdBQ2pDLElBS0FxSixFQUpBQyxFQUFPbEssRUFBUWdLLFFBQVFwSixFQUFNeUksTUFBTWEsS0FDbkNDLEVBQVNELEVBQUt4TyxRQUNkMkUsR0FBUyxFQUNUdkosRUFBU3FULEVBQU9yVCxPQTRCaEIsSUF6QkE4SixFQUFNd0osZUFBaUIsWUFDRyxJQUFyQnhKLEVBQU04SSxhQUNUOUksRUFBTXlKLGFBQWMsRUFFckIsRUFFRHpKLEVBQU0wSixnQkFBa0IsV0FDdkIxSixFQUFNMkosY0FBZSxDQUNyQixFQUVEM0osRUFBTTRKLHlCQUEyQixXQUNoQzVKLEVBQU0ySixjQUFlLEVBQ3JCM0osRUFBTTZKLGlCQUFrQixDQUN4QixFQUVEN0osRUFBTThKLGNBQWdCMUssRUFDdEJZLEVBQU0rSixjQUFnQi9KLEVBQU1nSyxhQUFlLEtBQzNDaEssRUFBTTNFLE9BQVMyRSxFQUFNM0UsUUFBVTJFLEVBQU1pSyxZQUFjN0ssRUFDbkRZLEVBQU1rSyxXQUFZLElBQUlDLE1BQU9DLFVBRXpCcEssRUFBTXFLLFVBQ1RySyxFQUFNc0ssTUFBUXRLLEVBQU1xSyxRQUFVelIsU0FBU21JLGdCQUFnQndKLFdBQ3ZEdkssRUFBTXdLLE1BQVF4SyxFQUFNeUssUUFBVTdSLFNBQVNtSSxnQkFBZ0IySixhQUcvQ2pMLEVBQVF2SixJQUFXOEosRUFBTTZKLGlCQUM3QnBLLEtBQVM4SixJQUd5QixJQUFqQ29CLEVBQVFyQixFQUZaRCxFQUFlRSxFQUFPOUosS0FFNEMsbUJBQWpCNEosR0FDaERBLEVBQWFsVCxLQUFLaUosRUFBU1ksRUFJOUIsRUFFRFosRUFBUWdLLFFBQVFYLEdBQU1hLEtBQU8sR0FFekJsSyxFQUFRVyxhQUNYWCxFQUFRVyxZQUFZLEtBQU8wSSxFQUFNckosRUFBUWdLLFFBQVFYLEtBSW5EckosRUFBUWdLLFFBQVFYLEdBQU1hLEtBQUtwTyxLQUFLaU8sRUFDaEMsRUFFRHRULE9BQU8rVSxvQkFBc0J0RCxPQUFPdlIsVUFBVTZVLG9CQUFzQmpNLFNBQVM1SSxVQUFVNlUsb0JBQXNCL1IsUUFBUTlDLFVBQVU2VSxvQkFBc0IsV0FDcEosSUFJQW5MLEVBSEFMLEVBQVU5SSxLQUNWbVMsRUFBT2pOLFVBQVUsR0FDakIyTixFQUFXM04sVUFBVSxHQUdqQjRELEVBQVFnSyxTQUFXaEssRUFBUWdLLFFBQVFYLElBQVNySixFQUFRZ0ssUUFBUVgsR0FBTWEsT0FHdEQsS0FGZjdKLEVBQVFrTCxFQUFRdkwsRUFBUWdLLFFBQVFYLEdBQU1hLEtBQU1ILE1BRzNDL0osRUFBUWdLLFFBQVFYLEdBQU1hLEtBQUt1QixPQUFPcEwsRUFBTyxHQUVwQ0wsRUFBUWdLLFFBQVFYLEdBQU1hLEtBQUtwVCxTQUMzQmtKLEVBQVEwTCxhQUNYMUwsRUFBUTBMLFlBQVksS0FBT3JDLEVBQU1ySixFQUFRZ0ssUUFBUVgsV0FFM0NySixFQUFRZ0ssUUFBUVgsSUFJMUIsRUFFRDVTLE9BQU9rVixjQUFnQnpELE9BQU92UixVQUFVZ1YsY0FBZ0JwTSxTQUFTNUksVUFBVWdWLGNBQWdCbFMsUUFBUTlDLFVBQVVnVixjQUFnQixTQUF1Qi9LLEdBQ25KLElBQUt4RSxVQUFVdEYsT0FDZCxNQUFNLElBQUl5UyxNQUFNLHdCQUdqQixJQUFLM0ksR0FBK0IsaUJBQWZBLEVBQU15SSxLQUMxQixNQUFNLElBQUlFLE1BQU0sMEJBR2pCLElBQUl2SixFQUFVOUksS0FBTW1TLEVBQU96SSxFQUFNeUksS0FFakMsSUFDQyxJQUFLekksRUFBTTZJLFFBQVMsQ0FDbkI3SSxFQUFNMkosY0FBZSxFQUVyQixJQUFJcUIsRUFBb0IsU0FBcEJBLEVBQThCaEwsR0FDakNBLEVBQU0ySixjQUFlLEdBRXBCdkssR0FBV3ZKLFFBQVFpVixZQUFZLEtBQU9yQyxFQUFNdUMsRUFDN0MsRUFFRDFVLEtBQUt5SixZQUFZLEtBQU8wSSxFQUFNdUMsRUFDOUIsQ0FFRDFVLEtBQUsyVSxVQUFVLEtBQU94QyxFQUFNekksRUFpQjVCLENBaEJDLE1BQU83QyxHQUNSNkMsRUFBTTNFLE9BQVMrRCxFQUVmLEdBQ0NZLEVBQU04SixjQUFnQjFLLEVBRWxCLFlBQWFBLEdBQTRDLG1CQUExQkEsRUFBUWdLLFFBQVFYLElBQ2xEckosRUFBUWdLLFFBQVFYLEdBQU10UyxLQUFLaUosRUFBU1ksR0FHRCxtQkFBekJaLEVBQVEsS0FBT3FKLElBQ3pCckosRUFBUSxLQUFPcUosR0FBTXRTLEtBQUtpSixFQUFTWSxHQUdwQ1osRUFBK0IsSUFBckJBLEVBQVFNLFNBQWlCTixFQUFROEwsYUFBZTlMLEVBQVFrRixpQkFDMURsRixJQUFZWSxFQUFNMkosYUFDM0IsQ0FFRCxPQUFPLENBQ1AsRUFHRC9RLFNBQVNtSCxZQUFZLHNCQUFzQixXQUNkLGFBQXhCbkgsU0FBU2tJLFlBQ1psSSxTQUFTbVMsY0FBYyxJQUFJeEQsTUFBTSxtQkFBb0IsQ0FDcERzQixTQUFTLElBR1gsSUFyTTBFLENBRTVFLFNBQVM4QixFQUFRUSxFQUFPL0wsR0FLdkIsSUFKQSxJQUNBSyxHQUFTLEVBQ1R2SixFQUFTaVYsRUFBTWpWLFNBRU51SixFQUFRdkosR0FDaEIsR0FBSXVKLEtBQVMwTCxHQUFTQSxFQUFNMUwsS0FBV0wsRUFDdEMsT0FBT0ssRUFJVCxPQUFRLENBQ1IsQ0FwQ0QsR0F2QkQsRUF1UEN0SixLQUFLLGdDQUFvQk4sT0FBcEIsY0FBb0JBLFVBQVVBLFFBQVUsZ0NBQW9CMkQsS0FBcEIsY0FBb0JBLFFBQVFBLE1BQVEscUJBQW9CQyxFQUFBQSxFQUFwQixjQUFvQkEsRUFBQUEsS0FBVUEsRUFBQUEsR0FBVSxDQUFDLEdBbUIzSDZMLEVBQU92UCxVQUFVcVYsY0FBZ0IsU0FBVXBMLEdBRXpDLElBQUkzRSxFQUFTMkUsRUFBTTNFLE9BRWlCLFdBQWhDQSxFQUFPN0UsYUFBYSxTQXJCVixLQXFCa0N3SixFQUFNcUwsVUFDcERyTCxFQUFNd0osaUJBRU5uTyxFQUFPb00sUUFFVixFQU9EbkMsRUFBT3ZQLFVBQVV1VixTQUFXLFNBQVV0TCxHQUdwQyxHQUF5RCxTQUY1Q0EsRUFBTTNFLE9BRVI3RSxhQUFhLDZCQUt4QixPQUFJRixLQUFLaVAseUJBQ1B2RixFQUFNd0osa0JBQ0MsUUFHVGxULEtBQUtpUCx3QkFBMEJnRyxXQUFXLFdBQ3hDalYsS0FBS2lQLHdCQUEwQixJQUNoQyxFQUFDNUMsS0FBS3JNLE1BQU9rVixLQUNmLEVBTURsRyxFQUFPdlAsVUFBVThMLEtBQU8sV0FDdEJ2TCxLQUFLRCxRQUFRb00saUJBQWlCLFVBQVduTSxLQUFLOFUsZUFDOUM5VSxLQUFLRCxRQUFRb00saUJBQWlCLFFBQVNuTSxLQUFLZ1YsU0FDN0MsRUFnQkQ5RixFQUFRelAsVUFBVThMLEtBQU8sV0FDbEJ2TCxLQUFLRCxVQUswQyxrQkFBdEJDLEtBQUtELFFBQVFvVixNQU0zQ25WLEtBQUtvVixrQkFDTixFQUVEbEcsRUFBUXpQLFVBQVUyVixnQkFBa0IsV0FDbEMsSUE3NkNJQyxFQTY2Q0F0VixFQUFVQyxLQUFLRCxRQUdma04sRUFBV2pOLEtBQUtpTixTQUFXbE4sRUFBUXVKLHFCQUFxQixXQUFXaEMsS0FBSyxHQUN4RWdPLEVBQVd0VixLQUFLc1YsU0FBV3ZWLEVBQVF1SixxQkFBcUIsT0FBT2hDLEtBQUssR0FJbkUyRixHQUFhcUksSUFNYkEsRUFBU2hJLEtBQ1pnSSxFQUFTaEksR0FBSyxvQkE1N0NaK0gsR0FBSSxJQUFJeEIsTUFBT0MsZUFDZSxJQUF2QnZVLE9BQU9nVyxhQUFpRSxtQkFBM0JoVyxPQUFPZ1csWUFBWUMsTUFDekVILEdBQUs5VixPQUFPZ1csWUFBWUMsT0FFbkIsdUNBQXVDck8sUUFBUSxTQUFTLFNBQVVzTyxHQUN2RSxJQUFJQyxHQUFLTCxFQUFvQixHQUFoQnZRLEtBQUs2USxVQUFpQixHQUFLLEVBRXhDLE9BREFOLEVBQUl2USxLQUFLOFEsTUFBTVAsRUFBSSxLQUNMLE1BQU5JLEVBQVlDLEVBQVMsRUFBSkEsRUFBVSxHQUFNNVIsU0FBUyxHQUNuRCxNQXc3Q0QvRCxFQUFROEwsYUFBYSxPQUFRLFNBRzdCb0IsRUFBU3BCLGFBQWEsT0FBUSxVQUc5Qm9CLEVBQVNwQixhQUFhLGdCQUFpQnlKLEVBQVNoSSxJQU1oREwsRUFBUzRJLFNBQVcsRUFHaEI3VixLQUFLRCxRQUFRZ0ssYUFBYSxRQUM1QmtELEVBQVNwQixhQUFhLGdCQUFpQixTQUV2Q29CLEVBQVNwQixhQUFhLGdCQUFpQixTQUN2Q3lKLEVBQVNRLE1BQU1DLFFBQVUsUUFJM0IvVixLQUFLZ1cscUJBQXFCL0ksRUFBVWpOLEtBQUtpVyxzQkFBc0I1SixLQUFLck0sT0FDckUsRUFNRGtQLEVBQVF6UCxVQUFVd1csc0JBQXdCLFdBV3hDLE9BVklqVyxLQUFLRCxRQUFRZ0ssYUFBYSxTQUM1Qi9KLEtBQUtELFFBQVFtVyxnQkFBZ0IsUUFDN0JsVyxLQUFLaU4sU0FBU3BCLGFBQWEsZ0JBQWlCLFNBQzVDN0wsS0FBS3NWLFNBQVNRLE1BQU1DLFFBQVUsU0FFOUIvVixLQUFLRCxRQUFROEwsYUFBYSxPQUFRLFFBQ2xDN0wsS0FBS2lOLFNBQVNwQixhQUFhLGdCQUFpQixRQUM1QzdMLEtBQUtzVixTQUFTUSxNQUFNQyxRQUFVLEtBR3pCLENBQ1IsRUFPRDdHLEVBQVF6UCxVQUFVdVcscUJBQXVCLFNBQVVHLEVBQU03VyxHQUN2RDZXLEVBQUtoSyxpQkFBaUIsWUFBWSxTQUFVekMsR0FDMUMsSUFBSTNFLEVBQVMyRSxFQUFNM0UsT0E3RlAsS0ErRlIyRSxFQUFNcUwsU0E5RkksS0E4RnFCckwsRUFBTXFMLFNBQ0QsWUFBbENoUSxFQUFPb0YsU0FBU0MsZ0JBR2xCVixFQUFNd0osaUJBRUZuTyxFQUFPb00sTUFDVHBNLEVBQU9vTSxRQUdQN1IsRUFBU29LLEdBSWhCLElBR0R5TSxFQUFLaEssaUJBQWlCLFNBQVMsU0FBVXpDLEdBQ3ZDLElBQUkzRSxFQUFTMkUsRUFBTTNFLE9BaEhMLEtBaUhWMkUsRUFBTXFMLFNBQzhCLFlBQWxDaFEsRUFBT29GLFNBQVNDLGVBQ2xCVixFQUFNd0osZ0JBR1gsSUFFRGlELEVBQUtoSyxpQkFBaUIsUUFBUzdNLEVBQ2hDLEVBVUQ2UCxFQUFlMVAsVUFBVTJXLFNBQVcsQ0FDbENDLHdCQUF5QixpQkFDekJDLG1CQUFvQixpQkFJdEJuSCxFQUFlMVAsVUFBVThMLEtBQU8sV0FFOUIsR0FBS3ZMLEtBQUtvUCxVQUFWLENBS0EsSUFBSXJQLEVBQVVDLEtBQUtELFFBQ2ZxUCxFQUFZcFAsS0FBS29QLFVBQ2pCbUgsRUFBd0JqVSxTQUFTa1UsZUFBZXBILEVBQVU5QixHQUFLLFNBSW5FOEIsRUFBVXFILHNCQUFzQixXQUFZRixHQUk1QyxJQUFJakgsRUFBNEJoTixTQUFTb0QsY0FBYyxPQUN2RDRKLEVBQTBCekosVUFBWSx5REFDdEN5SixFQUEwQnpELGFBQWEsWUFBYSxVQUNwRDdMLEtBQUtzUCwwQkFBNEJBLEVBQ2pDaUgsRUFBc0JFLHNCQUFzQixXQUFZbkgsR0FJeEQsSUFBSUQsRUFBdUIvTSxTQUFTb0QsY0FBYyxPQUNsRDJKLEVBQXFCeEosVUFBWTBRLEVBQXNCMVEsVUFDdkR3SixFQUFxQjFKLFVBQVUrQixJQUFJLGlDQUNuQzJILEVBQXFCeEQsYUFBYSxjQUFlLFFBQ2pEN0wsS0FBS3FQLHFCQUF1QkEsRUFDNUJrSCxFQUFzQkUsc0JBQXNCLFdBQVlwSCxHQUd4RGtILEVBQXNCNVEsVUFBVStCLElBQUkseUJBR3BDMUgsS0FBSzBXLFFBQVUxVyxLQUFLMlcsV0FBVzVXLEdBRy9CLElBQUk2VyxFQUFpQjVXLEtBQUtvVyxTQUFTQyx3QkFDL0JyVyxLQUFLMFcsUUFBUUcsV0FDZkQsRUFBaUI1VyxLQUFLb1csU0FBU0Usb0JBSWpDdFcsS0FBS3lHLFVBQVkxRyxFQUFRRyxhQUFhMFcsR0FHakM1VyxLQUFLeUcsWUFLVjJJLEVBQVU4RyxnQkFBZ0IsYUFFMUJsVyxLQUFLOFcsbUJBTUQsZUFBZ0J2WCxPQUNsQkEsT0FBTzRNLGlCQUFpQixXQUFZbk0sS0FBSytXLG1CQUFtQjFLLEtBQUtyTSxPQUVqRVQsT0FBTzRNLGlCQUFpQixtQkFBb0JuTSxLQUFLK1csbUJBQW1CMUssS0FBS3JNLE9BRTNFQSxLQUFLK1cscUJBOURKLENBK0RGLEVBR0Q1SCxFQUFlMVAsVUFBVWtYLFdBQWEsU0FBVTdOLEdBQzlDLElBQUlrTyxFQUFVLENBQUMsRUFDWDdKLEVBQWFyRSxFQUFRcUUsV0FDekIsR0FBSUEsRUFDRixJQUFLLElBQUl4TixFQUFJLEVBQUdBLEVBQUl3TixFQUFXdk4sT0FBUUQsSUFBSyxDQUMxQyxJQUFJc1gsRUFBWTlKLEVBQVd4TixHQUN2QnVYLEVBQVFELEVBQVUvUSxLQUFLZ1IsTUFBTSxjQUM3QkEsSUFDRkYsRUFBUUUsRUFBTSxJQUFNRCxFQUFValYsTUFFakMsQ0FFSCxPQUFPZ1YsQ0FDUixFQUdEN0gsRUFBZTFQLFVBQVUwWCxNQUFRLFNBQVVDLEdBUXpDLE9BTklwWCxLQUFLMFcsUUFBUUcsVUFDRk8sRUFBS0YsTUFBTSxTQUFXLElBQ25CdFgsT0FFUHdYLEVBQUt4WCxNQUdqQixFQUdEdVAsRUFBZTFQLFVBQVVxWCxpQkFBbUIsV0FDMUMsSUFBSTFILEVBQVlwUCxLQUFLb1AsVUFDckJBLEVBQVVqRCxpQkFBaUIsUUFBU25NLEtBQUtxWCxZQUFZaEwsS0FBS3JNLE9BRzFEb1AsRUFBVWpELGlCQUFpQixRQUFTbk0sS0FBS3NYLFlBQVlqTCxLQUFLck0sT0FDMURvUCxFQUFVakQsaUJBQWlCLE9BQVFuTSxLQUFLdVgsV0FBV2xMLEtBQUtyTSxNQUN6RCxFQUtEbVAsRUFBZTFQLFVBQVUrWCxvQkFBc0IsV0FDeEN4WCxLQUFLb1AsVUFBVXRGLFdBQVU5SixLQUFLb1AsVUFBVXRGLFNBQVcsSUFDcEQ5SixLQUFLb1AsVUFBVXBOLFFBQVVoQyxLQUFLb1AsVUFBVXRGLFdBQzFDOUosS0FBS29QLFVBQVV0RixTQUFXOUosS0FBS29QLFVBQVVwTixNQUN6Q2hDLEtBQUsrVyxxQkFFUixFQUlENUgsRUFBZTFQLFVBQVVzWCxtQkFBcUIsV0FDNUMvVyxLQUFLeVgsNEJBQ0x6WCxLQUFLMFgsZ0NBQ04sRUFHRHZJLEVBQWUxUCxVQUFVZ1ksMEJBQTRCLFdBQ25ELElBQUlySSxFQUFZcFAsS0FBS29QLFVBQ2pCQyxFQUF1QnJQLEtBQUtxUCxxQkFDNUJzSSxFQUFrQjNYLEtBQUt5RyxVQUFZekcsS0FBS21YLE1BQU0vSCxFQUFVcE4sT0FJeERoQyxLQUFLNFgsa0JBQ1B2SSxFQUFxQjFKLFVBQVVpQyxPQUFPLDRDQUV0Q3lILEVBQXFCMUosVUFBVStCLElBQUksNENBSWpDaVEsRUFBa0IsR0FDcEJ2SSxFQUFVekosVUFBVStCLElBQUkseUJBQ3hCMkgsRUFBcUIxSixVQUFVaUMsT0FBTyxjQUN0Q3lILEVBQXFCMUosVUFBVStCLElBQUkseUJBRW5DMEgsRUFBVXpKLFVBQVVpQyxPQUFPLHlCQUMzQnlILEVBQXFCMUosVUFBVWlDLE9BQU8sdUJBQ3RDeUgsRUFBcUIxSixVQUFVK0IsSUFBSSxlQUlyQzJILEVBQXFCN0IsVUFBWXhOLEtBQUs2WCx3QkFDdkMsRUFHRDFJLEVBQWUxUCxVQUFVaVksK0JBQWlDLFdBQ3hELElBQUlwSSxFQUE0QnRQLEtBQUtzUCwwQkFJakN0UCxLQUFLNFgsa0JBQ1B0SSxFQUEwQjRHLGdCQUFnQixlQUUxQzVHLEVBQTBCekQsYUFBYSxlQUFlLEdBSXhEeUQsRUFBMEI5QixVQUFZeE4sS0FBSzZYLHdCQUM1QyxFQUdEMUksRUFBZTFQLFVBQVVvWSx1QkFBeUIsV0FDaEQsSUFJSUMsRUFKQTFJLEVBQVlwUCxLQUFLb1AsVUFDakJzSCxFQUFVMVcsS0FBSzBXLFFBQ2ZpQixFQUFrQjNYLEtBQUt5RyxVQUFZekcsS0FBS21YLE1BQU0vSCxFQUFVcE4sT0FHeEQrVixFQUFXLFlBVWYsT0FSSXJCLEVBQVFHLFdBQ1ZrQixFQUFXLFFBRWJBLElBQTZDLElBQXJCSixHQUE4QyxJQUFwQkEsRUFBeUIsR0FBSyxJQUVoRkcsRUFBWUgsRUFBa0IsRUFBSyxXQUFhLFlBR3pDLFlBRlM3UyxLQUFLa1QsSUFBSUwsR0FFWSxJQUFNSSxFQUFXLElBQU1ELENBQzdELEVBS0QzSSxFQUFlMVAsVUFBVW1ZLGdCQUFrQixXQUN6QyxJQUFJeEksRUFBWXBQLEtBQUtvUCxVQUNqQnNILEVBQVUxVyxLQUFLMFcsUUFHZnVCLEVBQWdCalksS0FBS21YLE1BQU0vSCxFQUFVcE4sT0FPekMsT0FOZ0JoQyxLQUFLeUcsV0FHRWlRLEVBQVF3QixVQUFZeEIsRUFBUXdCLFVBQVksR0FDWCxLQUUxQkQsQ0FDM0IsRUFJRDlJLEVBQWUxUCxVQUFVNFgsWUFBYyxXQUNyQ3JYLEtBQUt5WCw0QkFDTHpYLEtBQUt1UCxtQkFBcUJzRSxLQUFLMkIsS0FDaEMsRUFFRHJHLEVBQWUxUCxVQUFVNlgsWUFBYyxXQUtyQ3RYLEtBQUttWSxhQUFlak8sWUFBWSxhQUN6QmxLLEtBQUt1UCxvQkFBdUJzRSxLQUFLMkIsTUFBUSxLQUFReFYsS0FBS3VQLHFCQUN6RHZQLEtBQUt3WCxxQkFFUixFQUFDbkwsS0FBS3JNLE1BQU8sSUFDZixFQUVEbVAsRUFBZTFQLFVBQVU4WCxXQUFhLFdBRXBDYSxjQUFjcFksS0FBS21ZLGFBQ3BCLEVBcUJEM0ksRUFBVy9QLFVBQVU4TCxLQUFPLFdBQzFCLElBQUl4TCxFQUFVQyxLQUFLRCxRQUduQlgsRUFGY1ksS0FBS3lQLFNBRU0sU0FBVTRJLEdBQ2pDLElBQUl0VCxFQUFTc1QsRUFBT25ZLGFBQWEsc0JBSTVCNkUsR0FBV3pDLFNBQVNrVSxlQUFlelIsS0FNeENzVCxFQUFPeE0sYUFBYSxnQkFBaUI5RyxHQUNyQ3NULEVBQU9uQyxnQkFBZ0Isc0JBQ3hCLElBTUcsZUFBZ0IzVyxPQUNsQkEsT0FBTzRNLGlCQUFpQixXQUFZbk0sS0FBS3NZLDBCQUEwQmpNLEtBQUtyTSxPQUV4RVQsT0FBTzRNLGlCQUFpQixtQkFBb0JuTSxLQUFLc1ksMEJBQTBCak0sS0FBS3JNLE9BTWxGQSxLQUFLc1ksNEJBRUx2WSxFQUFRb00saUJBQWlCLFFBQVNuTSxLQUFLdVksWUFBWWxNLEtBQUtyTSxNQUN6RCxFQUtEd1AsRUFBVy9QLFVBQVU2WSwwQkFBNEIsV0FDL0NsWixFQUFnQlksS0FBS3lQLFFBQVN6UCxLQUFLd1ksb0NBQW9Dbk0sS0FBS3JNLE1BQzdFLEVBVUR3UCxFQUFXL1AsVUFBVStZLG9DQUFzQyxTQUFVSCxHQUNuRSxJQUFJSSxFQUFVblcsU0FBU2tVLGVBQWU2QixFQUFPblksYUFBYSxrQkFFMUQsR0FBSXVZLEdBQVdBLEVBQVE5UyxVQUFVNkIsU0FBUyxpQ0FBa0MsQ0FDMUUsSUFBSWtSLEVBQWlCTCxFQUFPTSxRQUU1Qk4sRUFBT3hNLGFBQWEsZ0JBQWlCNk0sR0FDckNELEVBQVE5UyxVQUFVQyxPQUFPLHlDQUEwQzhTLEVBQ3BFLENBQ0YsRUFRRGxKLEVBQVcvUCxVQUFVbVosdUJBQXlCLFNBQVVQLEdBR3REalosRUFGNEJrRCxTQUFTbEMsaUJBQWlCLGdDQUFrQ2lZLEVBQU9uUyxLQUFPLE1BRS9ELFNBQVUyUyxHQUN2QlIsRUFBT1MsT0FBU0QsRUFBbUJDLE1BQ25DRCxJQUF1QlIsSUFDN0NRLEVBQW1CRixTQUFVLEVBQzdCM1ksS0FBS3dZLG9DQUFvQ0ssR0FFNUMsRUFBQ3hNLEtBQUtyTSxNQUNSLEVBU0R3UCxFQUFXL1AsVUFBVXNaLHVCQUF5QixTQUFVVixHQUt0RGpaLEVBSmlEa0QsU0FBU2xDLGlCQUN4RCw0REFBOERpWSxFQUFPblMsS0FBTyxNQUdsQixTQUFVOFMsR0FDNUNYLEVBQU9TLE9BQVNFLEVBQWdCRixPQUV0REUsRUFBZ0JMLFNBQVUsRUFDMUIzWSxLQUFLd1ksb0NBQW9DUSxHQUU1QyxFQUFDM00sS0FBS3JNLE1BQ1IsRUFVRHdQLEVBQVcvUCxVQUFVOFksWUFBYyxTQUFVN08sR0FDM0MsSUFBSStPLEVBQVUvTyxFQUFNM0UsT0FHQyxhQUFqQjBULEVBQVF0RyxPQUtVc0csRUFBUXZZLGFBQWEsa0JBRXpDRixLQUFLd1ksb0NBQW9DQyxHQUl0Q0EsRUFBUUUsVUFLMkQsY0FBM0NGLEVBQVF2WSxhQUFhLGtCQUVoREYsS0FBSzRZLHVCQUF1QkgsR0FFNUJ6WSxLQUFLK1ksdUJBQXVCTixJQUUvQixFQUVELFNBQVVoWCxHQUlOLGFBQWN6QixNQUFRLFlBQWFzQyxTQUFTbUksa0JBTTlDbEksUUFBUTlDLFVBQVV3WixRQUFVMVcsUUFBUTlDLFVBQVV5Wix1QkFBeUIzVyxRQUFROUMsVUFBVTBaLGtCQUFvQjVXLFFBQVE5QyxVQUFVMlosbUJBQXFCN1csUUFBUTlDLFVBQVU0WixvQkFBc0IsU0FBaUJDLEdBSzNNLElBSkEsSUFBSXhRLEVBQVU5SSxLQUNWcUosR0FBWVAsRUFBUXhHLFVBQVl3RyxFQUFReVEsZUFBZW5aLGlCQUFpQmtaLEdBQ3hFblEsRUFBUSxFQUVMRSxFQUFTRixJQUFVRSxFQUFTRixLQUFXTCxLQUMxQ0ssRUFHSixRQUFTRSxFQUFTRixFQUNuQixFQXBCSCxFQXNCR3RKLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FFN0gsU0FBVTFCLEdBSU4sYUFBY3pCLE1BQVEsWUFBYXNDLFNBQVNtSSxrQkFNOUNsSSxRQUFROUMsVUFBVStaLFFBQVUsU0FBaUJGLEdBRzNDLElBRkEsSUFBSW5ELEVBQU9uVyxLQUVKbVcsR0FBTSxDQUNYLEdBQUlBLEVBQUs4QyxRQUFRSyxHQUFXLE9BQU9uRCxFQUM5QkEsRUFBTyxlQUFnQjVXLFFBQVU0VyxhQUFnQnNELFdBQWF0RCxFQUFLbkksV0FBYW1JLEVBQUt1RCxhQUMzRixDQUVELE9BQU8sSUFDUixFQW5CSCxFQXFCRzdaLEtBQUssZ0NBQW9CTixPQUFwQixjQUFvQkEsVUFBVUEsUUFBVSxnQ0FBb0IyRCxLQUFwQixjQUFvQkEsUUFBUUEsTUFBUSxxQkFBb0JDLEVBQUFBLEVBQXBCLGNBQW9CQSxFQUFBQSxLQUFVQSxFQUFBQSxHQUFVLENBQUMsR0FNN0h1TSxFQUFhalEsVUFBVThMLEtBQU8sV0FDNUIsSUFBSXhMLEVBQVVDLEtBQUtELFFBQ2RBLElBSUxDLEtBQUsyWixXQUNMNVosRUFBUW9NLGlCQUFpQixRQUFTbk0sS0FBS3VZLFlBQVlsTSxLQUFLck0sT0FDekQsRUFLRDBQLEVBQWFqUSxVQUFVa2EsU0FBVyxXQUNoQyxJQUFJNVosRUFBVUMsS0FBS0QsUUFFcUMsU0FBcERBLEVBQVFHLGFBQWEsNkJBTXpCSCxFQUFROEwsYUFBYSxXQUFZLE1BRWpDOUwsRUFBUW9NLGlCQUFpQixRQUFRLFdBQy9CcE0sRUFBUW1XLGdCQUFnQixXQUN6QixJQUVEblcsRUFBUTZaLFFBQ1QsRUFPRGxLLEVBQWFqUSxVQUFVOFksWUFBYyxTQUFVN08sR0FDN0MsSUFBSTNFLEVBQVMyRSxFQUFNM0UsT0FDZi9FLEtBQUs2WixZQUFZOVUsSUFDbkIyRSxFQUFNd0osZ0JBRVQsRUFvQkR4RCxFQUFhalEsVUFBVW9hLFlBQWMsU0FBVXBCLEdBRTdDLEdBQXdCLE1BQXBCQSxFQUFRcUIsVUFBb0MsSUFBakJyQixFQUFRc0IsS0FDckMsT0FBTyxFQUdULElBQUlDLEVBQVVoYSxLQUFLaWEsbUJBQW1CeEIsRUFBUXNCLE1BQzFDMUIsRUFBUy9WLFNBQVNrVSxlQUFld0QsR0FDckMsSUFBSzNCLEVBQ0gsT0FBTyxFQUdULElBQUk2QixFQUFpQmxhLEtBQUttYSwyQkFBMkI5QixHQUNyRCxRQUFLNkIsSUFPTEEsRUFBZUUsaUJBQ2YvQixFQUFPdUIsTUFBTSxDQUFFUyxlQUFlLEtBRXZCLEVBQ1IsRUFXRDNLLEVBQWFqUSxVQUFVd2EsbUJBQXFCLFNBQVVLLEdBQ3BELE9BQTBCLElBQXRCQSxFQUFJakcsUUFBUSxNQUlUaUcsRUFBSWxULE1BQU0sS0FBS21ULEtBQ3ZCLEVBaUJEN0ssRUFBYWpRLFVBQVUwYSwyQkFBNkIsU0FBVTlCLEdBQzVELElBQUltQyxFQUFZbkMsRUFBT21CLFFBQVEsWUFFL0IsR0FBSWdCLEVBQVcsQ0FDYixJQUFJQyxFQUFVRCxFQUFVbFIscUJBQXFCLFVBRTdDLEdBQUltUixFQUFRN2EsT0FBUSxDQUNsQixJQUFJOGEsRUFBbUJELEVBQVEsR0FJL0IsR0FBb0IsYUFBaEJwQyxFQUFPbEcsTUFBdUMsVUFBaEJrRyxFQUFPbEcsS0FDdkMsT0FBT3VJLEVBU1QsSUFBSUMsRUFBWUQsRUFBaUJFLHdCQUF3QkMsSUFDckRDLEVBQVl6QyxFQUFPdUMsd0JBSXZCLEdBQUlFLEVBQVVDLFFBQVV4YixPQUFPeWIsYUFDWEYsRUFBVUQsSUFBTUMsRUFBVUMsT0FFMUJKLEVBQVlwYixPQUFPeWIsWUFBYyxFQUNqRCxPQUFPTixDQUdaLENBQ0YsQ0FFRCxPQUFPcFksU0FBU2tLLGNBQWMsY0FBZ0I2TCxFQUFPblksYUFBYSxNQUFRLE9BQ3hFbVksRUFBT21CLFFBQVEsUUFDbEIsRUFTRDdKLEVBQW1CbFEsVUFBVThMLEtBQU8sV0FDcEJ2TCxLQUFLRCxTQU1uQkMsS0FBSzJaLFVBQ04sRUFZRGhLLEVBQW1CbFEsVUFBVWthLFNBQVcsV0FDdEMsSUFBSTVaLEVBQVVDLEtBQUtELFFBRXFDLFNBQXBEQSxFQUFRRyxhQUFhLDRCQUlZLFVBQWpDSCxFQUFRRyxhQUFhLFVBT3BCSCxFQUFRRyxhQUFhLGNBQ3hCSCxFQUFROEwsYUFBYSxXQUFZLE1BRWpDOUwsRUFBUW9NLGlCQUFpQixRQUFRLFdBQy9CcE0sRUFBUW1XLGdCQUFnQixXQUN6QixLQUdIblcsRUFBUTZaLFFBQ1QsRUErQkRoSyxFQUFPblEsVUFBVThMLEtBQU8sV0FDakJ2TCxLQUFLRCxTQUFZQyxLQUFLNlAsYUFBZ0I3UCxLQUFLOFAsUUFJNUMsZUFBZ0J2USxRQUVsQlMsS0FBS2dRLElBQU16USxPQUFPMGIsV0FBVywwQkFFekIscUJBQXNCamIsS0FBS2dRLElBQzdCaFEsS0FBS2dRLElBQUk3RCxpQkFBaUIsU0FBVW5NLEtBQUtrYixVQUFVN08sS0FBS3JNLE9BS3hEQSxLQUFLZ1EsSUFBSW1MLFlBQVluYixLQUFLa2IsVUFBVTdPLEtBQUtyTSxPQUczQ0EsS0FBS2tiLFlBQ0xsYixLQUFLNlAsWUFBWTFELGlCQUFpQixRQUFTbk0sS0FBS29iLHNCQUFzQi9PLEtBQUtyTSxRQUUzRUEsS0FBSzZQLFlBQVloRSxhQUFhLFNBQVUsSUFFM0MsRUFVRCtELEVBQU9uUSxVQUFVeWIsVUFBWSxXQUN2QmxiLEtBQUtnUSxJQUFJaUosU0FDWGpaLEtBQUs4UCxNQUFNb0csZ0JBQWdCLFVBQzNCbFcsS0FBSzZQLFlBQVloRSxhQUFhLFNBQVUsTUFFeEM3TCxLQUFLNlAsWUFBWXFHLGdCQUFnQixVQUNqQ2xXLEtBQUs2UCxZQUFZaEUsYUFBYSxnQkFBaUI3TCxLQUFLK1AsWUFFaEQvUCxLQUFLK1AsV0FDUC9QLEtBQUs4UCxNQUFNb0csZ0JBQWdCLFVBRTNCbFcsS0FBSzhQLE1BQU1qRSxhQUFhLFNBQVUsSUFHdkMsRUFRRCtELEVBQU9uUSxVQUFVMmIsc0JBQXdCLFdBQ3ZDcGIsS0FBSytQLFlBQWMvUCxLQUFLK1AsV0FDeEIvUCxLQUFLa2IsV0FDTixFQXFCRGpMLEVBQU94USxVQUFVOEwsS0FBTyxXQUN0QixJQUFJeEwsRUFBVUMsS0FBS0QsUUFHbkJYLEVBRmNZLEtBQUt5UCxTQUVNLFNBQVU0SSxHQUNqQyxJQUFJdFQsRUFBU3NULEVBQU9uWSxhQUFhLHNCQUk1QjZFLEdBQVd6QyxTQUFTa1UsZUFBZXpSLEtBTXhDc1QsRUFBT3hNLGFBQWEsZ0JBQWlCOUcsR0FDckNzVCxFQUFPbkMsZ0JBQWdCLHNCQUN4QixJQU1HLGVBQWdCM1csT0FDbEJBLE9BQU80TSxpQkFBaUIsV0FBWW5NLEtBQUtzWSwwQkFBMEJqTSxLQUFLck0sT0FFeEVULE9BQU80TSxpQkFBaUIsbUJBQW9Cbk0sS0FBS3NZLDBCQUEwQmpNLEtBQUtyTSxPQU1sRkEsS0FBS3NZLDRCQUdMdlksRUFBUW9NLGlCQUFpQixRQUFTbk0sS0FBS3VZLFlBQVlsTSxLQUFLck0sTUFDekQsRUFLRGlRLEVBQU94USxVQUFVNlksMEJBQTRCLFdBQzNDbFosRUFBZ0JZLEtBQUt5UCxRQUFTelAsS0FBS3dZLG9DQUFvQ25NLEtBQUtyTSxNQUM3RSxFQVVEaVEsRUFBT3hRLFVBQVUrWSxvQ0FBc0MsU0FBVUgsR0FDL0QsSUFBSUksRUFBVW5XLFNBQVNrVSxlQUFlNkIsRUFBT25ZLGFBQWEsa0JBRTFELEdBQUl1WSxHQUFXQSxFQUFROVMsVUFBVTZCLFNBQVMsNkJBQThCLENBQ3RFLElBQUlrUixFQUFpQkwsRUFBT00sUUFFNUJOLEVBQU94TSxhQUFhLGdCQUFpQjZNLEdBQ3JDRCxFQUFROVMsVUFBVUMsT0FBTyxxQ0FBc0M4UyxFQUNoRSxDQUNGLEVBWUR6SSxFQUFPeFEsVUFBVThZLFlBQWMsU0FBVTdPLEdBQ3ZDLElBQUkyUixFQUFnQjNSLEVBQU0zRSxPQUdDLFVBQXZCc1csRUFBY2xKLE1BUWxCL1MsRUFGaUJrRCxTQUFTbEMsaUJBQWlCLHNDQUVmLFNBQVVpWSxHQUNwQyxJQUFJaUQsRUFBb0JqRCxFQUFPUyxPQUFTdUMsRUFBY3ZDLEtBQ25DVCxFQUFPblMsT0FBU21WLEVBQWNuVixNQUU5Qm9WLEdBQ2pCdGIsS0FBS3dZLG9DQUFvQ0gsRUFFNUMsRUFBQ2hNLEtBQUtyTSxNQUNSLEVBV0RrUSxFQUFTelEsVUFBVThMLEtBQU8sV0FFbkJ2TCxLQUFLRCxVQUtWQyxLQUFLbVEsZUFBaUJuUSxLQUFLdWIsbUJBQ3RCdmIsS0FBS21RLGdCQUlWblEsS0FBS0QsUUFBUW9NLGlCQUFpQixRQUFTbk0sS0FBS3diLG1CQUFtQm5QLEtBQUtyTSxPQUNyRSxFQU9Ea1EsRUFBU3pRLFVBQVU4YixpQkFBbUIsV0FDcEMsSUFBSUUsRUFBa0J6YixLQUFLaWEscUJBRTNCLFFBQUt3QixHQUlFblosU0FBU2tVLGVBQWVpRixFQUNoQyxFQU9EdkwsRUFBU3pRLFVBQVUrYixtQkFBcUIsV0FDdEMsSUFBSXJMLEVBQWlCblEsS0FBS21RLGVBRXJCQSxFQUFlalEsYUFBYSxjQUUvQmlRLEVBQWV0RSxhQUFhLFdBQVksTUFDeENzRSxFQUFleEssVUFBVStCLElBQUksbUNBR3hCMUgsS0FBS29RLHdCQUNScFEsS0FBS21RLGVBQWVoRSxpQkFBaUIsT0FBUW5NLEtBQUswYixzQkFBc0JyUCxLQUFLck0sT0FDN0VBLEtBQUtvUSx1QkFBd0IsSUFHakNELEVBQWV5SixPQUNoQixFQVFEMUosRUFBU3pRLFVBQVVpYyxzQkFBd0IsV0FDekMxYixLQUFLbVEsZUFBZStGLGdCQUFnQixZQUNwQ2xXLEtBQUttUSxlQUFleEssVUFBVWlDLE9BQU8sa0NBQ3RDLEVBVURzSSxFQUFTelEsVUFBVXdhLG1CQUFxQixXQUV0QyxRQUFLamEsS0FBS0QsUUFBUTRiLE1BSVgzYixLQUFLRCxRQUFRNGIsS0FBS3ZVLE1BQU0sS0FBS21ULEtBQ3JDLEVBRUQsU0FBVTlZLEdBSUosYUFBY3pCLE1BQVEsdUJBQXdCc0MsU0FBU21JLGlCQU16RDNJLE9BQU9DLGVBQWVRLFFBQVE5QyxVQUFXLHFCQUFzQixDQUM3RG9ELElBQUssV0FFSCxJQURBLElBQUl3RCxFQUFLckcsS0FBSzRiLFlBQ1B2VixHQUFzQixJQUFoQkEsRUFBRytDLFVBQWtCL0MsRUFBS0EsRUFBR3VWLFlBQzFDLE9BQU92VixDQUNSLEdBZlAsRUFrQkd4RyxLQUFLLGdDQUFvQk4sT0FBcEIsY0FBb0JBLFVBQVVBLFFBQVUsZ0NBQW9CMkQsS0FBcEIsY0FBb0JBLFFBQVFBLE1BQVEscUJBQW9CQyxFQUFBQSxFQUFwQixjQUFvQkEsRUFBQUEsS0FBVUEsRUFBQUEsR0FBVSxDQUFDLEdBRTdILFNBQVUxQixHQUlKLGFBQWN6QixNQUFRLDJCQUE0QnNDLFNBQVNtSSxpQkFNN0QzSSxPQUFPQyxlQUFlUSxRQUFROUMsVUFBVyx5QkFBMEIsQ0FDakVvRCxJQUFLLFdBRUgsSUFEQSxJQUFJd0QsRUFBS3JHLEtBQUs2YixnQkFDUHhWLEdBQXNCLElBQWhCQSxFQUFHK0MsVUFBa0IvQyxFQUFLQSxFQUFHd1YsZ0JBQzFDLE9BQU94VixDQUNSLEdBZlAsRUFrQkd4RyxLQUFLLGdDQUFvQk4sT0FBcEIsY0FBb0JBLFVBQVVBLFFBQVUsZ0NBQW9CMkQsS0FBcEIsY0FBb0JBLFFBQVFBLE1BQVEscUJBQW9CQyxFQUFBQSxFQUFwQixjQUFvQkEsRUFBQUEsS0FBVUEsRUFBQUEsR0FBVSxDQUFDLEdBVTdIa04sRUFBSzVRLFVBQVU4TCxLQUFPLFdBQ2EsbUJBQXRCaE0sT0FBTzBiLFdBQ2hCamIsS0FBSzhiLHdCQUVMOWIsS0FBSytiLE9BRVIsRUFFRDFMLEVBQUs1USxVQUFVcWMsc0JBQXdCLFdBQ3JDOWIsS0FBS2dRLElBQU16USxPQUFPMGIsV0FBVywwQkFDN0JqYixLQUFLZ1EsSUFBSW1MLFlBQVluYixLQUFLZ2MsVUFBVTNQLEtBQUtyTSxPQUN6Q0EsS0FBS2djLFdBQ04sRUFFRDNMLEVBQUs1USxVQUFVdWMsVUFBWSxXQUNyQmhjLEtBQUtnUSxJQUFJaUosUUFDWGpaLEtBQUsrYixRQUVML2IsS0FBS2ljLFVBRVIsRUFFRDVMLEVBQUs1USxVQUFVc2MsTUFBUSxXQUNyQixJQUFJaGMsRUFBVUMsS0FBS0QsUUFDZnVRLEVBQVF0USxLQUFLc1EsTUFDYjRMLEVBQVduYyxFQUFReU0sY0FBYyxxQkFDakMyUCxFQUFnQnBjLEVBQVFLLGlCQUFpQiwwQkFFN0MsR0FBS2tRLEdBQVU0TCxHQUFhQyxFQUE1QixDQUlBRCxFQUFTclEsYUFBYSxPQUFRLFdBRTlCek0sRUFBZ0IrYyxHQUFlLFNBQVVDLEdBQ3ZDQSxFQUFNdlEsYUFBYSxPQUFRLGVBQzVCLElBRUR6TSxFQUFnQmtSLEVBQU8sU0FBVStMLEdBRS9CcmMsS0FBS3NjLGNBQWNELEdBR25CQSxFQUFLRSxjQUFnQnZjLEtBQUt3YyxXQUFXblEsS0FBS3JNLE1BQzFDcWMsRUFBS0ksZ0JBQWtCemMsS0FBSzBjLGFBQWFyUSxLQUFLck0sTUFHOUNxYyxFQUFLbFEsaUJBQWlCLFFBQVNrUSxFQUFLRSxlQUFlLEdBQ25ERixFQUFLbFEsaUJBQWlCLFVBQVdrUSxFQUFLSSxpQkFBaUIsR0FHdkR6YyxLQUFLMmMsUUFBUU4sRUFDZCxFQUFDaFEsS0FBS3JNLE9BR1AsSUFBSTRjLEVBQWE1YyxLQUFLNmMsT0FBT3RkLE9BQU91ZCxTQUFTbkIsT0FBUzNiLEtBQUtzUSxNQUFNLEdBQ2pFdFEsS0FBSytjLFFBQVFILEdBR2I3YyxFQUFRaWQsa0JBQW9CaGQsS0FBS2lkLGFBQWE1USxLQUFLck0sTUFDbkRULE9BQU80TSxpQkFBaUIsYUFBY3BNLEVBQVFpZCxtQkFBbUIsRUE5QmhFLENBK0JGLEVBRUQzTSxFQUFLNVEsVUFBVXdjLFNBQVcsV0FDeEIsSUFBSWxjLEVBQVVDLEtBQUtELFFBQ2Z1USxFQUFRdFEsS0FBS3NRLE1BQ2I0TCxFQUFXbmMsRUFBUXlNLGNBQWMscUJBQ2pDMlAsRUFBZ0JwYyxFQUFRSyxpQkFBaUIsMEJBRXhDa1EsR0FBVTRMLEdBQWFDLElBSTVCRCxFQUFTaEcsZ0JBQWdCLFFBRXpCOVcsRUFBZ0IrYyxHQUFlLFNBQVVDLEdBQ3ZDQSxFQUFNbEcsZ0JBQWdCLE9BQVEsZUFDL0IsSUFFRDlXLEVBQWdCa1IsRUFBTyxTQUFVK0wsR0FFL0JBLEVBQUsvSCxvQkFBb0IsUUFBUytILEVBQUtFLGVBQWUsR0FDdERGLEVBQUsvSCxvQkFBb0IsVUFBVytILEVBQUtJLGlCQUFpQixHQUcxRHpjLEtBQUtrZCxnQkFBZ0JiLEVBQ3RCLEVBQUNoUSxLQUFLck0sT0FHUFQsT0FBTytVLG9CQUFvQixhQUFjdlUsRUFBUWlkLG1CQUFtQixHQUNyRSxFQUVEM00sRUFBSzVRLFVBQVV3ZCxhQUFlLFNBQVVoYixHQUN0QyxJQUFJMFosRUFBT3BjLE9BQU91ZCxTQUFTbkIsS0FDdkJ3QixFQUFlbmQsS0FBSzZjLE9BQU9sQixHQUMvQixHQUFLd0IsRUFLTCxHQUFJbmQsS0FBS29kLGFBQ1BwZCxLQUFLb2QsY0FBZSxNQUR0QixDQU1BLElBQUlDLEVBQWVyZCxLQUFLc2QsZ0JBRXhCdGQsS0FBSzJjLFFBQVFVLEdBQ2JyZCxLQUFLK2MsUUFBUUksR0FDYkEsRUFBYXZELE9BUFosQ0FRRixFQUVEdkosRUFBSzVRLFVBQVVrZCxRQUFVLFNBQVVOLEdBQ2pDcmMsS0FBS3VkLGVBQWVsQixHQUNwQnJjLEtBQUt3ZCxVQUFVbkIsRUFDaEIsRUFFRGhNLEVBQUs1USxVQUFVc2QsUUFBVSxTQUFVVixHQUNqQ3JjLEtBQUt5ZCxhQUFhcEIsR0FDbEJyYyxLQUFLMGQsVUFBVXJCLEVBQ2hCLEVBRURoTSxFQUFLNVEsVUFBVW9kLE9BQVMsU0FBVWxCLEdBQ2hDLE9BQU8zYixLQUFLRCxRQUFReU0sY0FBYywwQkFBNEJtUCxFQUFPLEtBQ3RFLEVBRUR0TCxFQUFLNVEsVUFBVTZjLGNBQWdCLFNBQVVELEdBRXZDLElBQUlzQixFQUFVM2QsS0FBSzRkLFFBQVF2QixHQUFNN1gsTUFBTSxHQUN2QzZYLEVBQUt4USxhQUFhLEtBQU0sT0FBUzhSLEdBQ2pDdEIsRUFBS3hRLGFBQWEsT0FBUSxPQUMxQndRLEVBQUt4USxhQUFhLGdCQUFpQjhSLEdBQ25DdEIsRUFBS3hRLGFBQWEsZ0JBQWlCLFNBQ25Dd1EsRUFBS3hRLGFBQWEsV0FBWSxNQUc5QixJQUFJZ1MsRUFBUzdkLEtBQUs4ZCxTQUFTekIsR0FDM0J3QixFQUFPaFMsYUFBYSxPQUFRLFlBQzVCZ1MsRUFBT2hTLGFBQWEsa0JBQW1Cd1EsRUFBSy9PLElBQzVDdVEsRUFBT2xZLFVBQVUrQixJQUFJMUgsS0FBSzRRLGNBQzNCLEVBRURQLEVBQUs1USxVQUFVeWQsZ0JBQWtCLFNBQVViLEdBRXpDQSxFQUFLbkcsZ0JBQWdCLE1BQ3JCbUcsRUFBS25HLGdCQUFnQixRQUNyQm1HLEVBQUtuRyxnQkFBZ0IsaUJBQ3JCbUcsRUFBS25HLGdCQUFnQixpQkFDckJtRyxFQUFLbkcsZ0JBQWdCLFlBR3JCLElBQUkySCxFQUFTN2QsS0FBSzhkLFNBQVN6QixHQUMzQndCLEVBQU8zSCxnQkFBZ0IsUUFDdkIySCxFQUFPM0gsZ0JBQWdCLG1CQUN2QjJILEVBQU9sWSxVQUFVaUMsT0FBTzVILEtBQUs0USxjQUM5QixFQUVEUCxFQUFLNVEsVUFBVStjLFdBQWEsU0FBVXZhLEdBQ3BDLElBQUtBLEVBQUU4QyxPQUFPWSxVQUFVNkIsU0FBUyxtQkFFL0IsT0FBTyxFQUVUdkYsRUFBRWlSLGlCQUNGLElBQUk2SyxFQUFVOWIsRUFBRThDLE9BQ1ppWixFQUFjaGUsS0FBS3NkLGdCQUN2QnRkLEtBQUsyYyxRQUFRcUIsR0FDYmhlLEtBQUsrYyxRQUFRZ0IsR0FDYi9kLEtBQUtpZSxtQkFBbUJGLEVBQ3pCLEVBRUQxTixFQUFLNVEsVUFBVXdlLG1CQUFxQixTQUFVNUIsR0FDNUMsSUFBSXdCLEVBQVM3ZCxLQUFLOGQsU0FBU3pCLEdBSXZCL08sRUFBS3VRLEVBQU92USxHQUNoQnVRLEVBQU92USxHQUFLLEdBQ1p0TixLQUFLb2QsY0FBZSxFQUNwQjdkLE9BQU91ZCxTQUFTbkIsS0FBTzNiLEtBQUs0ZCxRQUFRdkIsR0FBTTdYLE1BQU0sR0FDaERxWixFQUFPdlEsR0FBS0EsQ0FDYixFQUVEK0MsRUFBSzVRLFVBQVVpZCxhQUFlLFNBQVV6YSxHQUN0QyxPQUFRQSxFQUFFOFMsU0FDUixLQUFLL1UsS0FBS3VRLEtBQUtDLEtBQ2YsS0FBS3hRLEtBQUt1USxLQUFLRyxHQUNiMVEsS0FBS2tlLHNCQUNMamMsRUFBRWlSLGlCQUNGLE1BQ0YsS0FBS2xULEtBQUt1USxLQUFLRSxNQUNmLEtBQUt6USxLQUFLdVEsS0FBS0ksS0FDYjNRLEtBQUttZSxrQkFDTGxjLEVBQUVpUixpQkFHUCxFQUVEN0MsRUFBSzVRLFVBQVUwZSxnQkFBa0IsV0FDL0IsSUFBSUMsRUFBYXBlLEtBQUtzZCxnQkFDbEJlLEVBQWtCRCxFQUFXcFEsV0FBV3NRLG1CQUM1QyxHQUFJRCxFQUNGLElBQUlFLEVBQVVGLEVBQWdCN1IsY0FBYyxvQkFFMUMrUixJQUNGdmUsS0FBSzJjLFFBQVF5QixHQUNicGUsS0FBSytjLFFBQVF3QixHQUNiQSxFQUFRM0UsUUFDUjVaLEtBQUtpZSxtQkFBbUJNLEdBRTNCLEVBRURsTyxFQUFLNVEsVUFBVXllLG9CQUFzQixXQUNuQyxJQUFJRSxFQUFhcGUsS0FBS3NkLGdCQUNsQmtCLEVBQXNCSixFQUFXcFEsV0FBV3lRLHVCQUNoRCxHQUFJRCxFQUNGLElBQUlFLEVBQWNGLEVBQW9CaFMsY0FBYyxvQkFFbERrUyxJQUNGMWUsS0FBSzJjLFFBQVF5QixHQUNicGUsS0FBSytjLFFBQVEyQixHQUNiQSxFQUFZOUUsUUFDWjVaLEtBQUtpZSxtQkFBbUJTLEdBRTNCLEVBRURyTyxFQUFLNVEsVUFBVXFlLFNBQVcsU0FBVXpCLEdBRWxDLE9BRGFyYyxLQUFLRCxRQUFReU0sY0FBY3hNLEtBQUs0ZCxRQUFRdkIsR0FFdEQsRUFFRGhNLEVBQUs1USxVQUFVaWUsVUFBWSxTQUFVckIsR0FDdEJyYyxLQUFLOGQsU0FBU3pCLEdBQ3BCMVcsVUFBVWlDLE9BQU81SCxLQUFLNFEsY0FDOUIsRUFFRFAsRUFBSzVRLFVBQVUrZCxVQUFZLFNBQVVtQixHQUN0QjNlLEtBQUs4ZCxTQUFTYSxHQUNwQmhaLFVBQVUrQixJQUFJMUgsS0FBSzRRLGNBQzNCLEVBRURQLEVBQUs1USxVQUFVOGQsZUFBaUIsU0FBVWxCLEdBQ3hDQSxFQUFLeFEsYUFBYSxnQkFBaUIsU0FDbkN3USxFQUFLck8sV0FBV3JJLFVBQVVpQyxPQUFPLG1DQUNqQ3lVLEVBQUt4USxhQUFhLFdBQVksS0FDL0IsRUFFRHdFLEVBQUs1USxVQUFVZ2UsYUFBZSxTQUFVcEIsR0FDdENBLEVBQUt4USxhQUFhLGdCQUFpQixRQUNuQ3dRLEVBQUtyTyxXQUFXckksVUFBVStCLElBQUksbUNBQzlCMlUsRUFBS3hRLGFBQWEsV0FBWSxJQUMvQixFQUVEd0UsRUFBSzVRLFVBQVU2ZCxjQUFnQixXQUM3QixPQUFPdGQsS0FBS0QsUUFBUXlNLGNBQWMsb0RBQ25DLEVBS0Q2RCxFQUFLNVEsVUFBVW1lLFFBQVUsU0FBVXZCLEdBQ2pDLElBQUl0QyxFQUFPc0MsRUFBS25jLGFBQWEsUUFFN0IsT0FEVzZaLEVBQUt2VixNQUFNdVYsRUFBSzFGLFFBQVEsS0FBTTBGLEVBQUtuYSxPQUUvQyxFQStERFQsRUFBUXlmLFFBN0RSLFNBQWtCbEksR0FNaEIsSUFBSW1JLE9BQWlDLEtBSnJDbkksT0FBNkIsSUFBWkEsRUFBMEJBLEVBQVUsQ0FBQyxHQUkzQm1JLE1BQXdCbkksRUFBUW1JLE1BQVF2YyxTQUduRWxELEVBRGV5ZixFQUFNemUsaUJBQWlCLGlDQUNaLFNBQVU4TSxHQUNsQyxJQUFJOEIsRUFBTzlCLEdBQVMzQixNQUNyQixJQUdEbk0sRUFEa0J5ZixFQUFNemUsaUJBQWlCLG9DQUNaLFNBQVUwZSxHQUNyQyxJQUFJaGYsRUFBVWdmLEdBQVl2VCxNQUMzQixJQUdEbk0sRUFEZXlmLEVBQU16ZSxpQkFBaUIsa0NBQ1osU0FBVTJlLEdBQ2xDLElBQUk3UCxFQUFRNlAsR0FBU3hULE1BQ3RCLElBR0RuTSxFQUR1QnlmLEVBQU16ZSxpQkFBaUIsMENBQ1osU0FBVTRlLEdBQzFDLElBQUk3UCxFQUFlNlAsR0FBaUJ6VCxNQUNyQyxJQUdEbk0sRUFEa0J5ZixFQUFNemUsaUJBQWlCLHFDQUNaLFNBQVU2ZSxHQUNyQyxJQUFJelAsRUFBV3lQLEdBQVcxVCxNQUMzQixJQUlELElBQUltRSxFQURnQm1QLEVBQU1yUyxjQUFjLHdDQUNSakIsT0FJaEMsSUFBSXFFLEVBRGdCaVAsRUFBTXJTLGNBQWMsaUNBQ2RqQixPQUcxQm5NLEVBRDJCeWYsRUFBTXplLGlCQUFpQiw4Q0FDWixTQUFVOGUsR0FDOUMsSUFBSXZQLEVBQW1CdVAsR0FBcUIzVCxNQUM3QyxJQUdEbk0sRUFEY3lmLEVBQU16ZSxpQkFBaUIsaUNBQ1osU0FBVStlLEdBQ2pDLElBQUlsUCxFQUFPa1AsR0FBUTVULE1BQ3BCLElBSUQsSUFBSTJFLEVBRFkyTyxFQUFNclMsY0FBYyxvQ0FDWmpCLE9BR3hCbk0sRUFEWXlmLEVBQU16ZSxpQkFBaUIsK0JBQ1osU0FBVWtRLEdBQy9CLElBQUlELEVBQUtDLEdBQU8vRSxNQUNqQixHQUNGLEVBR0RwTSxFQUFRVyxVQUFZQSxFQUNwQlgsRUFBUTZQLE9BQVNBLEVBQ2pCN1AsRUFBUStQLFFBQVVBLEVBQ2xCL1AsRUFBUWdRLGVBQWlCQSxFQUN6QmhRLEVBQVFxUSxXQUFhQSxFQUNyQnJRLEVBQVF1USxhQUFlQSxFQUN2QnZRLEVBQVF5USxPQUFTQSxFQUNqQnpRLEVBQVF3USxtQkFBcUJBLEVBQzdCeFEsRUFBUThRLE9BQVNBLEVBQ2pCOVEsRUFBUStRLFNBQVdBLEVBQ25CL1EsRUFBUWtSLEtBQU9BLENBRWQsRUEzMkZtQixXQUFuQixFQUFPbFIsR0FBd0RELEVBQVFDLElBQzFCaWdCLEVBQXdCLENBQUMsUUFBbkIsOEQsR0NEaERDLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JyZixHQUU1QixJQUFJc2YsRUFBZUYsRUFBeUJwZixHQUM1QyxRQUFxQndCLElBQWpCOGQsRUFDSCxPQUFPQSxFQUFhcGdCLFFBR3JCLElBQUlxZ0IsRUFBU0gsRUFBeUJwZixHQUFZLENBR2pEZCxRQUFTLENBQUMsR0FPWCxPQUhBc2dCLEVBQW9CeGYsR0FBVUosS0FBSzJmLEVBQU9yZ0IsUUFBU3FnQixFQUFRQSxFQUFPcmdCLFFBQVNtZ0IsR0FHcEVFLEVBQU9yZ0IsT0FDZixDQ3RCQW1nQixFQUFvQkksRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPM2YsTUFBUSxJQUFJb0QsU0FBUyxjQUFiLEVBR2hCLENBRkUsTUFBT25CLEdBQ1IsR0FBc0IsaUJBQVgxQyxPQUFxQixPQUFPQSxNQUN4QyxDQUNBLENBUHVCLEdDR0UrZixFQUFvQixjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvYWxsLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XHJcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKCdHT1ZVS0Zyb250ZW5kJywgWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcclxuXHQoZmFjdG9yeSgoZ2xvYmFsLkdPVlVLRnJvbnRlbmQgPSB7fSkpKTtcclxufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIFRPRE86IElkZWFsbHkgdGhpcyB3b3VsZCBiZSBhIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoIHBvbHlmaWxsXHJcbiAqIFRoaXMgc2VlbXMgdG8gZmFpbCBpbiBJRTgsIHJlcXVpcmVzIG1vcmUgaW52ZXN0aWdhdGlvbi5cclxuICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vaW1hZ2l0YW1hL25vZGVsaXN0LWZvcmVhY2gtcG9seWZpbGxcclxuICovXHJcbmZ1bmN0aW9uIG5vZGVMaXN0Rm9yRWFjaCAobm9kZXMsIGNhbGxiYWNrKSB7XHJcbiAgaWYgKHdpbmRvdy5Ob2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gICAgcmV0dXJuIG5vZGVzLmZvckVhY2goY2FsbGJhY2spXHJcbiAgfVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIGNhbGxiYWNrLmNhbGwod2luZG93LCBub2Rlc1tpXSwgaSwgbm9kZXMpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gVXNlZCB0byBnZW5lcmF0ZSBhIHVuaXF1ZSBzdHJpbmcsIGFsbG93cyBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgdGhlIGNvbXBvbmVudCB3aXRob3V0XHJcbi8vIFRoZW0gY29uZmxpY3Rpbmcgd2l0aCBlYWNoIG90aGVyLlxyXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvODgwOTQ3MlxyXG5mdW5jdGlvbiBnZW5lcmF0ZVVuaXF1ZUlEICgpIHtcclxuICB2YXIgZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gIGlmICh0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlLm5vdyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgZCArPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7IC8vIHVzZSBoaWdoLXByZWNpc2lvbiB0aW1lciBpZiBhdmFpbGFibGVcclxuICB9XHJcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgIHZhciByID0gKGQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xyXG4gICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcclxuICAgIHJldHVybiAoYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KSkudG9TdHJpbmcoMTYpXHJcbiAgfSlcclxufVxyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL09iamVjdC9kZWZpbmVQcm9wZXJ0eS9kZXRlY3QuanNcclxudmFyIGRldGVjdCA9IChcclxuICAvLyBJbiBJRTgsIGRlZmluZVByb3BlcnR5IGNvdWxkIG9ubHkgYWN0IG9uIERPTSBlbGVtZW50cywgc28gZnVsbCBzdXBwb3J0XHJcbiAgLy8gZm9yIHRoZSBmZWF0dXJlIHJlcXVpcmVzIHRoZSBhYmlsaXR5IHRvIHNldCBhIHByb3BlcnR5IG9uIGFuIGFyYml0cmFyeSBvYmplY3RcclxuICAnZGVmaW5lUHJvcGVydHknIGluIE9iamVjdCAmJiAoZnVuY3Rpb24oKSB7XHJcbiAgXHR0cnkge1xyXG4gIFx0XHR2YXIgYSA9IHt9O1xyXG4gIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgJ3Rlc3QnLCB7dmFsdWU6NDJ9KTtcclxuICBcdFx0cmV0dXJuIHRydWU7XHJcbiAgXHR9IGNhdGNoKGUpIHtcclxuICBcdFx0cmV0dXJuIGZhbHNlXHJcbiAgXHR9XHJcbiAgfSgpKVxyXG4pO1xyXG5cclxuaWYgKGRldGVjdCkgcmV0dXJuXHJcblxyXG4vLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vY2RuLnBvbHlmaWxsLmlvL3YyL3BvbHlmaWxsLmpzP2ZlYXR1cmVzPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSZmbGFncz1hbHdheXNcclxuKGZ1bmN0aW9uIChuYXRpdmVEZWZpbmVQcm9wZXJ0eSkge1xyXG5cclxuXHR2YXIgc3VwcG9ydHNBY2Nlc3NvcnMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdfX2RlZmluZUdldHRlcl9fJyk7XHJcblx0dmFyIEVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCA9ICdHZXR0ZXJzICYgc2V0dGVycyBjYW5ub3QgYmUgZGVmaW5lZCBvbiB0aGlzIGphdmFzY3JpcHQgZW5naW5lJztcclxuXHR2YXIgRVJSX1ZBTFVFX0FDQ0VTU09SUyA9ICdBIHByb3BlcnR5IGNhbm5vdCBib3RoIGhhdmUgYWNjZXNzb3JzIGFuZCBiZSB3cml0YWJsZSBvciBoYXZlIGEgdmFsdWUnO1xyXG5cclxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XHJcblxyXG5cdFx0Ly8gV2hlcmUgbmF0aXZlIHN1cHBvcnQgZXhpc3RzLCBhc3N1bWUgaXRcclxuXHRcdGlmIChuYXRpdmVEZWZpbmVQcm9wZXJ0eSAmJiAob2JqZWN0ID09PSB3aW5kb3cgfHwgb2JqZWN0ID09PSBkb2N1bWVudCB8fCBvYmplY3QgPT09IEVsZW1lbnQucHJvdG90eXBlIHx8IG9iamVjdCBpbnN0YW5jZW9mIEVsZW1lbnQpKSB7XHJcblx0XHRcdHJldHVybiBuYXRpdmVEZWZpbmVQcm9wZXJ0eShvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAob2JqZWN0ID09PSBudWxsIHx8ICEob2JqZWN0IGluc3RhbmNlb2YgT2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnKSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbGVkIG9uIG5vbi1vYmplY3QnKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIShkZXNjcmlwdG9yIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm9wZXJ0eSBkZXNjcmlwdGlvbiBtdXN0IGJlIGFuIG9iamVjdCcpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBwcm9wZXJ0eVN0cmluZyA9IFN0cmluZyhwcm9wZXJ0eSk7XHJcblx0XHR2YXIgaGFzVmFsdWVPcldyaXRhYmxlID0gJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yIHx8ICd3cml0YWJsZScgaW4gZGVzY3JpcHRvcjtcclxuXHRcdHZhciBnZXR0ZXJUeXBlID0gJ2dldCcgaW4gZGVzY3JpcHRvciAmJiB0eXBlb2YgZGVzY3JpcHRvci5nZXQ7XHJcblx0XHR2YXIgc2V0dGVyVHlwZSA9ICdzZXQnIGluIGRlc2NyaXB0b3IgJiYgdHlwZW9mIGRlc2NyaXB0b3Iuc2V0O1xyXG5cclxuXHRcdC8vIGhhbmRsZSBkZXNjcmlwdG9yLmdldFxyXG5cdFx0aWYgKGdldHRlclR5cGUpIHtcclxuXHRcdFx0aWYgKGdldHRlclR5cGUgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdHZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFzdXBwb3J0c0FjY2Vzc29ycykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaGFzVmFsdWVPcldyaXRhYmxlKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfVkFMVUVfQUNDRVNTT1JTKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRPYmplY3QuX19kZWZpbmVHZXR0ZXJfXy5jYWxsKG9iamVjdCwgcHJvcGVydHlTdHJpbmcsIGRlc2NyaXB0b3IuZ2V0KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG9iamVjdFtwcm9wZXJ0eVN0cmluZ10gPSBkZXNjcmlwdG9yLnZhbHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGhhbmRsZSBkZXNjcmlwdG9yLnNldFxyXG5cdFx0aWYgKHNldHRlclR5cGUpIHtcclxuXHRcdFx0aWYgKHNldHRlclR5cGUgIT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdTZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCFzdXBwb3J0c0FjY2Vzc29ycykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoRVJSX0FDQ0VTU09SU19OT1RfU1VQUE9SVEVEKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoaGFzVmFsdWVPcldyaXRhYmxlKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihFUlJfVkFMVUVfQUNDRVNTT1JTKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRPYmplY3QuX19kZWZpbmVTZXR0ZXJfXy5jYWxsKG9iamVjdCwgcHJvcGVydHlTdHJpbmcsIGRlc2NyaXB0b3Iuc2V0KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPSyB0byBkZWZpbmUgdmFsdWUgdW5jb25kaXRpb25hbGx5IC0gaWYgYSBnZXR0ZXIgaGFzIGJlZW4gc3BlY2lmaWVkIGFzIHdlbGwsIGFuIGVycm9yIHdvdWxkIGJlIHRocm93biBhYm92ZVxyXG5cdFx0aWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikge1xyXG5cdFx0XHRvYmplY3RbcHJvcGVydHlTdHJpbmddID0gZGVzY3JpcHRvci52YWx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gb2JqZWN0O1xyXG5cdH07XHJcbn0oT2JqZWN0LmRlZmluZVByb3BlcnR5KSk7XHJcbn0pXHJcbi5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG4gIC8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9ibG9iL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9GdW5jdGlvbi9wcm90b3R5cGUvYmluZC9kZXRlY3QuanNcclxuICB2YXIgZGV0ZWN0ID0gJ2JpbmQnIGluIEZ1bmN0aW9uLnByb3RvdHlwZTtcclxuXHJcbiAgaWYgKGRldGVjdCkgcmV0dXJuXHJcblxyXG4gIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmZmxhZ3M9YWx3YXlzXHJcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ2JpbmQnLCB7XHJcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBiaW5kKHRoYXQpIHsgLy8gLmxlbmd0aCBpcyAxXHJcbiAgICAgICAgICAvLyBhZGQgbmVjZXNzYXJ5IGVzNS1zaGltIHV0aWxpdGllc1xyXG4gICAgICAgICAgdmFyICRBcnJheSA9IEFycmF5O1xyXG4gICAgICAgICAgdmFyICRPYmplY3QgPSBPYmplY3Q7XHJcbiAgICAgICAgICB2YXIgT2JqZWN0UHJvdG90eXBlID0gJE9iamVjdC5wcm90b3R5cGU7XHJcbiAgICAgICAgICB2YXIgQXJyYXlQcm90b3R5cGUgPSAkQXJyYXkucHJvdG90eXBlO1xyXG4gICAgICAgICAgdmFyIEVtcHR5ID0gZnVuY3Rpb24gRW1wdHkoKSB7fTtcclxuICAgICAgICAgIHZhciB0b19zdHJpbmcgPSBPYmplY3RQcm90b3R5cGUudG9TdHJpbmc7XHJcbiAgICAgICAgICB2YXIgaGFzVG9TdHJpbmdUYWcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wudG9TdHJpbmdUYWcgPT09ICdzeW1ib2wnO1xyXG4gICAgICAgICAgdmFyIGlzQ2FsbGFibGU7IC8qIGlubGluZWQgZnJvbSBodHRwczovL25wbWpzLmNvbS9pcy1jYWxsYWJsZSAqLyB2YXIgZm5Ub1N0ciA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZywgdHJ5RnVuY3Rpb25PYmplY3QgPSBmdW5jdGlvbiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSkgeyB0cnkgeyBmblRvU3RyLmNhbGwodmFsdWUpOyByZXR1cm4gdHJ1ZTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZmFsc2U7IH0gfSwgZm5DbGFzcyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsIGdlbkNsYXNzID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJzsgaXNDYWxsYWJsZSA9IGZ1bmN0aW9uIGlzQ2FsbGFibGUodmFsdWUpIHsgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ2Z1bmN0aW9uJykgeyByZXR1cm4gZmFsc2U7IH0gaWYgKGhhc1RvU3RyaW5nVGFnKSB7IHJldHVybiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSk7IH0gdmFyIHN0ckNsYXNzID0gdG9fc3RyaW5nLmNhbGwodmFsdWUpOyByZXR1cm4gc3RyQ2xhc3MgPT09IGZuQ2xhc3MgfHwgc3RyQ2xhc3MgPT09IGdlbkNsYXNzOyB9O1xyXG4gICAgICAgICAgdmFyIGFycmF5X3NsaWNlID0gQXJyYXlQcm90b3R5cGUuc2xpY2U7XHJcbiAgICAgICAgICB2YXIgYXJyYXlfY29uY2F0ID0gQXJyYXlQcm90b3R5cGUuY29uY2F0O1xyXG4gICAgICAgICAgdmFyIGFycmF5X3B1c2ggPSBBcnJheVByb3RvdHlwZS5wdXNoO1xyXG4gICAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4O1xyXG4gICAgICAgICAgLy8gL2FkZCBuZWNlc3NhcnkgZXM1LXNoaW0gdXRpbGl0aWVzXHJcblxyXG4gICAgICAgICAgLy8gMS4gTGV0IFRhcmdldCBiZSB0aGUgdGhpcyB2YWx1ZS5cclxuICAgICAgICAgIHZhciB0YXJnZXQgPSB0aGlzO1xyXG4gICAgICAgICAgLy8gMi4gSWYgSXNDYWxsYWJsZShUYXJnZXQpIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXHJcbiAgICAgICAgICBpZiAoIWlzQ2FsbGFibGUodGFyZ2V0KSkge1xyXG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgJyArIHRhcmdldCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyAzLiBMZXQgQSBiZSBhIG5ldyAocG9zc2libHkgZW1wdHkpIGludGVybmFsIGxpc3Qgb2YgYWxsIG9mIHRoZVxyXG4gICAgICAgICAgLy8gICBhcmd1bWVudCB2YWx1ZXMgcHJvdmlkZWQgYWZ0ZXIgdGhpc0FyZyAoYXJnMSwgYXJnMiBldGMpLCBpbiBvcmRlci5cclxuICAgICAgICAgIC8vIFhYWCBzbGljZWRBcmdzIHdpbGwgc3RhbmQgaW4gZm9yIFwiQVwiIGlmIHVzZWRcclxuICAgICAgICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOyAvLyBmb3Igbm9ybWFsIGNhbGxcclxuICAgICAgICAgIC8vIDQuIExldCBGIGJlIGEgbmV3IG5hdGl2ZSBFQ01BU2NyaXB0IG9iamVjdC5cclxuICAgICAgICAgIC8vIDExLiBTZXQgdGhlIFtbUHJvdG90eXBlXV0gaW50ZXJuYWwgcHJvcGVydHkgb2YgRiB0byB0aGUgc3RhbmRhcmRcclxuICAgICAgICAgIC8vICAgYnVpbHQtaW4gRnVuY3Rpb24gcHJvdG90eXBlIG9iamVjdCBhcyBzcGVjaWZpZWQgaW4gMTUuMy4zLjEuXHJcbiAgICAgICAgICAvLyAxMi4gU2V0IHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxyXG4gICAgICAgICAgLy8gICAxNS4zLjQuNS4xLlxyXG4gICAgICAgICAgLy8gMTMuIFNldCB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBwcm9wZXJ0eSBvZiBGIGFzIGRlc2NyaWJlZCBpblxyXG4gICAgICAgICAgLy8gICAxNS4zLjQuNS4yLlxyXG4gICAgICAgICAgLy8gMTQuIFNldCB0aGUgW1tIYXNJbnN0YW5jZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgYXMgZGVzY3JpYmVkIGluXHJcbiAgICAgICAgICAvLyAgIDE1LjMuNC41LjMuXHJcbiAgICAgICAgICB2YXIgYm91bmQ7XHJcbiAgICAgICAgICB2YXIgYmluZGVyID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIGJvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIDE1LjMuNC41LjIgW1tDb25zdHJ1Y3RdXVxyXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZCBvZiBhIGZ1bmN0aW9uIG9iamVjdCxcclxuICAgICAgICAgICAgICAgICAgLy8gRiB0aGF0IHdhcyBjcmVhdGVkIHVzaW5nIHRoZSBiaW5kIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcclxuICAgICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBhcmd1bWVudHMgRXh0cmFBcmdzLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGFyZSB0YWtlbjpcclxuICAgICAgICAgICAgICAgICAgLy8gMS4gTGV0IHRhcmdldCBiZSB0aGUgdmFsdWUgb2YgRidzIFtbVGFyZ2V0RnVuY3Rpb25dXVxyXG4gICAgICAgICAgICAgICAgICAvLyAgIGludGVybmFsIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAvLyAyLiBJZiB0YXJnZXQgaGFzIG5vIFtbQ29uc3RydWN0XV0gaW50ZXJuYWwgbWV0aG9kLCBhXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgVHlwZUVycm9yIGV4Y2VwdGlvbiBpcyB0aHJvd24uXHJcbiAgICAgICAgICAgICAgICAgIC8vIDMuIExldCBib3VuZEFyZ3MgYmUgdGhlIHZhbHVlIG9mIEYncyBbW0JvdW5kQXJnc11dIGludGVybmFsXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgcHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgIC8vIDQuIExldCBhcmdzIGJlIGEgbmV3IGxpc3QgY29udGFpbmluZyB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhlXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgLy8gICB2YWx1ZXMgYXMgdGhlIGxpc3QgRXh0cmFBcmdzIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAgICAgICAgICAgICAgICAvLyA1LiBSZXR1cm4gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgbWV0aG9kIG9mIHRhcmdldCBwcm92aWRpbmcgYXJncyBhcyB0aGUgYXJndW1lbnRzLlxyXG5cclxuICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRhcmdldC5hcHBseShcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICBhcnJheV9jb25jYXQuY2FsbChhcmdzLCBhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cykpXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgIGlmICgkT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgLy8gMTUuMy40LjUuMSBbW0NhbGxdXVxyXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2Qgb2YgYSBmdW5jdGlvbiBvYmplY3QsIEYsXHJcbiAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIHdhcyBjcmVhdGVkIHVzaW5nIHRoZSBiaW5kIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIGFcclxuICAgICAgICAgICAgICAgICAgLy8gdGhpcyB2YWx1ZSBhbmQgYSBsaXN0IG9mIGFyZ3VtZW50cyBFeHRyYUFyZ3MsIHRoZSBmb2xsb3dpbmdcclxuICAgICAgICAgICAgICAgICAgLy8gc3RlcHMgYXJlIHRha2VuOlxyXG4gICAgICAgICAgICAgICAgICAvLyAxLiBMZXQgYm91bmRBcmdzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZEFyZ3NdXSBpbnRlcm5hbFxyXG4gICAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAvLyAyLiBMZXQgYm91bmRUaGlzIGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tCb3VuZFRoaXNdXSBpbnRlcm5hbFxyXG4gICAgICAgICAgICAgICAgICAvLyAgIHByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAvLyAzLiBMZXQgdGFyZ2V0IGJlIHRoZSB2YWx1ZSBvZiBGJ3MgW1tUYXJnZXRGdW5jdGlvbl1dIGludGVybmFsXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgcHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgIC8vIDQuIExldCBhcmdzIGJlIGEgbmV3IGxpc3QgY29udGFpbmluZyB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhlXHJcbiAgICAgICAgICAgICAgICAgIC8vICAgbGlzdCBib3VuZEFyZ3MgaW4gdGhlIHNhbWUgb3JkZXIgZm9sbG93ZWQgYnkgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgLy8gICB2YWx1ZXMgYXMgdGhlIGxpc3QgRXh0cmFBcmdzIGluIHRoZSBzYW1lIG9yZGVyLlxyXG4gICAgICAgICAgICAgICAgICAvLyA1LiBSZXR1cm4gdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2RcclxuICAgICAgICAgICAgICAgICAgLy8gICBvZiB0YXJnZXQgcHJvdmlkaW5nIGJvdW5kVGhpcyBhcyB0aGUgdGhpcyB2YWx1ZSBhbmRcclxuICAgICAgICAgICAgICAgICAgLy8gICBwcm92aWRpbmcgYXJncyBhcyB0aGUgYXJndW1lbnRzLlxyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gZXF1aXY6IHRhcmdldC5jYWxsKHRoaXMsIC4uLmJvdW5kQXJncywgLi4uYXJncylcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5hcHBseShcclxuICAgICAgICAgICAgICAgICAgICAgIHRoYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBhcnJheV9jb25jYXQuY2FsbChhcmdzLCBhcnJheV9zbGljZS5jYWxsKGFyZ3VtZW50cykpXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8vIDE1LiBJZiB0aGUgW1tDbGFzc11dIGludGVybmFsIHByb3BlcnR5IG9mIFRhcmdldCBpcyBcIkZ1bmN0aW9uXCIsIHRoZW5cclxuICAgICAgICAgIC8vICAgICBhLiBMZXQgTCBiZSB0aGUgbGVuZ3RoIHByb3BlcnR5IG9mIFRhcmdldCBtaW51cyB0aGUgbGVuZ3RoIG9mIEEuXHJcbiAgICAgICAgICAvLyAgICAgYi4gU2V0IHRoZSBsZW5ndGggb3duIHByb3BlcnR5IG9mIEYgdG8gZWl0aGVyIDAgb3IgTCwgd2hpY2hldmVyIGlzXHJcbiAgICAgICAgICAvLyAgICAgICBsYXJnZXIuXHJcbiAgICAgICAgICAvLyAxNi4gRWxzZSBzZXQgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byAwLlxyXG5cclxuICAgICAgICAgIHZhciBib3VuZExlbmd0aCA9IG1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgIC8vIDE3LiBTZXQgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGxlbmd0aCBvd24gcHJvcGVydHkgb2YgRiB0byB0aGUgdmFsdWVzXHJcbiAgICAgICAgICAvLyAgIHNwZWNpZmllZCBpbiAxNS4zLjUuMS5cclxuICAgICAgICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIGFycmF5X3B1c2guY2FsbChib3VuZEFyZ3MsICckJyArIGkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFhYWCBCdWlsZCBhIGR5bmFtaWMgZnVuY3Rpb24gd2l0aCBkZXNpcmVkIGFtb3VudCBvZiBhcmd1bWVudHMgaXMgdGhlIG9ubHlcclxuICAgICAgICAgIC8vIHdheSB0byBzZXQgdGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiBhIGZ1bmN0aW9uLlxyXG4gICAgICAgICAgLy8gSW4gZW52aXJvbm1lbnRzIHdoZXJlIENvbnRlbnQgU2VjdXJpdHkgUG9saWNpZXMgZW5hYmxlZCAoQ2hyb21lIGV4dGVuc2lvbnMsXHJcbiAgICAgICAgICAvLyBmb3IgZXguKSBhbGwgdXNlIG9mIGV2YWwgb3IgRnVuY3Rpb24gY29zdHJ1Y3RvciB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICAgICAgLy8gSG93ZXZlciBpbiBhbGwgb2YgdGhlc2UgZW52aXJvbm1lbnRzIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGV4aXN0c1xyXG4gICAgICAgICAgLy8gYW5kIHNvIHRoaXMgY29kZSB3aWxsIG5ldmVyIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9JykoYmluZGVyKTtcclxuXHJcbiAgICAgICAgICBpZiAodGFyZ2V0LnByb3RvdHlwZSkge1xyXG4gICAgICAgICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IHRhcmdldC5wcm90b3R5cGU7XHJcbiAgICAgICAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgLy8gQ2xlYW4gdXAgZGFuZ2xpbmcgcmVmZXJlbmNlcy5cclxuICAgICAgICAgICAgICBFbXB0eS5wcm90b3R5cGUgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgIC8vIDE4LiBTZXQgdGhlIFtbRXh0ZW5zaWJsZV1dIGludGVybmFsIHByb3BlcnR5IG9mIEYgdG8gdHJ1ZS5cclxuXHJcbiAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAvLyAxOS4gTGV0IHRocm93ZXIgYmUgdGhlIFtbVGhyb3dUeXBlRXJyb3JdXSBmdW5jdGlvbiBPYmplY3QgKDEzLjIuMykuXHJcbiAgICAgICAgICAvLyAyMC4gQ2FsbCB0aGUgW1tEZWZpbmVPd25Qcm9wZXJ0eV1dIGludGVybmFsIG1ldGhvZCBvZiBGIHdpdGhcclxuICAgICAgICAgIC8vICAgYXJndW1lbnRzIFwiY2FsbGVyXCIsIFByb3BlcnR5RGVzY3JpcHRvciB7W1tHZXRdXTogdGhyb3dlciwgW1tTZXRdXTpcclxuICAgICAgICAgIC8vICAgdGhyb3dlciwgW1tFbnVtZXJhYmxlXV06IGZhbHNlLCBbW0NvbmZpZ3VyYWJsZV1dOiBmYWxzZX0sIGFuZFxyXG4gICAgICAgICAgLy8gICBmYWxzZS5cclxuICAgICAgICAgIC8vIDIxLiBDYWxsIHRoZSBbW0RlZmluZU93blByb3BlcnR5XV0gaW50ZXJuYWwgbWV0aG9kIG9mIEYgd2l0aFxyXG4gICAgICAgICAgLy8gICBhcmd1bWVudHMgXCJhcmd1bWVudHNcIiwgUHJvcGVydHlEZXNjcmlwdG9yIHtbW0dldF1dOiB0aHJvd2VyLFxyXG4gICAgICAgICAgLy8gICBbW1NldF1dOiB0aHJvd2VyLCBbW0VudW1lcmFibGVdXTogZmFsc2UsIFtbQ29uZmlndXJhYmxlXV06IGZhbHNlfSxcclxuICAgICAgICAgIC8vICAgYW5kIGZhbHNlLlxyXG5cclxuICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgIC8vIE5PVEUgRnVuY3Rpb24gb2JqZWN0cyBjcmVhdGVkIHVzaW5nIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIGRvIG5vdFxyXG4gICAgICAgICAgLy8gaGF2ZSBhIHByb3RvdHlwZSBwcm9wZXJ0eSBvciB0aGUgW1tDb2RlXV0sIFtbRm9ybWFsUGFyYW1ldGVyc11dLCBhbmRcclxuICAgICAgICAgIC8vIFtbU2NvcGVdXSBpbnRlcm5hbCBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgLy8gWFhYIGNhbid0IGRlbGV0ZSBwcm90b3R5cGUgaW4gcHVyZS1qcy5cclxuXHJcbiAgICAgICAgICAvLyAyMi4gUmV0dXJuIEYuXHJcbiAgICAgICAgICByZXR1cm4gYm91bmQ7XHJcbiAgICAgIH1cclxuICB9KTtcclxufSlcclxuLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XHJcblxyXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9ET01Ub2tlbkxpc3QvZGV0ZWN0LmpzXHJcbiAgICB2YXIgZGV0ZWN0ID0gKFxyXG4gICAgICAnRE9NVG9rZW5MaXN0JyBpbiB0aGlzICYmIChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIHJldHVybiAnY2xhc3NMaXN0JyBpbiB4ID8gIXguY2xhc3NMaXN0LnRvZ2dsZSgneCcsIGZhbHNlKSAmJiAheC5jbGFzc05hbWUgOiB0cnVlO1xyXG4gICAgICB9KShkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd4JykpXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAgIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL21hc3Rlci9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9ET01Ub2tlbkxpc3QvcG9seWZpbGwuanNcclxuICAgIChmdW5jdGlvbiAoZ2xvYmFsKSB7XHJcbiAgICAgIHZhciBuYXRpdmVJbXBsID0gXCJET01Ub2tlbkxpc3RcIiBpbiBnbG9iYWwgJiYgZ2xvYmFsLkRPTVRva2VuTGlzdDtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAgICFuYXRpdmVJbXBsIHx8XHJcbiAgICAgICAgICAoXHJcbiAgICAgICAgICAgICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmXHJcbiAgICAgICAgICAgICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKSAmJlxyXG4gICAgICAgICAgICAhKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwic3ZnXCIpLmNsYXNzTGlzdCBpbnN0YW5jZW9mIERPTVRva2VuTGlzdClcclxuICAgICAgICAgIClcclxuICAgICAgICApIHtcclxuICAgICAgICBnbG9iYWwuRE9NVG9rZW5MaXN0ID0gKGZ1bmN0aW9uKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAgICAgICB2YXIgZHBTdXBwb3J0ID0gdHJ1ZTtcclxuICAgICAgICAgIHZhciBkZWZpbmVHZXR0ZXIgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBmbiwgY29uZmlndXJhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpXHJcbiAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgbmFtZSwge1xyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSA9PT0gZHBTdXBwb3J0ID8gdHJ1ZSA6ICEhY29uZmlndXJhYmxlLFxyXG4gICAgICAgICAgICAgICAgZ2V0OiBmblxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZWxzZSBvYmplY3QuX19kZWZpbmVHZXR0ZXJfXyhuYW1lLCBmbik7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIC8qKiBFbnN1cmUgdGhlIGJyb3dzZXIgYWxsb3dzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0byBiZSB1c2VkIG9uIG5hdGl2ZSBKYXZhU2NyaXB0IG9iamVjdHMuICovXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkZWZpbmVHZXR0ZXIoe30sIFwic3VwcG9ydFwiKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGRwU3VwcG9ydCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICB2YXIgX0RPTVRva2VuTGlzdCA9IGZ1bmN0aW9uIChlbCwgcHJvcCkge1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB0b2tlbnMgPSBbXTtcclxuICAgICAgICAgICAgdmFyIHRva2VuTWFwID0ge307XHJcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSAwO1xyXG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgdmFyIGFkZEluZGV4R2V0dGVyID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICBkZWZpbmVHZXR0ZXIodGhhdCwgaSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcHJlb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgfSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHJlaW5kZXggPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBEZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgYXJyYXktbGlrZSBhY2Nlc3MgdG8gdGhlIHRva2VuTGlzdCdzIGNvbnRlbnRzLiAqL1xyXG4gICAgICAgICAgICAgIGlmIChsZW5ndGggPj0gbWF4TGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgZm9yICg7IG1heExlbmd0aCA8IGxlbmd0aDsgKyttYXhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkSW5kZXhHZXR0ZXIobWF4TGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBIZWxwZXIgZnVuY3Rpb24gY2FsbGVkIGF0IHRoZSBzdGFydCBvZiBlYWNoIGNsYXNzIG1ldGhvZC4gSW50ZXJuYWwgdXNlIG9ubHkuICovXHJcbiAgICAgICAgICAgIHZhciBwcmVvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICB2YXIgZXJyb3I7XHJcbiAgICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgICAgICAgdmFyIHJTcGFjZSA9IC9cXHMrLztcclxuXHJcbiAgICAgICAgICAgICAgLyoqIFZhbGlkYXRlIHRoZSB0b2tlbi9zIHBhc3NlZCB0byBhbiBpbnN0YW5jZSBtZXRob2QsIGlmIGFueS4gKi9cclxuICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgICAgaWYgKHJTcGFjZS50ZXN0KGFyZ3NbaV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgU3ludGF4RXJyb3IoJ1N0cmluZyBcIicgKyBhcmdzW2ldICsgJ1wiICcgKyBcImNvbnRhaW5zXCIgKyAnIGFuIGludmFsaWQgY2hhcmFjdGVyJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuY29kZSA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiSW52YWxpZENoYXJhY3RlckVycm9yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgIC8qKiBTcGxpdCB0aGUgbmV3IHZhbHVlIGFwYXJ0IGJ5IHdoaXRlc3BhY2UqL1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZWxbcHJvcF0gPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRva2VucyA9IChcIlwiICsgZWxbcHJvcF0uYmFzZVZhbCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIikuc3BsaXQoclNwYWNlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdG9rZW5zID0gKFwiXCIgKyBlbFtwcm9wXSkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIikuc3BsaXQoclNwYWNlKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBBdm9pZCB0cmVhdGluZyBibGFuayBzdHJpbmdzIGFzIHNpbmdsZS1pdGVtIHRva2VuIGxpc3RzICovXHJcbiAgICAgICAgICAgICAgaWYgKFwiXCIgPT09IHRva2Vuc1swXSkgdG9rZW5zID0gW107XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBSZXBvcHVsYXRlIHRoZSBpbnRlcm5hbCB0b2tlbiBsaXN0cyAqL1xyXG4gICAgICAgICAgICAgIHRva2VuTWFwID0ge307XHJcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgIHRva2VuTWFwW3Rva2Vuc1tpXV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGxlbmd0aCA9IHRva2Vucy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgcmVpbmRleCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLyoqIFBvcHVsYXRlIG91ciBpbnRlcm5hbCB0b2tlbiBsaXN0IGlmIHRoZSB0YXJnZXRlZCBhdHRyaWJ1dGUgb2YgdGhlIHN1YmplY3QgZWxlbWVudCBpc24ndCBlbXB0eS4gKi9cclxuICAgICAgICAgICAgcHJlb3AoKTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBSZXR1cm4gdGhlIG51bWJlciBvZiB0b2tlbnMgaW4gdGhlIHVuZGVybHlpbmcgc3RyaW5nLiBSZWFkLW9ubHkuICovXHJcbiAgICAgICAgICAgIGRlZmluZUdldHRlcih0aGF0LCBcImxlbmd0aFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgcHJlb3AoKTtcclxuICAgICAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8qKiBPdmVycmlkZSB0aGUgZGVmYXVsdCB0b1N0cmluZy90b0xvY2FsZVN0cmluZyBtZXRob2RzIHRvIHJldHVybiBhIHNwYWNlLWRlbGltaXRlZCBsaXN0IG9mIHRva2VucyB3aGVuIHR5cGVjYXN0LiAqL1xyXG4gICAgICAgICAgICB0aGF0LnRvTG9jYWxlU3RyaW5nID1cclxuICAgICAgICAgICAgICB0aGF0LnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcHJlb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbnMuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuaXRlbSA9IGZ1bmN0aW9uIChpZHgpIHtcclxuICAgICAgICAgICAgICBwcmVvcCgpO1xyXG4gICAgICAgICAgICAgIHJldHVybiB0b2tlbnNbaWR4XTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICAgICAgICBwcmVvcCgpO1xyXG4gICAgICAgICAgICAgIHJldHVybiAhIXRva2VuTWFwW3Rva2VuXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuYWRkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHByZW9wLmFwcGx5KHRoYXQsIGFyZ3MgPSBhcmd1bWVudHMpO1xyXG5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBhcmdzLCB0b2tlbiwgaSA9IDAsIGwgPSBhcmdzLmxlbmd0aDsgaSA8IGw7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdG9rZW4gPSBhcmdzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbk1hcFt0b2tlbl0pIHtcclxuICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICB0b2tlbk1hcFt0b2tlbl0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgLyoqIFVwZGF0ZSB0aGUgdGFyZ2V0ZWQgYXR0cmlidXRlIG9mIHRoZSBhdHRhY2hlZCBlbGVtZW50IGlmIHRoZSB0b2tlbiBsaXN0J3MgY2hhbmdlZC4gKi9cclxuICAgICAgICAgICAgICBpZiAobGVuZ3RoICE9PSB0b2tlbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsZW5ndGggPSB0b2tlbnMubGVuZ3RoID4+PiAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbFtwcm9wXSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgICBlbFtwcm9wXS5iYXNlVmFsID0gdG9rZW5zLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgZWxbcHJvcF0gPSB0b2tlbnMuam9pbihcIiBcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZWluZGV4KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhhdC5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgcHJlb3AuYXBwbHkodGhhdCwgYXJncyA9IGFyZ3VtZW50cyk7XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBCdWlsZCBhIGhhc2ggb2YgdG9rZW4gbmFtZXMgdG8gY29tcGFyZSBhZ2FpbnN0IHdoZW4gcmVjb2xsZWN0aW5nIG91ciB0b2tlbiBsaXN0LiAqL1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGFyZ3MsIGlnbm9yZSA9IHt9LCBpID0gMCwgdCA9IFtdOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgaWdub3JlW2FyZ3NbaV1dID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0b2tlbk1hcFthcmdzW2ldXTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBSdW4gdGhyb3VnaCBvdXIgdG9rZW5zIGxpc3QgYW5kIHJlYXNzaWduIG9ubHkgdGhvc2UgdGhhdCBhcmVuJ3QgZGVmaW5lZCBpbiB0aGUgaGFzaCBkZWNsYXJlZCBhYm92ZS4gKi9cclxuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgKytpKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpZ25vcmVbdG9rZW5zW2ldXSkgdC5wdXNoKHRva2Vuc1tpXSk7XHJcblxyXG4gICAgICAgICAgICAgIHRva2VucyA9IHQ7XHJcbiAgICAgICAgICAgICAgbGVuZ3RoID0gdC5sZW5ndGggPj4+IDA7XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBVcGRhdGUgdGhlIHRhcmdldGVkIGF0dHJpYnV0ZSBvZiB0aGUgYXR0YWNoZWQgZWxlbWVudC4gKi9cclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsW3Byb3BdID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICBlbFtwcm9wXS5iYXNlVmFsID0gdG9rZW5zLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlbFtwcm9wXSA9IHRva2Vucy5qb2luKFwiIFwiKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVpbmRleCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdGhhdC50b2dnbGUgPSBmdW5jdGlvbiAodG9rZW4sIGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgcHJlb3AuYXBwbHkodGhhdCwgW3Rva2VuXSk7XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBUb2tlbiBzdGF0ZSdzIGJlaW5nIGZvcmNlZC4gKi9cclxuICAgICAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBmb3JjZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoYXQuYWRkKHRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZSh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8qKiBUb2tlbiBhbHJlYWR5IGV4aXN0cyBpbiB0b2tlbkxpc3QuIFJlbW92ZSBpdCwgYW5kIHJldHVybiBGQUxTRS4gKi9cclxuICAgICAgICAgICAgICBpZiAodG9rZW5NYXBbdG9rZW5dKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LnJlbW92ZSh0b2tlbik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvKiogT3RoZXJ3aXNlLCBhZGQgdGhlIHRva2VuIGFuZCByZXR1cm4gVFJVRS4gKi9cclxuICAgICAgICAgICAgICB0aGF0LmFkZCh0b2tlbik7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdGhhdDtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgcmV0dXJuIF9ET01Ub2tlbkxpc3Q7XHJcbiAgICAgICAgfSgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWRkIHNlY29uZCBhcmd1bWVudCB0byBuYXRpdmUgRE9NVG9rZW5MaXN0LnRvZ2dsZSgpIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGlmICghKCdjbGFzc0xpc3QnIGluIGUpKSByZXR1cm47XHJcbiAgICAgICAgZS5jbGFzc0xpc3QudG9nZ2xlKCd4JywgZmFsc2UpO1xyXG4gICAgICAgIGlmICghZS5jbGFzc0xpc3QuY29udGFpbnMoJ3gnKSkgcmV0dXJuO1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiB0b2dnbGUodG9rZW4gLyosIGZvcmNlKi8pIHtcclxuICAgICAgICAgIHZhciBmb3JjZSA9IGFyZ3VtZW50c1sxXTtcclxuICAgICAgICAgIGlmIChmb3JjZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGQgPSAhdGhpcy5jb250YWlucyh0b2tlbik7XHJcbiAgICAgICAgICAgIHRoaXNbYWRkID8gJ2FkZCcgOiAncmVtb3ZlJ10odG9rZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gYWRkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZm9yY2UgPSAhIWZvcmNlO1xyXG4gICAgICAgICAgdGhpc1tmb3JjZSA/ICdhZGQnIDogJ3JlbW92ZSddKHRva2VuKTtcclxuICAgICAgICAgIHJldHVybiBmb3JjZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KCkpO1xyXG5cclxuICAgICAgLy8gQWRkIG11bHRpcGxlIGFyZ3VtZW50cyB0byBuYXRpdmUgRE9NVG9rZW5MaXN0LmFkZCgpIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICAgIGlmICghKCdjbGFzc0xpc3QnIGluIGUpKSByZXR1cm47XHJcbiAgICAgICAgZS5jbGFzc0xpc3QuYWRkKCdhJywgJ2InKTtcclxuICAgICAgICBpZiAoZS5jbGFzc0xpc3QuY29udGFpbnMoJ2InKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBuYXRpdmUgPSBlLmNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuYWRkO1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5hdGl2ZS5jYWxsKHRoaXMsIGFyZ3NbaV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0oKSk7XHJcblxyXG4gICAgICAvLyBBZGQgbXVsdGlwbGUgYXJndW1lbnRzIHRvIG5hdGl2ZSBET01Ub2tlbkxpc3QucmVtb3ZlKCkgaWYgbmVjZXNzYXJ5XHJcbiAgICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgICAgaWYgKCEoJ2NsYXNzTGlzdCcgaW4gZSkpIHJldHVybjtcclxuICAgICAgICBlLmNsYXNzTGlzdC5hZGQoJ2EnKTtcclxuICAgICAgICBlLmNsYXNzTGlzdC5hZGQoJ2InKTtcclxuICAgICAgICBlLmNsYXNzTGlzdC5yZW1vdmUoJ2EnLCAnYicpO1xyXG4gICAgICAgIGlmICghZS5jbGFzc0xpc3QuY29udGFpbnMoJ2InKSkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBuYXRpdmUgPSBlLmNsYXNzTGlzdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVtb3ZlO1xyXG4gICAgICAgIGUuY2xhc3NMaXN0LmNvbnN0cnVjdG9yLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcclxuICAgICAgICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5hdGl2ZS5jYWxsKHRoaXMsIGFyZ3NbaV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0oKSk7XHJcblxyXG4gICAgfSh0aGlzKSk7XHJcblxyXG59KS5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0RvY3VtZW50L2RldGVjdC5qc1xyXG52YXIgZGV0ZWN0ID0gKFwiRG9jdW1lbnRcIiBpbiB0aGlzKTtcclxuXHJcbmlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuLy8gUG9seWZpbGwgZnJvbSBodHRwczovL2Nkbi5wb2x5ZmlsbC5pby92Mi9wb2x5ZmlsbC5qcz9mZWF0dXJlcz1Eb2N1bWVudCZmbGFncz1hbHdheXNcclxuaWYgKCh0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgPT09IFwidW5kZWZpbmVkXCIpICYmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyAhPT0gXCJmdW5jdGlvblwiKSkge1xyXG5cclxuXHRpZiAodGhpcy5IVE1MRG9jdW1lbnQpIHsgLy8gSUU4XHJcblxyXG5cdFx0Ly8gSFRNTERvY3VtZW50IGlzIGFuIGV4dGVuc2lvbiBvZiBEb2N1bWVudC4gIElmIHRoZSBicm93c2VyIGhhcyBIVE1MRG9jdW1lbnQgYnV0IG5vdCBEb2N1bWVudCwgdGhlIGZvcm1lciB3aWxsIHN1ZmZpY2UgYXMgYW4gYWxpYXMgZm9yIHRoZSBsYXR0ZXIuXHJcblx0XHR0aGlzLkRvY3VtZW50ID0gdGhpcy5IVE1MRG9jdW1lbnQ7XHJcblxyXG5cdH0gZWxzZSB7XHJcblxyXG5cdFx0Ly8gQ3JlYXRlIGFuIGVtcHR5IGZ1bmN0aW9uIHRvIGFjdCBhcyB0aGUgbWlzc2luZyBjb25zdHJ1Y3RvciBmb3IgdGhlIGRvY3VtZW50IG9iamVjdCwgYXR0YWNoIHRoZSBkb2N1bWVudCBvYmplY3QgYXMgaXRzIHByb3RvdHlwZS4gIFRoZSBmdW5jdGlvbiBuZWVkcyB0byBiZSBhbm9ueW1vdXMgZWxzZSBpdCBpcyBob2lzdGVkIGFuZCBjYXVzZXMgdGhlIGZlYXR1cmUgZGV0ZWN0IHRvIHByZW1hdHVyZWx5IHBhc3MsIHByZXZlbnRpbmcgdGhlIGFzc2lnbm1lbnRzIGJlbG93IGJlaW5nIG1hZGUuXHJcblx0XHR0aGlzLkRvY3VtZW50ID0gdGhpcy5IVE1MRG9jdW1lbnQgPSBkb2N1bWVudC5jb25zdHJ1Y3RvciA9IChuZXcgRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiBEb2N1bWVudCgpIHt9JykoKSk7XHJcblx0XHR0aGlzLkRvY3VtZW50LnByb3RvdHlwZSA9IGRvY3VtZW50O1xyXG5cdH1cclxufVxyXG5cclxuXHJcbn0pXHJcbi5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0VsZW1lbnQvZGV0ZWN0LmpzXHJcbnZhciBkZXRlY3QgPSAoJ0VsZW1lbnQnIGluIHRoaXMgJiYgJ0hUTUxFbGVtZW50JyBpbiB0aGlzKTtcclxuXHJcbmlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuLy8gUG9seWZpbGwgZnJvbSBodHRwczovL2Nkbi5wb2x5ZmlsbC5pby92Mi9wb2x5ZmlsbC5qcz9mZWF0dXJlcz1FbGVtZW50JmZsYWdzPWFsd2F5c1xyXG4oZnVuY3Rpb24gKCkge1xyXG5cclxuXHQvLyBJRThcclxuXHRpZiAod2luZG93LkVsZW1lbnQgJiYgIXdpbmRvdy5IVE1MRWxlbWVudCkge1xyXG5cdFx0d2luZG93LkhUTUxFbGVtZW50ID0gd2luZG93LkVsZW1lbnQ7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyBjcmVhdGUgRWxlbWVudCBjb25zdHJ1Y3RvclxyXG5cdHdpbmRvdy5FbGVtZW50ID0gd2luZG93LkhUTUxFbGVtZW50ID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gZnVuY3Rpb24gRWxlbWVudCgpIHt9JykoKTtcclxuXHJcblx0Ly8gZ2VuZXJhdGUgc2FuZGJveGVkIGlmcmFtZVxyXG5cdHZhciB2Ym9keSA9IGRvY3VtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JvZHknKSk7XHJcblx0dmFyIGZyYW1lID0gdmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJykpO1xyXG5cclxuXHQvLyB1c2Ugc2FuZGJveGVkIGlmcmFtZSB0byByZXBsaWNhdGUgRWxlbWVudCBmdW5jdGlvbmFsaXR5XHJcblx0dmFyIGZyYW1lRG9jdW1lbnQgPSBmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG5cdHZhciBwcm90b3R5cGUgPSBFbGVtZW50LnByb3RvdHlwZSA9IGZyYW1lRG9jdW1lbnQuYXBwZW5kQ2hpbGQoZnJhbWVEb2N1bWVudC5jcmVhdGVFbGVtZW50KCcqJykpO1xyXG5cdHZhciBjYWNoZSA9IHt9O1xyXG5cclxuXHQvLyBwb2x5ZmlsbCBFbGVtZW50LnByb3RvdHlwZSBvbiBhbiBlbGVtZW50XHJcblx0dmFyIHNoaXYgPSBmdW5jdGlvbiAoZWxlbWVudCwgZGVlcCkge1xyXG5cdFx0dmFyXHJcblx0XHRjaGlsZE5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdLFxyXG5cdFx0aW5kZXggPSAtMSxcclxuXHRcdGtleSwgdmFsdWUsIGNoaWxkTm9kZTtcclxuXHJcblx0XHRpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAmJiBlbGVtZW50LmNvbnN0cnVjdG9yICE9PSBFbGVtZW50KSB7XHJcblx0XHRcdGVsZW1lbnQuY29uc3RydWN0b3IgPSBFbGVtZW50O1xyXG5cclxuXHRcdFx0Zm9yIChrZXkgaW4gY2FjaGUpIHtcclxuXHRcdFx0XHR2YWx1ZSA9IGNhY2hlW2tleV07XHJcblx0XHRcdFx0ZWxlbWVudFtrZXldID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR3aGlsZSAoY2hpbGROb2RlID0gZGVlcCAmJiBjaGlsZE5vZGVzWysraW5kZXhdKSB7XHJcblx0XHRcdHNoaXYoY2hpbGROb2RlLCBkZWVwKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZWxlbWVudDtcclxuXHR9O1xyXG5cclxuXHR2YXIgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpO1xyXG5cdHZhciBuYXRpdmVDcmVhdGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudDtcclxuXHR2YXIgaW50ZXJ2YWw7XHJcblx0dmFyIGxvb3BMaW1pdCA9IDEwMDtcclxuXHJcblx0cHJvdG90eXBlLmF0dGFjaEV2ZW50KCdvbnByb3BlcnR5Y2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcblx0XHR2YXJcclxuXHRcdHByb3BlcnR5TmFtZSA9IGV2ZW50LnByb3BlcnR5TmFtZSxcclxuXHRcdG5vblZhbHVlID0gIWNhY2hlLmhhc093blByb3BlcnR5KHByb3BlcnR5TmFtZSksXHJcblx0XHRuZXdWYWx1ZSA9IHByb3RvdHlwZVtwcm9wZXJ0eU5hbWVdLFxyXG5cdFx0b2xkVmFsdWUgPSBjYWNoZVtwcm9wZXJ0eU5hbWVdLFxyXG5cdFx0aW5kZXggPSAtMSxcclxuXHRcdGVsZW1lbnQ7XHJcblxyXG5cdFx0d2hpbGUgKGVsZW1lbnQgPSBlbGVtZW50c1srK2luZGV4XSkge1xyXG5cdFx0XHRpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gMSkge1xyXG5cdFx0XHRcdGlmIChub25WYWx1ZSB8fCBlbGVtZW50W3Byb3BlcnR5TmFtZV0gPT09IG9sZFZhbHVlKSB7XHJcblx0XHRcdFx0XHRlbGVtZW50W3Byb3BlcnR5TmFtZV0gPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRjYWNoZVtwcm9wZXJ0eU5hbWVdID0gbmV3VmFsdWU7XHJcblx0fSk7XHJcblxyXG5cdHByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEVsZW1lbnQ7XHJcblxyXG5cdGlmICghcHJvdG90eXBlLmhhc0F0dHJpYnV0ZSkge1xyXG5cdFx0Ly8gPEVsZW1lbnQ+Lmhhc0F0dHJpYnV0ZVxyXG5cdFx0cHJvdG90eXBlLmhhc0F0dHJpYnV0ZSA9IGZ1bmN0aW9uIGhhc0F0dHJpYnV0ZShuYW1lKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKSAhPT0gbnVsbDtcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLyBBcHBseSBFbGVtZW50IHByb3RvdHlwZSB0byB0aGUgcHJlLWV4aXN0aW5nIERPTSBhcyBzb29uIGFzIHRoZSBib2R5IGVsZW1lbnQgYXBwZWFycy5cclxuXHRmdW5jdGlvbiBib2R5Q2hlY2soKSB7XHJcblx0XHRpZiAoIShsb29wTGltaXQtLSkpIGNsZWFyVGltZW91dChpbnRlcnZhbCk7XHJcblx0XHRpZiAoZG9jdW1lbnQuYm9keSAmJiAhZG9jdW1lbnQuYm9keS5wcm90b3R5cGUgJiYgLyhjb21wbGV0ZXxpbnRlcmFjdGl2ZSkvLnRlc3QoZG9jdW1lbnQucmVhZHlTdGF0ZSkpIHtcclxuXHRcdFx0c2hpdihkb2N1bWVudCwgdHJ1ZSk7XHJcblx0XHRcdGlmIChpbnRlcnZhbCAmJiBkb2N1bWVudC5ib2R5LnByb3RvdHlwZSkgY2xlYXJUaW1lb3V0KGludGVydmFsKTtcclxuXHRcdFx0cmV0dXJuICghIWRvY3VtZW50LmJvZHkucHJvdG90eXBlKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblx0aWYgKCFib2R5Q2hlY2soKSkge1xyXG5cdFx0ZG9jdW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gYm9keUNoZWNrO1xyXG5cdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChib2R5Q2hlY2ssIDI1KTtcclxuXHR9XHJcblxyXG5cdC8vIEFwcGx5IHRvIGFueSBuZXcgZWxlbWVudHMgY3JlYXRlZCBhZnRlciBsb2FkXHJcblx0ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpIHtcclxuXHRcdHZhciBlbGVtZW50ID0gbmF0aXZlQ3JlYXRlRWxlbWVudChTdHJpbmcobm9kZU5hbWUpLnRvTG93ZXJDYXNlKCkpO1xyXG5cdFx0cmV0dXJuIHNoaXYoZWxlbWVudCk7XHJcblx0fTtcclxuXHJcblx0Ly8gcmVtb3ZlIHNhbmRib3hlZCBpZnJhbWVcclxuXHRkb2N1bWVudC5yZW1vdmVDaGlsZCh2Ym9keSk7XHJcbn0oKSk7XHJcblxyXG59KVxyXG4uY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvLyBEZXRlY3Rpb24gZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvODcxN2E5ZTA0YWM3YWZmOTliNDk4MGZiZWRlYWQ5ODAzNmIwOTI5YS9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9jbGFzc0xpc3QvZGV0ZWN0LmpzXHJcbiAgICB2YXIgZGV0ZWN0ID0gKFxyXG4gICAgICAnZG9jdW1lbnQnIGluIHRoaXMgJiYgXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgJ0VsZW1lbnQnIGluIHRoaXMgJiYgJ2NsYXNzTGlzdCcgaW4gRWxlbWVudC5wcm90b3R5cGUgJiYgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgICBlLmNsYXNzTGlzdC5hZGQoJ2EnLCAnYicpO1xyXG4gICAgICAgIHJldHVybiBlLmNsYXNzTGlzdC5jb250YWlucygnYicpO1xyXG4gICAgICB9KCkpXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAgIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9jZG4ucG9seWZpbGwuaW8vdjIvcG9seWZpbGwuanM/ZmVhdHVyZXM9RWxlbWVudC5wcm90b3R5cGUuY2xhc3NMaXN0JmZsYWdzPWFsd2F5c1xyXG4gICAgKGZ1bmN0aW9uIChnbG9iYWwpIHtcclxuICAgICAgdmFyIGRwU3VwcG9ydCA9IHRydWU7XHJcbiAgICAgIHZhciBkZWZpbmVHZXR0ZXIgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBmbiwgY29uZmlndXJhYmxlKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSlcclxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIHtcclxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSA9PT0gZHBTdXBwb3J0ID8gdHJ1ZSA6ICEhY29uZmlndXJhYmxlLFxyXG4gICAgICAgICAgICBnZXQ6IGZuXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZWxzZSBvYmplY3QuX19kZWZpbmVHZXR0ZXJfXyhuYW1lLCBmbik7XHJcbiAgICAgIH07XHJcbiAgICAgIC8qKiBFbnN1cmUgdGhlIGJyb3dzZXIgYWxsb3dzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB0byBiZSB1c2VkIG9uIG5hdGl2ZSBKYXZhU2NyaXB0IG9iamVjdHMuICovXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgZGVmaW5lR2V0dGVyKHt9LCBcInN1cHBvcnRcIik7XHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBkcFN1cHBvcnQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvKiogUG9seWZpbGxzIGEgcHJvcGVydHkgd2l0aCBhIERPTVRva2VuTGlzdCAqL1xyXG4gICAgICB2YXIgYWRkUHJvcCA9IGZ1bmN0aW9uIChvLCBuYW1lLCBhdHRyKSB7XHJcblxyXG4gICAgICAgIGRlZmluZUdldHRlcihvLnByb3RvdHlwZSwgbmFtZSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIHRva2VuTGlzdDtcclxuXHJcbiAgICAgICAgICB2YXIgVEhJUyA9IHRoaXMsXHJcblxyXG4gICAgICAgICAgLyoqIFByZXZlbnQgdGhpcyBmcm9tIGZpcmluZyB0d2ljZSBmb3Igc29tZSByZWFzb24uIFdoYXQgdGhlIGhlbGwsIElFLiAqL1xyXG4gICAgICAgICAgZ2liYmVyaXNoUHJvcGVydHkgPSBcIl9fZGVmaW5lR2V0dGVyX19cIiArIFwiREVGSU5FX1BST1BFUlRZXCIgKyBuYW1lO1xyXG4gICAgICAgICAgaWYoVEhJU1tnaWJiZXJpc2hQcm9wZXJ0eV0pIHJldHVybiB0b2tlbkxpc3Q7XHJcbiAgICAgICAgICBUSElTW2dpYmJlcmlzaFByb3BlcnR5XSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBJRTggY2FuJ3QgZGVmaW5lIHByb3BlcnRpZXMgb24gbmF0aXZlIEphdmFTY3JpcHQgb2JqZWN0cywgc28gd2UnbGwgdXNlIGEgZHVtYiBoYWNrIGluc3RlYWQuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogV2hhdCB0aGlzIGlzIGRvaW5nIGlzIGNyZWF0aW5nIGEgZHVtbXkgZWxlbWVudCAoXCJyZWZsZWN0aW9uXCIpIGluc2lkZSBhIGRldGFjaGVkIHBoYW50b20gbm9kZSAoXCJtaXJyb3JcIilcclxuICAgICAgICAgICAqIHRoYXQgc2VydmVzIGFzIHRoZSB0YXJnZXQgb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5IGluc3RlYWQuIFdoaWxlIHdlIGNvdWxkIHNpbXBseSB1c2UgdGhlIHN1YmplY3QgSFRNTFxyXG4gICAgICAgICAgICogZWxlbWVudCBpbnN0ZWFkLCB0aGlzIHdvdWxkIGNvbmZsaWN0IHdpdGggZWxlbWVudCB0eXBlcyB3aGljaCB1c2UgaW5kZXhlZCBwcm9wZXJ0aWVzIChzdWNoIGFzIGZvcm1zIGFuZFxyXG4gICAgICAgICAgICogc2VsZWN0IGxpc3RzKS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgaWYgKGZhbHNlID09PSBkcFN1cHBvcnQpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciB2aXNhZ2U7XHJcbiAgICAgICAgICAgIHZhciBtaXJyb3IgPSBhZGRQcm9wLm1pcnJvciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICB2YXIgcmVmbGVjdGlvbnMgPSBtaXJyb3IuY2hpbGROb2RlcztcclxuICAgICAgICAgICAgdmFyIGwgPSByZWZsZWN0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7ICsraSlcclxuICAgICAgICAgICAgICBpZiAocmVmbGVjdGlvbnNbaV0uX1IgPT09IFRISVMpIHtcclxuICAgICAgICAgICAgICAgIHZpc2FnZSA9IHJlZmxlY3Rpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyoqIENvdWxkbid0IGZpbmQgYW4gZWxlbWVudCdzIHJlZmxlY3Rpb24gaW5zaWRlIHRoZSBtaXJyb3IuIE1hdGVyaWFsaXNlIG9uZS4gKi9cclxuICAgICAgICAgICAgdmlzYWdlIHx8ICh2aXNhZ2UgPSBtaXJyb3IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkpO1xyXG5cclxuICAgICAgICAgICAgdG9rZW5MaXN0ID0gRE9NVG9rZW5MaXN0LmNhbGwodmlzYWdlLCBUSElTLCBhdHRyKTtcclxuICAgICAgICAgIH0gZWxzZSB0b2tlbkxpc3QgPSBuZXcgRE9NVG9rZW5MaXN0KFRISVMsIGF0dHIpO1xyXG5cclxuICAgICAgICAgIGRlZmluZUdldHRlcihUSElTLCBuYW1lLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlbkxpc3Q7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGRlbGV0ZSBUSElTW2dpYmJlcmlzaFByb3BlcnR5XTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gdG9rZW5MaXN0O1xyXG4gICAgICAgIH0sIHRydWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgYWRkUHJvcChnbG9iYWwuRWxlbWVudCwgXCJjbGFzc0xpc3RcIiwgXCJjbGFzc05hbWVcIik7XHJcbiAgICAgIGFkZFByb3AoZ2xvYmFsLkhUTUxFbGVtZW50LCBcImNsYXNzTGlzdFwiLCBcImNsYXNzTmFtZVwiKTtcclxuICAgICAgYWRkUHJvcChnbG9iYWwuSFRNTExpbmtFbGVtZW50LCBcInJlbExpc3RcIiwgXCJyZWxcIik7XHJcbiAgICAgIGFkZFByb3AoZ2xvYmFsLkhUTUxBbmNob3JFbGVtZW50LCBcInJlbExpc3RcIiwgXCJyZWxcIik7XHJcbiAgICAgIGFkZFByb3AoZ2xvYmFsLkhUTUxBcmVhRWxlbWVudCwgXCJyZWxMaXN0XCIsIFwicmVsXCIpO1xyXG4gICAgfSh0aGlzKSk7XHJcblxyXG59KS5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuZnVuY3Rpb24gQWNjb3JkaW9uICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLm1vZHVsZUlkID0gJG1vZHVsZS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgdGhpcy4kc2VjdGlvbnMgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5nb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24nKTtcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uID0gJyc7XHJcbiAgdGhpcy5icm93c2VyU3VwcG9ydHNTZXNzaW9uU3RvcmFnZSA9IGhlbHBlci5jaGVja0ZvclNlc3Npb25TdG9yYWdlKCk7XHJcblxyXG4gIHRoaXMuY29udHJvbHNDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX2NvbnRyb2xzJztcclxuICB0aGlzLnNob3dBbGxDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3Nob3ctYWxsJztcclxuICB0aGlzLnNob3dBbGxUZXh0Q2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zaG93LWFsbC10ZXh0JztcclxuXHJcbiAgdGhpcy5zZWN0aW9uRXhwYW5kZWRDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tLWV4cGFuZGVkJztcclxuICB0aGlzLnNlY3Rpb25CdXR0b25DbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tYnV0dG9uJztcclxuICB0aGlzLnNlY3Rpb25IZWFkZXJDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24taGVhZGVyJztcclxuICB0aGlzLnNlY3Rpb25IZWFkaW5nQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLWhlYWRpbmcnO1xyXG4gIHRoaXMuc2VjdGlvbkhlYWRpbmdUZXh0Q2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLWhlYWRpbmctdGV4dCc7XHJcbiAgdGhpcy5zZWN0aW9uSGVhZGluZ1RleHRGb2N1c0NsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1oZWFkaW5nLXRleHQtZm9jdXMnO1xyXG5cclxuICB0aGlzLnNlY3Rpb25TaG93SGlkZVRvZ2dsZUNsYXNzID0gJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi10b2dnbGUnO1xyXG4gIHRoaXMuc2VjdGlvblNob3dIaWRlVG9nZ2xlRm9jdXNDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tdG9nZ2xlLWZvY3VzJztcclxuICB0aGlzLnNlY3Rpb25TaG93SGlkZVRleHRDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tdG9nZ2xlLXRleHQnO1xyXG4gIHRoaXMudXBDaGV2cm9uSWNvbkNsYXNzID0gJ2dvdnVrLWFjY29yZGlvbi1uYXZfX2NoZXZyb24nO1xyXG4gIHRoaXMuZG93bkNoZXZyb25JY29uQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uLW5hdl9fY2hldnJvbi0tZG93bic7XHJcblxyXG4gIHRoaXMuc2VjdGlvblN1bW1hcnlDbGFzcyA9ICdnb3Z1ay1hY2NvcmRpb25fX3NlY3Rpb24tc3VtbWFyeSc7XHJcbiAgdGhpcy5zZWN0aW9uU3VtbWFyeUZvY3VzQ2xhc3MgPSAnZ292dWstYWNjb3JkaW9uX19zZWN0aW9uLXN1bW1hcnktZm9jdXMnO1xyXG59XHJcblxyXG4vLyBJbml0aWFsaXplIGNvbXBvbmVudFxyXG5BY2NvcmRpb24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2hlY2sgZm9yIG1vZHVsZVxyXG4gIGlmICghdGhpcy4kbW9kdWxlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIHRoaXMuaW5pdENvbnRyb2xzKCk7XHJcbiAgdGhpcy5pbml0U2VjdGlvbkhlYWRlcnMoKTtcclxuXHJcbiAgLy8gU2VlIGlmIFwiU2hvdyBhbGwgc2VjdGlvbnNcIiBidXR0b24gdGV4dCBzaG91bGQgYmUgdXBkYXRlZFxyXG4gIHZhciBhcmVBbGxTZWN0aW9uc09wZW4gPSB0aGlzLmNoZWNrSWZBbGxTZWN0aW9uc09wZW4oKTtcclxuICB0aGlzLnVwZGF0ZVNob3dBbGxCdXR0b24oYXJlQWxsU2VjdGlvbnNPcGVuKTtcclxufTtcclxuXHJcbi8vIEluaXRpYWxpc2UgY29udHJvbHMgYW5kIHNldCBhdHRyaWJ1dGVzXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuaW5pdENvbnRyb2xzID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIENyZWF0ZSBcIlNob3cgYWxsXCIgYnV0dG9uIGFuZCBzZXQgYXR0cmlidXRlc1xyXG4gIHRoaXMuJHNob3dBbGxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcclxuICB0aGlzLiRzaG93QWxsQnV0dG9uLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0aGlzLnNob3dBbGxDbGFzcyk7XHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcclxuXHJcbiAgLy8gQ3JlYXRlIGljb24sIGFkZCB0byBlbGVtZW50XHJcbiAgdmFyICRpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICRpY29uLmNsYXNzTGlzdC5hZGQodGhpcy51cENoZXZyb25JY29uQ2xhc3MpO1xyXG4gIHRoaXMuJHNob3dBbGxCdXR0b24uYXBwZW5kQ2hpbGQoJGljb24pO1xyXG5cclxuICAvLyBDcmVhdGUgY29udHJvbCB3cmFwcGVyIGFuZCBhZGQgY29udHJvbHMgdG8gaXRcclxuICB2YXIgJGFjY29yZGlvbkNvbnRyb2xzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgJGFjY29yZGlvbkNvbnRyb2xzLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCB0aGlzLmNvbnRyb2xzQ2xhc3MpO1xyXG4gICRhY2NvcmRpb25Db250cm9scy5hcHBlbmRDaGlsZCh0aGlzLiRzaG93QWxsQnV0dG9uKTtcclxuICB0aGlzLiRtb2R1bGUuaW5zZXJ0QmVmb3JlKCRhY2NvcmRpb25Db250cm9scywgdGhpcy4kbW9kdWxlLmZpcnN0Q2hpbGQpO1xyXG5cclxuICAvLyBCdWlsZCBhZGRpdGlvbmFsIHdyYXBwZXIgZm9yIFNob3cgYWxsIHRvZ2dsZSB0ZXh0IGFuZCBwbGFjZSBhZnRlciBpY29uXHJcbiAgdmFyICR3cmFwcGVyc2hvd0FsbFRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJHdyYXBwZXJzaG93QWxsVGV4dC5jbGFzc0xpc3QuYWRkKHRoaXMuc2hvd0FsbFRleHRDbGFzcyk7XHJcbiAgdGhpcy4kc2hvd0FsbEJ1dHRvbi5hcHBlbmRDaGlsZCgkd3JhcHBlcnNob3dBbGxUZXh0KTtcclxuXHJcbiAgLy8gSGFuZGxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgc2hvdy9oaWRlIGFsbCBidXR0b25cclxuICB0aGlzLiRzaG93QWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vblNob3dPckhpZGVBbGxUb2dnbGUuYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXNlIHNlY3Rpb24gaGVhZGVyc1xyXG5BY2NvcmRpb24ucHJvdG90eXBlLmluaXRTZWN0aW9uSGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBMb29wIHRocm91Z2ggc2VjdGlvbiBoZWFkZXJzXHJcbiAgbm9kZUxpc3RGb3JFYWNoKHRoaXMuJHNlY3Rpb25zLCBmdW5jdGlvbiAoJHNlY3Rpb24sIGkpIHtcclxuICAgIC8vIFNldCBoZWFkZXIgYXR0cmlidXRlc1xyXG4gICAgdmFyICRoZWFkZXIgPSAkc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvbkhlYWRlckNsYXNzKTtcclxuICAgIHRoaXMuY29uc3RydWN0SGVhZGVyTWFya3VwKCRoZWFkZXIsIGkpO1xyXG4gICAgdGhpcy5zZXRFeHBhbmRlZCh0aGlzLmlzRXhwYW5kZWQoJHNlY3Rpb24pLCAkc2VjdGlvbik7XHJcblxyXG4gICAgLy8gSGFuZGxlIGV2ZW50c1xyXG4gICAgJGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25TZWN0aW9uVG9nZ2xlLmJpbmQodGhpcywgJHNlY3Rpb24pKTtcclxuXHJcbiAgICAvLyBTZWUgaWYgdGhlcmUgaXMgYW55IHN0YXRlIHN0b3JlZCBpbiBzZXNzaW9uU3RvcmFnZSBhbmQgc2V0IHRoZSBzZWN0aW9ucyB0b1xyXG4gICAgLy8gb3BlbiBvciBjbG9zZWQuXHJcbiAgICB0aGlzLnNldEluaXRpYWxTdGF0ZSgkc2VjdGlvbik7XHJcbiAgfS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuY29uc3RydWN0SGVhZGVyTWFya3VwID0gZnVuY3Rpb24gKCRoZWFkZXJXcmFwcGVyLCBpbmRleCkge1xyXG4gIHZhciAkc3BhbiA9ICRoZWFkZXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWN0aW9uQnV0dG9uQ2xhc3MpO1xyXG4gIHZhciAkaGVhZGluZyA9ICRoZWFkZXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWN0aW9uSGVhZGluZ0NsYXNzKTtcclxuICB2YXIgJHN1bW1hcnkgPSAkaGVhZGVyV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvblN1bW1hcnlDbGFzcyk7XHJcblxyXG4gIC8vIENyZWF0ZSBhIGJ1dHRvbiBlbGVtZW50IHRoYXQgd2lsbCByZXBsYWNlIHRoZSAnLmdvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1idXR0b24nIHNwYW5cclxuICB2YXIgJGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICRidXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xyXG4gICRidXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgdGhpcy5tb2R1bGVJZCArICctY29udGVudC0nICsgKGluZGV4ICsgMSkpO1xyXG5cclxuICAvLyBDb3B5IGFsbCBhdHRyaWJ1dGVzIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9hdHRyaWJ1dGVzKSBmcm9tICRzcGFuIHRvICRidXR0b25cclxuICBmb3IgKHZhciBpID0gMDsgaSA8ICRzcGFuLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIHZhciBhdHRyID0gJHNwYW4uYXR0cmlidXRlcy5pdGVtKGkpO1xyXG4gICAgLy8gQWRkIGFsbCBhdHRyaWJ1dGVzIGJ1dCBub3QgSUQgYXMgdGhpcyBpcyBiZWluZyBhZGRlZCB0b1xyXG4gICAgLy8gdGhlIHNlY3Rpb24gaGVhZGluZyAoJGhlYWRpbmdUZXh0KVxyXG4gICAgaWYgKGF0dHIubm9kZU5hbWUgIT09ICdpZCcpIHtcclxuICAgICAgJGJ1dHRvbi5zZXRBdHRyaWJ1dGUoYXR0ci5ub2RlTmFtZSwgYXR0ci5ub2RlVmFsdWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRlIGNvbnRhaW5lciBmb3IgaGVhZGluZyB0ZXh0IHNvIGl0IGNhbiBiZSBzdHlsZWRcclxuICB2YXIgJGhlYWRpbmdUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICRoZWFkaW5nVGV4dC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvbkhlYWRpbmdUZXh0Q2xhc3MpO1xyXG4gIC8vIENvcHkgdGhlIHNwYW4gSUQgdG8gdGhlIGhlYWRpbmcgdGV4dCB0byBhbGxvdyBpdCB0byBiZSByZWZlcmVuY2VkIGJ5IGBhcmlhLWxhYmVsbGVkYnlgIG9uIHRoZVxyXG4gIC8vIGhpZGRlbiBjb250ZW50IGFyZWEgd2l0aG91dCBcIlNob3cgdGhpcyBzZWN0aW9uXCJcclxuICAkaGVhZGluZ1RleHQuaWQgPSAkc3Bhbi5pZDtcclxuXHJcbiAgLy8gQ3JlYXRlIGFuIGlubmVyIGhlYWRpbmcgdGV4dCBjb250YWluZXIgdG8gbGltaXQgdGhlIHdpZHRoIG9mIHRoZSBmb2N1cyBzdGF0ZVxyXG4gIHZhciAkaGVhZGluZ1RleHRGb2N1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAkaGVhZGluZ1RleHRGb2N1cy5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvbkhlYWRpbmdUZXh0Rm9jdXNDbGFzcyk7XHJcbiAgJGhlYWRpbmdUZXh0LmFwcGVuZENoaWxkKCRoZWFkaW5nVGV4dEZvY3VzKTtcclxuICAvLyBzcGFuIGNvdWxkIGNvbnRhaW4gSFRNTCBlbGVtZW50cyAoc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDExL1dELWh0bWw1LTIwMTEwNTI1L2NvbnRlbnQtbW9kZWxzLmh0bWwjcGhyYXNpbmctY29udGVudClcclxuICAkaGVhZGluZ1RleHRGb2N1cy5pbm5lckhUTUwgPSAkc3Bhbi5pbm5lckhUTUw7XHJcblxyXG4gIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIHNob3cgLyBoaWRlIGljb25zIGFuZCB0ZXh0LlxyXG4gIHZhciAkc2hvd1RvZ2dsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAkc2hvd1RvZ2dsZS5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvblNob3dIaWRlVG9nZ2xlQ2xhc3MpO1xyXG4gIC8vIFRlbGwgR29vZ2xlIG5vdCB0byBpbmRleCB0aGUgJ3Nob3cnIHRleHQgYXMgcGFydCBvZiB0aGUgaGVhZGluZ1xyXG4gIC8vIEZvciB0aGUgc25pcHBldCB0byB3b3JrIHdpdGggSmF2YVNjcmlwdCwgaXQgbXVzdCBiZSBhZGRlZCBiZWZvcmUgYWRkaW5nIHRoZSBwYWdlIGVsZW1lbnQgdG8gdGhlXHJcbiAgLy8gcGFnZSdzIERPTS4gU2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3NlYXJjaC9kb2NzL2FkdmFuY2VkL3JvYm90cy9yb2JvdHNfbWV0YV90YWcjZGF0YS1ub3NuaXBwZXQtYXR0clxyXG4gICRzaG93VG9nZ2xlLnNldEF0dHJpYnV0ZSgnZGF0YS1ub3NuaXBwZXQnLCAnJyk7XHJcbiAgLy8gQ3JlYXRlIGFuIGlubmVyIGNvbnRhaW5lciB0byBsaW1pdCB0aGUgd2lkdGggb2YgdGhlIGZvY3VzIHN0YXRlXHJcbiAgdmFyICRzaG93VG9nZ2xlRm9jdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJHNob3dUb2dnbGVGb2N1cy5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvblNob3dIaWRlVG9nZ2xlRm9jdXNDbGFzcyk7XHJcbiAgJHNob3dUb2dnbGUuYXBwZW5kQ2hpbGQoJHNob3dUb2dnbGVGb2N1cyk7XHJcbiAgLy8gQ3JlYXRlIHdyYXBwZXIgZm9yIHRoZSBzaG93IC8gaGlkZSB0ZXh0LiBBcHBlbmQgdGV4dCBhZnRlciB0aGUgc2hvdy9oaWRlIGljb25cclxuICB2YXIgJHNob3dUb2dnbGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gIHZhciAkaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAkaWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMudXBDaGV2cm9uSWNvbkNsYXNzKTtcclxuICAkc2hvd1RvZ2dsZUZvY3VzLmFwcGVuZENoaWxkKCRpY29uKTtcclxuICAkc2hvd1RvZ2dsZVRleHQuY2xhc3NMaXN0LmFkZCh0aGlzLnNlY3Rpb25TaG93SGlkZVRleHRDbGFzcyk7XHJcbiAgJHNob3dUb2dnbGVGb2N1cy5hcHBlbmRDaGlsZCgkc2hvd1RvZ2dsZVRleHQpO1xyXG5cclxuICAvLyBBcHBlbmQgZWxlbWVudHMgdG8gdGhlIGJ1dHRvbjpcclxuICAvLyAxLiBIZWFkaW5nIHRleHRcclxuICAvLyAyLiBQdW5jdHVhdGlvblxyXG4gIC8vIDMuIChPcHRpb25hbDogU3VtbWFyeSBsaW5lIGZvbGxvd2VkIGJ5IHB1bmN0dWF0aW9uKVxyXG4gIC8vIDQuIFNob3cgLyBoaWRlIHRvZ2dsZVxyXG4gICRidXR0b24uYXBwZW5kQ2hpbGQoJGhlYWRpbmdUZXh0KTtcclxuICAkYnV0dG9uLmFwcGVuZENoaWxkKHRoaXMuZ2V0QnV0dG9uUHVuY3R1YXRpb25FbCgpKTtcclxuXHJcbiAgLy8gSWYgc3VtbWFyeSBjb250ZW50IGV4aXN0cyBhZGQgdG8gRE9NIGluIGNvcnJlY3Qgb3JkZXJcclxuICBpZiAodHlwZW9mICgkc3VtbWFyeSkgIT09ICd1bmRlZmluZWQnICYmICRzdW1tYXJ5ICE9PSBudWxsKSB7XHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgYHNwYW5gIGVsZW1lbnQgYW5kIGNvcHkgdGhlIHN1bW1hcnkgbGluZSBjb250ZW50IGZyb20gdGhlIG9yaWdpbmFsIGBkaXZgIHRvIHRoZVxyXG4gICAgLy8gbmV3IGBzcGFuYFxyXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZSBzdW1tYXJ5IGxpbmUgdGV4dCBpcyBub3cgaW5zaWRlIGEgYnV0dG9uIGVsZW1lbnQsIHdoaWNoIGNhbiBvbmx5IGNvbnRhaW5cclxuICAgIC8vIHBocmFzaW5nIGNvbnRlbnRcclxuICAgIHZhciAkc3VtbWFyeVNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAvLyBDcmVhdGUgYW4gaW5uZXIgc3VtbWFyeSBjb250YWluZXIgdG8gbGltaXQgdGhlIHdpZHRoIG9mIHRoZSBzdW1tYXJ5IGZvY3VzIHN0YXRlXHJcbiAgICB2YXIgJHN1bW1hcnlTcGFuRm9jdXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAkc3VtbWFyeVNwYW5Gb2N1cy5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvblN1bW1hcnlGb2N1c0NsYXNzKTtcclxuICAgICRzdW1tYXJ5U3Bhbi5hcHBlbmRDaGlsZCgkc3VtbWFyeVNwYW5Gb2N1cyk7XHJcblxyXG4gICAgLy8gR2V0IG9yaWdpbmFsIGF0dHJpYnV0ZXMsIGFuZCBwYXNzIHRoZW0gdG8gdGhlIHJlcGxhY2VtZW50XHJcbiAgICBmb3IgKHZhciBqID0gMCwgbCA9ICRzdW1tYXJ5LmF0dHJpYnV0ZXMubGVuZ3RoOyBqIDwgbDsgKytqKSB7XHJcbiAgICAgIHZhciBub2RlTmFtZSA9ICRzdW1tYXJ5LmF0dHJpYnV0ZXMuaXRlbShqKS5ub2RlTmFtZTtcclxuICAgICAgdmFyIG5vZGVWYWx1ZSA9ICRzdW1tYXJ5LmF0dHJpYnV0ZXMuaXRlbShqKS5ub2RlVmFsdWU7XHJcbiAgICAgICRzdW1tYXJ5U3Bhbi5zZXRBdHRyaWJ1dGUobm9kZU5hbWUsIG5vZGVWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29weSBvcmlnaW5hbCBjb250ZW50cyBvZiBzdW1tYXJ5IHRvIHRoZSBuZXcgc3VtbWFyeSBzcGFuXHJcbiAgICAkc3VtbWFyeVNwYW5Gb2N1cy5pbm5lckhUTUwgPSAkc3VtbWFyeS5pbm5lckhUTUw7XHJcblxyXG4gICAgLy8gUmVwbGFjZSB0aGUgb3JpZ2luYWwgc3VtbWFyeSBgZGl2YCB3aXRoIHRoZSBuZXcgc3VtbWFyeSBgc3BhbmBcclxuICAgICRzdW1tYXJ5LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKCRzdW1tYXJ5U3BhbiwgJHN1bW1hcnkpO1xyXG5cclxuICAgICRidXR0b24uYXBwZW5kQ2hpbGQoJHN1bW1hcnlTcGFuKTtcclxuICAgICRidXR0b24uYXBwZW5kQ2hpbGQodGhpcy5nZXRCdXR0b25QdW5jdHVhdGlvbkVsKCkpO1xyXG4gIH1cclxuXHJcbiAgJGJ1dHRvbi5hcHBlbmRDaGlsZCgkc2hvd1RvZ2dsZSk7XHJcblxyXG4gICRoZWFkaW5nLnJlbW92ZUNoaWxkKCRzcGFuKTtcclxuICAkaGVhZGluZy5hcHBlbmRDaGlsZCgkYnV0dG9uKTtcclxufTtcclxuXHJcbi8vIFdoZW4gc2VjdGlvbiB0b2dnbGVkLCBzZXQgYW5kIHN0b3JlIHN0YXRlXHJcbkFjY29yZGlvbi5wcm90b3R5cGUub25TZWN0aW9uVG9nZ2xlID0gZnVuY3Rpb24gKCRzZWN0aW9uKSB7XHJcbiAgdmFyIGV4cGFuZGVkID0gdGhpcy5pc0V4cGFuZGVkKCRzZWN0aW9uKTtcclxuICB0aGlzLnNldEV4cGFuZGVkKCFleHBhbmRlZCwgJHNlY3Rpb24pO1xyXG5cclxuICAvLyBTdG9yZSB0aGUgc3RhdGUgaW4gc2Vzc2lvblN0b3JhZ2Ugd2hlbiBhIGNoYW5nZSBpcyB0cmlnZ2VyZWRcclxuICB0aGlzLnN0b3JlU3RhdGUoJHNlY3Rpb24pO1xyXG59O1xyXG5cclxuLy8gV2hlbiBPcGVuL0Nsb3NlIEFsbCB0b2dnbGVkLCBzZXQgYW5kIHN0b3JlIHN0YXRlXHJcbkFjY29yZGlvbi5wcm90b3R5cGUub25TaG93T3JIaWRlQWxsVG9nZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcztcclxuICB2YXIgJHNlY3Rpb25zID0gdGhpcy4kc2VjdGlvbnM7XHJcbiAgdmFyIG5vd0V4cGFuZGVkID0gIXRoaXMuY2hlY2tJZkFsbFNlY3Rpb25zT3BlbigpO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goJHNlY3Rpb25zLCBmdW5jdGlvbiAoJHNlY3Rpb24pIHtcclxuICAgICRtb2R1bGUuc2V0RXhwYW5kZWQobm93RXhwYW5kZWQsICRzZWN0aW9uKTtcclxuICAgIC8vIFN0b3JlIHRoZSBzdGF0ZSBpbiBzZXNzaW9uU3RvcmFnZSB3aGVuIGEgY2hhbmdlIGlzIHRyaWdnZXJlZFxyXG4gICAgJG1vZHVsZS5zdG9yZVN0YXRlKCRzZWN0aW9uKTtcclxuICB9KTtcclxuXHJcbiAgJG1vZHVsZS51cGRhdGVTaG93QWxsQnV0dG9uKG5vd0V4cGFuZGVkKTtcclxufTtcclxuXHJcbi8vIFNldCBzZWN0aW9uIGF0dHJpYnV0ZXMgd2hlbiBvcGVuZWQvY2xvc2VkXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuc2V0RXhwYW5kZWQgPSBmdW5jdGlvbiAoZXhwYW5kZWQsICRzZWN0aW9uKSB7XHJcbiAgdmFyICRpY29uID0gJHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnVwQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgdmFyICRzaG93SGlkZVRleHQgPSAkc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VjdGlvblNob3dIaWRlVGV4dENsYXNzKTtcclxuICB2YXIgJGJ1dHRvbiA9ICRzZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWN0aW9uQnV0dG9uQ2xhc3MpO1xyXG4gIHZhciBuZXdCdXR0b25UZXh0ID0gZXhwYW5kZWQgPyAnSGlkZScgOiAnU2hvdyc7XHJcblxyXG4gIC8vIEJ1aWxkIGFkZGl0aW9uYWwgY29weSBvZiBcInRoaXMgc2VjdGlvblwiIGZvciBhc3Npc3RpdmUgdGVjaG5vbG9neSBhbmQgcGxhY2UgaW5zaWRlIHRvZ2dsZSBsaW5rXHJcbiAgdmFyICR2aXN1YWxseUhpZGRlblRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJHZpc3VhbGx5SGlkZGVuVGV4dC5jbGFzc0xpc3QuYWRkKCdnb3Z1ay12aXN1YWxseS1oaWRkZW4nKTtcclxuICAkdmlzdWFsbHlIaWRkZW5UZXh0LmlubmVySFRNTCA9ICcgdGhpcyBzZWN0aW9uJztcclxuXHJcbiAgJHNob3dIaWRlVGV4dC5pbm5lckhUTUwgPSBuZXdCdXR0b25UZXh0O1xyXG4gICRzaG93SGlkZVRleHQuYXBwZW5kQ2hpbGQoJHZpc3VhbGx5SGlkZGVuVGV4dCk7XHJcbiAgJGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBleHBhbmRlZCk7XHJcblxyXG4gIC8vIFN3YXAgaWNvbiwgY2hhbmdlIGNsYXNzXHJcbiAgaWYgKGV4cGFuZGVkKSB7XHJcbiAgICAkc2VjdGlvbi5jbGFzc0xpc3QuYWRkKHRoaXMuc2VjdGlvbkV4cGFuZGVkQ2xhc3MpO1xyXG4gICAgJGljb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmRvd25DaGV2cm9uSWNvbkNsYXNzKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJHNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlY3Rpb25FeHBhbmRlZENsYXNzKTtcclxuICAgICRpY29uLmNsYXNzTGlzdC5hZGQodGhpcy5kb3duQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgfVxyXG5cclxuICAvLyBTZWUgaWYgXCJTaG93IGFsbCBzZWN0aW9uc1wiIGJ1dHRvbiB0ZXh0IHNob3VsZCBiZSB1cGRhdGVkXHJcbiAgdmFyIGFyZUFsbFNlY3Rpb25zT3BlbiA9IHRoaXMuY2hlY2tJZkFsbFNlY3Rpb25zT3BlbigpO1xyXG4gIHRoaXMudXBkYXRlU2hvd0FsbEJ1dHRvbihhcmVBbGxTZWN0aW9uc09wZW4pO1xyXG59O1xyXG5cclxuLy8gR2V0IHN0YXRlIG9mIHNlY3Rpb25cclxuQWNjb3JkaW9uLnByb3RvdHlwZS5pc0V4cGFuZGVkID0gZnVuY3Rpb24gKCRzZWN0aW9uKSB7XHJcbiAgcmV0dXJuICRzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLnNlY3Rpb25FeHBhbmRlZENsYXNzKVxyXG59O1xyXG5cclxuLy8gQ2hlY2sgaWYgYWxsIHNlY3Rpb25zIGFyZSBvcGVuXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuY2hlY2tJZkFsbFNlY3Rpb25zT3BlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBHZXQgYSBjb3VudCBvZiBhbGwgdGhlIEFjY29yZGlvbiBzZWN0aW9uc1xyXG4gIHZhciBzZWN0aW9uc0NvdW50ID0gdGhpcy4kc2VjdGlvbnMubGVuZ3RoO1xyXG4gIC8vIEdldCBhIGNvdW50IG9mIGFsbCBBY2NvcmRpb24gc2VjdGlvbnMgdGhhdCBhcmUgZXhwYW5kZWRcclxuICB2YXIgZXhwYW5kZWRTZWN0aW9uQ291bnQgPSB0aGlzLiRtb2R1bGUucXVlcnlTZWxlY3RvckFsbCgnLicgKyB0aGlzLnNlY3Rpb25FeHBhbmRlZENsYXNzKS5sZW5ndGg7XHJcbiAgdmFyIGFyZUFsbFNlY3Rpb25zT3BlbiA9IHNlY3Rpb25zQ291bnQgPT09IGV4cGFuZGVkU2VjdGlvbkNvdW50O1xyXG5cclxuICByZXR1cm4gYXJlQWxsU2VjdGlvbnNPcGVuXHJcbn07XHJcblxyXG4vLyBVcGRhdGUgXCJTaG93IGFsbCBzZWN0aW9uc1wiIGJ1dHRvblxyXG5BY2NvcmRpb24ucHJvdG90eXBlLnVwZGF0ZVNob3dBbGxCdXR0b24gPSBmdW5jdGlvbiAoZXhwYW5kZWQpIHtcclxuICB2YXIgJHNob3dBbGxJY29uID0gdGhpcy4kc2hvd0FsbEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMudXBDaGV2cm9uSWNvbkNsYXNzKTtcclxuICB2YXIgJHNob3dBbGxUZXh0ID0gdGhpcy4kc2hvd0FsbEJ1dHRvbi5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2hvd0FsbFRleHRDbGFzcyk7XHJcbiAgdmFyIG5ld0J1dHRvblRleHQgPSBleHBhbmRlZCA/ICdIaWRlIGFsbCBzZWN0aW9ucycgOiAnU2hvdyBhbGwgc2VjdGlvbnMnO1xyXG4gIHRoaXMuJHNob3dBbGxCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZXhwYW5kZWQpO1xyXG4gICRzaG93QWxsVGV4dC5pbm5lckhUTUwgPSBuZXdCdXR0b25UZXh0O1xyXG5cclxuICAvLyBTd2FwIGljb24sIHRvZ2dsZSBjbGFzc1xyXG4gIGlmIChleHBhbmRlZCkge1xyXG4gICAgJHNob3dBbGxJY29uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5kb3duQ2hldnJvbkljb25DbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICRzaG93QWxsSWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMuZG93bkNoZXZyb25JY29uQ2xhc3MpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIENoZWNrIGZvciBgd2luZG93LnNlc3Npb25TdG9yYWdlYCwgYW5kIHRoYXQgaXQgYWN0dWFsbHkgd29ya3MuXHJcbnZhciBoZWxwZXIgPSB7XHJcbiAgY2hlY2tGb3JTZXNzaW9uU3RvcmFnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRlc3RTdHJpbmcgPSAndGhpcyBpcyB0aGUgdGVzdCBzdHJpbmcnO1xyXG4gICAgdmFyIHJlc3VsdDtcclxuICAgIHRyeSB7XHJcbiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRlc3RTdHJpbmcsIHRlc3RTdHJpbmcpO1xyXG4gICAgICByZXN1bHQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh0ZXN0U3RyaW5nKSA9PT0gdGVzdFN0cmluZy50b1N0cmluZygpO1xyXG4gICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSh0ZXN0U3RyaW5nKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8vIFNldCB0aGUgc3RhdGUgb2YgdGhlIGFjY29yZGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2VcclxuQWNjb3JkaW9uLnByb3RvdHlwZS5zdG9yZVN0YXRlID0gZnVuY3Rpb24gKCRzZWN0aW9uKSB7XHJcbiAgaWYgKHRoaXMuYnJvd3NlclN1cHBvcnRzU2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgIC8vIFdlIG5lZWQgYSB1bmlxdWUgd2F5IG9mIGlkZW50aWZ5aW5nIGVhY2ggY29udGVudCBpbiB0aGUgQWNjb3JkaW9uLiBTaW5jZVxyXG4gICAgLy8gYW4gYCNpZGAgc2hvdWxkIGJlIHVuaXF1ZSBhbmQgYW4gYGlkYCBpcyByZXF1aXJlZCBmb3IgYGFyaWEtYCBhdHRyaWJ1dGVzXHJcbiAgICAvLyBgaWRgIGNhbiBiZSBzYWZlbHkgdXNlZC5cclxuICAgIHZhciAkYnV0dG9uID0gJHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlY3Rpb25CdXR0b25DbGFzcyk7XHJcblxyXG4gICAgaWYgKCRidXR0b24pIHtcclxuICAgICAgdmFyIGNvbnRlbnRJZCA9ICRidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XHJcbiAgICAgIHZhciBjb250ZW50U3RhdGUgPSAkYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpO1xyXG5cclxuICAgICAgLy8gT25seSBzZXQgdGhlIHN0YXRlIHdoZW4gYm90aCBgY29udGVudElkYCBhbmQgYGNvbnRlbnRTdGF0ZWAgYXJlIHRha2VuIGZyb20gdGhlIERPTS5cclxuICAgICAgaWYgKGNvbnRlbnRJZCAmJiBjb250ZW50U3RhdGUpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShjb250ZW50SWQsIGNvbnRlbnRTdGF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vLyBSZWFkIHRoZSBzdGF0ZSBvZiB0aGUgYWNjb3JkaW9ucyBmcm9tIHNlc3Npb25TdG9yYWdlXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuc2V0SW5pdGlhbFN0YXRlID0gZnVuY3Rpb24gKCRzZWN0aW9uKSB7XHJcbiAgaWYgKHRoaXMuYnJvd3NlclN1cHBvcnRzU2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgIHZhciAkYnV0dG9uID0gJHNlY3Rpb24ucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlY3Rpb25CdXR0b25DbGFzcyk7XHJcblxyXG4gICAgaWYgKCRidXR0b24pIHtcclxuICAgICAgdmFyIGNvbnRlbnRJZCA9ICRidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XHJcbiAgICAgIHZhciBjb250ZW50U3RhdGUgPSBjb250ZW50SWQgPyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShjb250ZW50SWQpIDogbnVsbDtcclxuXHJcbiAgICAgIGlmIChjb250ZW50U3RhdGUgIT09IG51bGwpIHtcclxuICAgICAgICB0aGlzLnNldEV4cGFuZGVkKGNvbnRlbnRTdGF0ZSA9PT0gJ3RydWUnLCAkc2VjdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuKiBDcmVhdGUgYW4gZWxlbWVudCB0byBpbXByb3ZlIHNlbWFudGljcyBvZiB0aGUgc2VjdGlvbiBidXR0b24gd2l0aCBwdW5jdHVhdGlvblxyXG4qIEByZXR1cm4ge29iamVjdH0gRE9NIGVsZW1lbnRcclxuKlxyXG4qIFVzZWQgdG8gYWRkIHBhdXNlICh3aXRoIGEgY29tbWEpIGZvciBhc3Npc3RpdmUgdGVjaG5vbG9neS5cclxuKiBFeGFtcGxlOiBbaGVhZGluZ11TZWN0aW9uIEEgLFtwYXVzZV0gU2hvdyB0aGlzIHNlY3Rpb24uXHJcbiogaHR0cHM6Ly9hY2Nlc3NpYmlsaXR5LmJsb2cuZ292LnVrLzIwMTcvMTIvMTgvd2hhdC13b3JraW5nLW9uLWdvdi11ay1uYXZpZ2F0aW9uLXRhdWdodC11cy1hYm91dC1hY2Nlc3NpYmlsaXR5L1xyXG4qXHJcbiogQWRkaW5nIHB1bmN0dWF0aW9uIHRvIHRoZSBidXR0b24gY2FuIGFsc28gaW1wcm92ZSBpdHMgZ2VuZXJhbCBzZW1hbnRpY3MgYnkgZGl2aWRpbmcgaXRzIGNvbnRlbnRzXHJcbiogaW50byB0aGVtYXRpYyBjaHVua3MuXHJcbiogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbHBoYWdvdi9nb3Z1ay1mcm9udGVuZC9pc3N1ZXMvMjMyNyNpc3N1ZWNvbW1lbnQtOTIyOTU3NDQyXHJcbiovXHJcbkFjY29yZGlvbi5wcm90b3R5cGUuZ2V0QnV0dG9uUHVuY3R1YXRpb25FbCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJHB1bmN0dWF0aW9uRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgJHB1bmN0dWF0aW9uRWwuY2xhc3NMaXN0LmFkZCgnZ292dWstdmlzdWFsbHktaGlkZGVuJywgJ2dvdnVrLWFjY29yZGlvbl9fc2VjdGlvbi1oZWFkaW5nLWRpdmlkZXInKTtcclxuICAkcHVuY3R1YXRpb25FbC5pbm5lckhUTUwgPSAnLCAnO1xyXG4gIHJldHVybiAkcHVuY3R1YXRpb25FbFxyXG59O1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL1dpbmRvdy9kZXRlY3QuanNcclxudmFyIGRldGVjdCA9ICgnV2luZG93JyBpbiB0aGlzKTtcclxuXHJcbmlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuLy8gUG9seWZpbGwgZnJvbSBodHRwczovL2Nkbi5wb2x5ZmlsbC5pby92Mi9wb2x5ZmlsbC5qcz9mZWF0dXJlcz1XaW5kb3cmZmxhZ3M9YWx3YXlzXHJcbmlmICgodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlID09PSBcInVuZGVmaW5lZFwiKSAmJiAodHlwZW9mIGltcG9ydFNjcmlwdHMgIT09IFwiZnVuY3Rpb25cIikpIHtcclxuXHQoZnVuY3Rpb24gKGdsb2JhbCkge1xyXG5cdFx0aWYgKGdsb2JhbC5jb25zdHJ1Y3Rvcikge1xyXG5cdFx0XHRnbG9iYWwuV2luZG93ID0gZ2xvYmFsLmNvbnN0cnVjdG9yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0KGdsb2JhbC5XaW5kb3cgPSBnbG9iYWwuY29uc3RydWN0b3IgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiBmdW5jdGlvbiBXaW5kb3coKSB7fScpKCkpLnByb3RvdHlwZSA9IHRoaXM7XHJcblx0XHR9XHJcblx0fSh0aGlzKSk7XHJcbn1cclxuXHJcbn0pXHJcbi5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0V2ZW50L2RldGVjdC5qc1xyXG52YXIgZGV0ZWN0ID0gKFxyXG4gIChmdW5jdGlvbihnbG9iYWwpIHtcclxuXHJcbiAgXHRpZiAoISgnRXZlbnQnIGluIGdsb2JhbCkpIHJldHVybiBmYWxzZTtcclxuICBcdGlmICh0eXBlb2YgZ2xvYmFsLkV2ZW50ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgXHR0cnkge1xyXG5cclxuICBcdFx0Ly8gSW4gSUUgOS0xMSwgdGhlIEV2ZW50IG9iamVjdCBleGlzdHMgYnV0IGNhbm5vdCBiZSBpbnN0YW50aWF0ZWRcclxuICBcdFx0bmV3IEV2ZW50KCdjbGljaycpO1xyXG4gIFx0XHRyZXR1cm4gdHJ1ZTtcclxuICBcdH0gY2F0Y2goZSkge1xyXG4gIFx0XHRyZXR1cm4gZmFsc2U7XHJcbiAgXHR9XHJcbiAgfSh0aGlzKSlcclxuKTtcclxuXHJcbmlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuLy8gUG9seWZpbGwgZnJvbSBodHRwczovL2Nkbi5wb2x5ZmlsbC5pby92Mi9wb2x5ZmlsbC5qcz9mZWF0dXJlcz1FdmVudCZmbGFncz1hbHdheXNcclxuKGZ1bmN0aW9uICgpIHtcclxuXHR2YXIgdW5saXN0ZW5hYmxlV2luZG93RXZlbnRzID0ge1xyXG5cdFx0Y2xpY2s6IDEsXHJcblx0XHRkYmxjbGljazogMSxcclxuXHRcdGtleXVwOiAxLFxyXG5cdFx0a2V5cHJlc3M6IDEsXHJcblx0XHRrZXlkb3duOiAxLFxyXG5cdFx0bW91c2Vkb3duOiAxLFxyXG5cdFx0bW91c2V1cDogMSxcclxuXHRcdG1vdXNlbW92ZTogMSxcclxuXHRcdG1vdXNlb3ZlcjogMSxcclxuXHRcdG1vdXNlZW50ZXI6IDEsXHJcblx0XHRtb3VzZWxlYXZlOiAxLFxyXG5cdFx0bW91c2VvdXQ6IDEsXHJcblx0XHRzdG9yYWdlOiAxLFxyXG5cdFx0c3RvcmFnZWNvbW1pdDogMSxcclxuXHRcdHRleHRpbnB1dDogMVxyXG5cdH07XHJcblxyXG5cdC8vIFRoaXMgcG9seWZpbGwgZGVwZW5kcyBvbiBhdmFpbGFiaWxpdHkgb2YgYGRvY3VtZW50YCBzbyB3aWxsIG5vdCBydW4gaW4gYSB3b3JrZXJcclxuXHQvLyBIb3dldmVyLCB3ZSBhc3NzdW1lIHRoZXJlIGFyZSBubyBicm93c2VycyB3aXRoIHdvcmtlciBzdXBwb3J0IHRoYXQgbGFjayBwcm9wZXJcclxuXHQvLyBzdXBwb3J0IGZvciBgRXZlbnRgIHdpdGhpbiB0aGUgd29ya2VyXHJcblx0aWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcclxuXHJcblx0ZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWxlbWVudCkge1xyXG5cdFx0dmFyXHJcblx0XHRpbmRleCA9IC0xLFxyXG5cdFx0bGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xyXG5cclxuXHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XHJcblx0XHRcdGlmIChpbmRleCBpbiBhcnJheSAmJiBhcnJheVtpbmRleF0gPT09IGVsZW1lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gaW5kZXg7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gLTE7XHJcblx0fVxyXG5cclxuXHR2YXIgZXhpc3RpbmdQcm90byA9ICh3aW5kb3cuRXZlbnQgJiYgd2luZG93LkV2ZW50LnByb3RvdHlwZSkgfHwgbnVsbDtcclxuXHR3aW5kb3cuRXZlbnQgPSBXaW5kb3cucHJvdG90eXBlLkV2ZW50ID0gZnVuY3Rpb24gRXZlbnQodHlwZSwgZXZlbnRJbml0RGljdCkge1xyXG5cdFx0aWYgKCF0eXBlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZXZlbnQ7XHJcblx0XHQvLyBTaG9ydGN1dCBpZiBicm93c2VyIHN1cHBvcnRzIGNyZWF0ZUV2ZW50XHJcblx0XHRpZiAoJ2NyZWF0ZUV2ZW50JyBpbiBkb2N1bWVudCkge1xyXG5cdFx0XHRldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xyXG5cdFx0XHR2YXIgYnViYmxlcyA9IGV2ZW50SW5pdERpY3QgJiYgZXZlbnRJbml0RGljdC5idWJibGVzICE9PSB1bmRlZmluZWQgPyBldmVudEluaXREaWN0LmJ1YmJsZXMgOiBmYWxzZTtcclxuXHRcdFx0dmFyIGNhbmNlbGFibGUgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlIDogZmFsc2U7XHJcblxyXG5cdFx0XHRldmVudC5pbml0RXZlbnQodHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZXZlbnQ7XHJcblx0XHR9XHJcblxyXG5cdFx0ZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xyXG5cclxuXHRcdGV2ZW50LnR5cGUgPSB0eXBlO1xyXG5cdFx0ZXZlbnQuYnViYmxlcyA9IGV2ZW50SW5pdERpY3QgJiYgZXZlbnRJbml0RGljdC5idWJibGVzICE9PSB1bmRlZmluZWQgPyBldmVudEluaXREaWN0LmJ1YmJsZXMgOiBmYWxzZTtcclxuXHRcdGV2ZW50LmNhbmNlbGFibGUgPSBldmVudEluaXREaWN0ICYmIGV2ZW50SW5pdERpY3QuY2FuY2VsYWJsZSAhPT0gdW5kZWZpbmVkID8gZXZlbnRJbml0RGljdC5jYW5jZWxhYmxlIDogZmFsc2U7XHJcblxyXG5cdFx0cmV0dXJuIGV2ZW50O1xyXG5cdH07XHJcblx0aWYgKGV4aXN0aW5nUHJvdG8pIHtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuRXZlbnQsICdwcm90b3R5cGUnLCB7XHJcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXHJcblx0XHRcdGVudW1lcmFibGU6IGZhbHNlLFxyXG5cdFx0XHR3cml0YWJsZTogdHJ1ZSxcclxuXHRcdFx0dmFsdWU6IGV4aXN0aW5nUHJvdG9cclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0aWYgKCEoJ2NyZWF0ZUV2ZW50JyBpbiBkb2N1bWVudCkpIHtcclxuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyID0gV2luZG93LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gRG9jdW1lbnQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBFbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuXHRcdFx0dmFyXHJcblx0XHRcdGVsZW1lbnQgPSB0aGlzLFxyXG5cdFx0XHR0eXBlID0gYXJndW1lbnRzWzBdLFxyXG5cdFx0XHRsaXN0ZW5lciA9IGFyZ3VtZW50c1sxXTtcclxuXHJcblx0XHRcdGlmIChlbGVtZW50ID09PSB3aW5kb3cgJiYgdHlwZSBpbiB1bmxpc3RlbmFibGVXaW5kb3dFdmVudHMpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0luIElFOCB0aGUgZXZlbnQ6ICcgKyB0eXBlICsgJyBpcyBub3QgYXZhaWxhYmxlIG9uIHRoZSB3aW5kb3cgb2JqZWN0LiBQbGVhc2Ugc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS9pc3N1ZXMvMzE3IGZvciBtb3JlIGluZm9ybWF0aW9uLicpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWVsZW1lbnQuX2V2ZW50cykge1xyXG5cdFx0XHRcdGVsZW1lbnQuX2V2ZW50cyA9IHt9O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWVsZW1lbnQuX2V2ZW50c1t0eXBlXSkge1xyXG5cdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0XHRcdFx0dmFyXHJcblx0XHRcdFx0XHRsaXN0ID0gZWxlbWVudC5fZXZlbnRzW2V2ZW50LnR5cGVdLmxpc3QsXHJcblx0XHRcdFx0XHRldmVudHMgPSBsaXN0LnNsaWNlKCksXHJcblx0XHRcdFx0XHRpbmRleCA9IC0xLFxyXG5cdFx0XHRcdFx0bGVuZ3RoID0gZXZlbnRzLmxlbmd0aCxcclxuXHRcdFx0XHRcdGV2ZW50RWxlbWVudDtcclxuXHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZXZlbnQuY2FuY2VsYWJsZSAhPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0XHRldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0ZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24gc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRldmVudC5jYW5jZWxJbW1lZGlhdGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gZWxlbWVudDtcclxuXHRcdFx0XHRcdGV2ZW50LnJlbGF0ZWRUYXJnZXQgPSBldmVudC5mcm9tRWxlbWVudCB8fCBudWxsO1xyXG5cdFx0XHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQgfHwgZWxlbWVudDtcclxuXHRcdFx0XHRcdGV2ZW50LnRpbWVTdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuXHRcdFx0XHRcdGlmIChldmVudC5jbGllbnRYKSB7XHJcblx0XHRcdFx0XHRcdGV2ZW50LnBhZ2VYID0gZXZlbnQuY2xpZW50WCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG5cdFx0XHRcdFx0XHRldmVudC5wYWdlWSA9IGV2ZW50LmNsaWVudFkgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmICFldmVudC5jYW5jZWxJbW1lZGlhdGUpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGluZGV4IGluIGV2ZW50cykge1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50RWxlbWVudCA9IGV2ZW50c1tpbmRleF07XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChpbmRleE9mKGxpc3QsIGV2ZW50RWxlbWVudCkgIT09IC0xICYmIHR5cGVvZiBldmVudEVsZW1lbnQgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGV2ZW50RWxlbWVudC5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRlbGVtZW50Ll9ldmVudHNbdHlwZV0ubGlzdCA9IFtdO1xyXG5cclxuXHRcdFx0XHRpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgZWxlbWVudC5fZXZlbnRzW3R5cGVdKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0LnB1c2gobGlzdGVuZXIpO1xyXG5cdFx0fTtcclxuXHJcblx0XHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IFdpbmRvdy5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7XHJcblx0XHRcdHZhclxyXG5cdFx0XHRlbGVtZW50ID0gdGhpcyxcclxuXHRcdFx0dHlwZSA9IGFyZ3VtZW50c1swXSxcclxuXHRcdFx0bGlzdGVuZXIgPSBhcmd1bWVudHNbMV0sXHJcblx0XHRcdGluZGV4O1xyXG5cclxuXHRcdFx0aWYgKGVsZW1lbnQuX2V2ZW50cyAmJiBlbGVtZW50Ll9ldmVudHNbdHlwZV0gJiYgZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3QpIHtcclxuXHRcdFx0XHRpbmRleCA9IGluZGV4T2YoZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3QsIGxpc3RlbmVyKTtcclxuXHJcblx0XHRcdFx0aWYgKGluZGV4ICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0ZWxlbWVudC5fZXZlbnRzW3R5cGVdLmxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIWVsZW1lbnQuX2V2ZW50c1t0eXBlXS5saXN0Lmxlbmd0aCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoZWxlbWVudC5kZXRhY2hFdmVudCkge1xyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGVsZW1lbnQuX2V2ZW50c1t0eXBlXSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZGVsZXRlIGVsZW1lbnQuX2V2ZW50c1t0eXBlXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0d2luZG93LmRpc3BhdGNoRXZlbnQgPSBXaW5kb3cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBEb2N1bWVudC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IEVsZW1lbnQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XHJcblx0XHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTm90IGVub3VnaCBhcmd1bWVudHMnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFldmVudCB8fCB0eXBlb2YgZXZlbnQudHlwZSAhPT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0RPTSBFdmVudHMgRXhjZXB0aW9uIDAnKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGVsZW1lbnQgPSB0aGlzLCB0eXBlID0gZXZlbnQudHlwZTtcclxuXHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0aWYgKCFldmVudC5idWJibGVzKSB7XHJcblx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdHZhciBjYW5jZWxCdWJibGVFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0XHRcdFx0XHRldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xyXG5cclxuXHRcdFx0XHRcdFx0KGVsZW1lbnQgfHwgd2luZG93KS5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgY2FuY2VsQnViYmxlRXZlbnQpO1xyXG5cdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHR0aGlzLmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBjYW5jZWxCdWJibGVFdmVudCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLmZpcmVFdmVudCgnb24nICsgdHlwZSwgZXZlbnQpO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW1lbnQ7XHJcblxyXG5cdFx0XHRcdGRvIHtcclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBlbGVtZW50O1xyXG5cclxuXHRcdFx0XHRcdGlmICgnX2V2ZW50cycgaW4gZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5fZXZlbnRzW3R5cGVdID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdGVsZW1lbnQuX2V2ZW50c1t0eXBlXS5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIGVsZW1lbnRbJ29uJyArIHR5cGVdID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0XHRcdGVsZW1lbnRbJ29uJyArIHR5cGVdLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGVsZW1lbnQgPSBlbGVtZW50Lm5vZGVUeXBlID09PSA5ID8gZWxlbWVudC5wYXJlbnRXaW5kb3cgOiBlbGVtZW50LnBhcmVudE5vZGU7XHJcblx0XHRcdFx0fSB3aGlsZSAoZWxlbWVudCAmJiAhZXZlbnQuY2FuY2VsQnViYmxlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIEFkZCB0aGUgRE9NQ29udGVudExvYWRlZCBFdmVudFxyXG5cdFx0ZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xyXG5cdFx0XHRcdGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdET01Db250ZW50TG9hZGVkJywge1xyXG5cdFx0XHRcdFx0YnViYmxlczogdHJ1ZVxyXG5cdFx0XHRcdH0pKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG59KCkpO1xyXG5cclxufSlcclxuLmNhbGwoJ29iamVjdCcgPT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93IHx8ICdvYmplY3QnID09PSB0eXBlb2Ygc2VsZiAmJiBzZWxmIHx8ICdvYmplY3QnID09PSB0eXBlb2YgZ2xvYmFsICYmIGdsb2JhbCB8fCB7fSk7XHJcblxyXG52YXIgS0VZX1NQQUNFID0gMzI7XHJcbnZhciBERUJPVU5DRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAxO1xyXG5cclxuZnVuY3Rpb24gQnV0dG9uICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLmRlYm91bmNlRm9ybVN1Ym1pdFRpbWVyID0gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiogSmF2YVNjcmlwdCAnc2hpbScgdG8gdHJpZ2dlciB0aGUgY2xpY2sgZXZlbnQgb2YgZWxlbWVudChzKSB3aGVuIHRoZSBzcGFjZSBrZXkgaXMgcHJlc3NlZC5cclxuKlxyXG4qIENyZWF0ZWQgc2luY2Ugc29tZSBBc3Npc3RpdmUgVGVjaG5vbG9naWVzIChmb3IgZXhhbXBsZSBzb21lIFNjcmVlbnJlYWRlcnMpXHJcbiogd2lsbCB0ZWxsIGEgdXNlciB0byBwcmVzcyBzcGFjZSBvbiBhICdidXR0b24nLCBzbyB0aGlzIGZ1bmN0aW9uYWxpdHkgbmVlZHMgdG8gYmUgc2hpbW1lZFxyXG4qIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYWxwaGFnb3YvZ292dWtfZWxlbWVudHMvcHVsbC8yNzIjaXNzdWVjb21tZW50LTIzMzAyODI3MFxyXG4qXHJcbiogQHBhcmFtIHtvYmplY3R9IGV2ZW50IGV2ZW50XHJcbiovXHJcbkJ1dHRvbi5wcm90b3R5cGUuaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gIC8vIGdldCB0aGUgdGFyZ2V0IGVsZW1lbnRcclxuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gIC8vIGlmIHRoZSBlbGVtZW50IGhhcyBhIHJvbGU9J2J1dHRvbicgYW5kIHRoZSBwcmVzc2VkIGtleSBpcyBhIHNwYWNlLCB3ZSdsbCBzaW11bGF0ZSBhIGNsaWNrXHJcbiAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ3JvbGUnKSA9PT0gJ2J1dHRvbicgJiYgZXZlbnQua2V5Q29kZSA9PT0gS0VZX1NQQUNFKSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgLy8gdHJpZ2dlciB0aGUgdGFyZ2V0J3MgY2xpY2sgZXZlbnRcclxuICAgIHRhcmdldC5jbGljaygpO1xyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4qIElmIHRoZSBjbGljayBxdWlja2x5IHN1Y2NlZWRzIGEgcHJldmlvdXMgY2xpY2sgdGhlbiBub3RoaW5nIHdpbGwgaGFwcGVuLlxyXG4qIFRoaXMgc3RvcHMgcGVvcGxlIGFjY2lkZW50YWxseSBjYXVzaW5nIG11bHRpcGxlIGZvcm0gc3VibWlzc2lvbnMgYnlcclxuKiBkb3VibGUgY2xpY2tpbmcgYnV0dG9ucy5cclxuKi9cclxuQnV0dG9uLnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgLy8gQ2hlY2sgdGhlIGJ1dHRvbiB0aGF0IGlzIGNsaWNrZWQgb24gaGFzIHRoZSBwcmV2ZW50RG91YmxlQ2xpY2sgZmVhdHVyZSBlbmFibGVkXHJcbiAgaWYgKHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJldmVudC1kb3VibGUtY2xpY2snKSAhPT0gJ3RydWUnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZSB0aW1lciBpcyBzdGlsbCBydW5uaW5nIHRoZW4gd2Ugd2FudCB0byBwcmV2ZW50IHRoZSBjbGljayBmcm9tIHN1Ym1pdHRpbmcgdGhlIGZvcm1cclxuICBpZiAodGhpcy5kZWJvdW5jZUZvcm1TdWJtaXRUaW1lcikge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgdGhpcy5kZWJvdW5jZUZvcm1TdWJtaXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5kZWJvdW5jZUZvcm1TdWJtaXRUaW1lciA9IG51bGw7XHJcbiAgfS5iaW5kKHRoaXMpLCBERUJPVU5DRV9USU1FT1VUX0lOX1NFQ09ORFMgKiAxMDAwKTtcclxufTtcclxuXHJcbi8qKlxyXG4qIEluaXRpYWxpc2UgYW4gZXZlbnQgbGlzdGVuZXIgZm9yIGtleWRvd24gYXQgZG9jdW1lbnQgbGV2ZWxcclxuKiB0aGlzIHdpbGwgaGVscCBsaXN0ZW5pbmcgZm9yIGxhdGVyIGluc2VydGVkIGVsZW1lbnRzIHdpdGggYSByb2xlPVwiYnV0dG9uXCJcclxuKi9cclxuQnV0dG9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuJG1vZHVsZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlEb3duKTtcclxuICB0aGlzLiRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmRlYm91bmNlKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBKYXZhU2NyaXB0ICdwb2x5ZmlsbCcgZm9yIEhUTUw1J3MgPGRldGFpbHM+IGFuZCA8c3VtbWFyeT4gZWxlbWVudHNcclxuICogYW5kICdzaGltJyB0byBhZGQgYWNjZXNzaWJsaXR5IGVuaGFuY2VtZW50cyBmb3IgYWxsIGJyb3dzZXJzXHJcbiAqXHJcbiAqIGh0dHA6Ly9jYW5pdXNlLmNvbS8jZmVhdD1kZXRhaWxzXHJcbiAqL1xyXG5cclxudmFyIEtFWV9FTlRFUiA9IDEzO1xyXG52YXIgS0VZX1NQQUNFJDEgPSAzMjtcclxuXHJcbmZ1bmN0aW9uIERldGFpbHMgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG59XHJcblxyXG5EZXRhaWxzLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghdGhpcy4kbW9kdWxlKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIElmIHRoZXJlIGlzIG5hdGl2ZSBkZXRhaWxzIHN1cHBvcnQsIHdlIHdhbnQgdG8gYXZvaWQgcnVubmluZyBjb2RlIHRvIHBvbHlmaWxsIG5hdGl2ZSBiZWhhdmlvdXIuXHJcbiAgdmFyIGhhc05hdGl2ZURldGFpbHMgPSB0eXBlb2YgdGhpcy4kbW9kdWxlLm9wZW4gPT09ICdib29sZWFuJztcclxuXHJcbiAgaWYgKGhhc05hdGl2ZURldGFpbHMpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgdGhpcy5wb2x5ZmlsbERldGFpbHMoKTtcclxufTtcclxuXHJcbkRldGFpbHMucHJvdG90eXBlLnBvbHlmaWxsRGV0YWlscyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuXHJcbiAgLy8gU2F2ZSBzaG9ydGN1dHMgdG8gdGhlIGlubmVyIHN1bW1hcnkgYW5kIGNvbnRlbnQgZWxlbWVudHNcclxuICB2YXIgJHN1bW1hcnkgPSB0aGlzLiRzdW1tYXJ5ID0gJG1vZHVsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3VtbWFyeScpLml0ZW0oMCk7XHJcbiAgdmFyICRjb250ZW50ID0gdGhpcy4kY29udGVudCA9ICRtb2R1bGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2RpdicpLml0ZW0oMCk7XHJcblxyXG4gIC8vIElmIDxkZXRhaWxzPiBkb2Vzbid0IGhhdmUgYSA8c3VtbWFyeT4gYW5kIGEgPGRpdj4gcmVwcmVzZW50aW5nIHRoZSBjb250ZW50XHJcbiAgLy8gaXQgbWVhbnMgdGhlIHJlcXVpcmVkIEhUTUwgc3RydWN0dXJlIGlzIG5vdCBtZXQgc28gdGhlIHNjcmlwdCB3aWxsIHN0b3BcclxuICBpZiAoISRzdW1tYXJ5IHx8ICEkY29udGVudCkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBJZiB0aGUgY29udGVudCBkb2Vzbid0IGhhdmUgYW4gSUQsIGFzc2lnbiBpdCBvbmUgbm93XHJcbiAgLy8gd2hpY2ggd2UnbGwgbmVlZCBmb3IgdGhlIHN1bW1hcnkncyBhcmlhLWNvbnRyb2xzIGFzc2lnbm1lbnRcclxuICBpZiAoISRjb250ZW50LmlkKSB7XHJcbiAgICAkY29udGVudC5pZCA9ICdkZXRhaWxzLWNvbnRlbnQtJyArIGdlbmVyYXRlVW5pcXVlSUQoKTtcclxuICB9XHJcblxyXG4gIC8vIEFkZCBBUklBIHJvbGU9XCJncm91cFwiIHRvIGRldGFpbHNcclxuICAkbW9kdWxlLnNldEF0dHJpYnV0ZSgncm9sZScsICdncm91cCcpO1xyXG5cclxuICAvLyBBZGQgcm9sZT1idXR0b24gdG8gc3VtbWFyeVxyXG4gICRzdW1tYXJ5LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcclxuXHJcbiAgLy8gQWRkIGFyaWEtY29udHJvbHNcclxuICAkc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCAkY29udGVudC5pZCk7XHJcblxyXG4gIC8vIFNldCB0YWJJbmRleCBzbyB0aGUgc3VtbWFyeSBpcyBrZXlib2FyZCBhY2Nlc3NpYmxlIGZvciBub24tbmF0aXZlIGVsZW1lbnRzXHJcbiAgLy9cclxuICAvLyBXZSBoYXZlIHRvIHVzZSB0aGUgY2FtZWxjYXNlIGB0YWJJbmRleGAgcHJvcGVydHkgYXMgdGhlcmUgaXMgYSBidWcgaW4gSUU2L0lFNyB3aGVuIHdlIHNldCB0aGUgY29ycmVjdCBhdHRyaWJ1dGUgbG93ZXJjYXNlOlxyXG4gIC8vIFNlZSBodHRwOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE3MDEyMDE5NDAzNi9odHRwOi8vd3d3LnNhbGllbmNlcy5jb20vYnJvd3NlckJ1Z3MvdGFiSW5kZXguaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAkc3VtbWFyeS50YWJJbmRleCA9IDA7XHJcblxyXG4gIC8vIERldGVjdCBpbml0aWFsIG9wZW4gc3RhdGVcclxuICBpZiAodGhpcy4kbW9kdWxlLmhhc0F0dHJpYnV0ZSgnb3BlbicpKSB7XHJcbiAgICAkc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcclxuICAgICRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG5cclxuICAvLyBCaW5kIGFuIGV2ZW50IHRvIGhhbmRsZSBzdW1tYXJ5IGVsZW1lbnRzXHJcbiAgdGhpcy5wb2x5ZmlsbEhhbmRsZUlucHV0cygkc3VtbWFyeSwgdGhpcy5wb2x5ZmlsbFNldEF0dHJpYnV0ZXMuYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vKipcclxuKiBEZWZpbmUgYSBzdGF0ZWNoYW5nZSBmdW5jdGlvbiB0aGF0IHVwZGF0ZXMgYXJpYS1leHBhbmRlZCBhbmQgc3R5bGUuZGlzcGxheVxyXG4qIEBwYXJhbSB7b2JqZWN0fSBzdW1tYXJ5IGVsZW1lbnRcclxuKi9cclxuRGV0YWlscy5wcm90b3R5cGUucG9seWZpbGxTZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh0aGlzLiRtb2R1bGUuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcclxuICAgIHRoaXMuJG1vZHVsZS5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcclxuICAgIHRoaXMuJHN1bW1hcnkuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XHJcbiAgICB0aGlzLiRjb250ZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMuJG1vZHVsZS5zZXRBdHRyaWJ1dGUoJ29wZW4nLCAnb3BlbicpO1xyXG4gICAgdGhpcy4kc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xyXG4gICAgdGhpcy4kY29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdHJ1ZVxyXG59O1xyXG5cclxuLyoqXHJcbiogSGFuZGxlIGNyb3NzLW1vZGFsIGNsaWNrIGV2ZW50c1xyXG4qIEBwYXJhbSB7b2JqZWN0fSBub2RlIGVsZW1lbnRcclxuKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBmdW5jdGlvblxyXG4qL1xyXG5EZXRhaWxzLnByb3RvdHlwZS5wb2x5ZmlsbEhhbmRsZUlucHV0cyA9IGZ1bmN0aW9uIChub2RlLCBjYWxsYmFjaykge1xyXG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAvLyBXaGVuIHRoZSBrZXkgZ2V0cyBwcmVzc2VkIC0gY2hlY2sgaWYgaXQgaXMgZW50ZXIgb3Igc3BhY2VcclxuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gS0VZX1NQQUNFJDEpIHtcclxuICAgICAgaWYgKHRhcmdldC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnc3VtbWFyeScpIHtcclxuICAgICAgICAvLyBQcmV2ZW50IHNwYWNlIGZyb20gc2Nyb2xsaW5nIHRoZSBwYWdlXHJcbiAgICAgICAgLy8gYW5kIGVudGVyIGZyb20gc3VibWl0dGluZyBhIGZvcm1cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIC8vIENsaWNrIHRvIGxldCB0aGUgY2xpY2sgZXZlbnQgZG8gYWxsIHRoZSBuZWNlc3NhcnkgYWN0aW9uXHJcbiAgICAgICAgaWYgKHRhcmdldC5jbGljaykge1xyXG4gICAgICAgICAgdGFyZ2V0LmNsaWNrKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGV4Y2VwdCBTYWZhcmkgNS4xIGFuZCB1bmRlciBkb24ndCBzdXBwb3J0IC5jbGljaygpIGhlcmVcclxuICAgICAgICAgIGNhbGxiYWNrKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLy8gUHJldmVudCBrZXl1cCB0byBwcmV2ZW50IGNsaWNraW5nIHR3aWNlIGluIEZpcmVmb3ggd2hlbiB1c2luZyBzcGFjZSBrZXlcclxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9TUEFDRSQxKSB7XHJcbiAgICAgIGlmICh0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N1bW1hcnknKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2spO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gQ2hhcmFjdGVyQ291bnQgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG4gIHRoaXMuJHRleHRhcmVhID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcuZ292dWstanMtY2hhcmFjdGVyLWNvdW50Jyk7XHJcbiAgdGhpcy4kdmlzaWJsZUNvdW50TWVzc2FnZSA9IG51bGw7XHJcbiAgdGhpcy4kc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlID0gbnVsbDtcclxuICB0aGlzLmxhc3RJbnB1dFRpbWVzdGFtcCA9IG51bGw7XHJcbn1cclxuXHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS5kZWZhdWx0cyA9IHtcclxuICBjaGFyYWN0ZXJDb3VudEF0dHJpYnV0ZTogJ2RhdGEtbWF4bGVuZ3RoJyxcclxuICB3b3JkQ291bnRBdHRyaWJ1dGU6ICdkYXRhLW1heHdvcmRzJ1xyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBjb21wb25lbnRcclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQ2hlY2sgdGhhdCByZXF1aXJlZCBlbGVtZW50cyBhcmUgcHJlc2VudFxyXG4gIGlmICghdGhpcy4kdGV4dGFyZWEpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIG1vZHVsZVxyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG4gIHZhciAkdGV4dGFyZWEgPSB0aGlzLiR0ZXh0YXJlYTtcclxuICB2YXIgJGZhbGxiYWNrTGltaXRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJHRleHRhcmVhLmlkICsgJy1pbmZvJyk7XHJcblxyXG4gIC8vIE1vdmUgdGhlIGZhbGxiYWNrIGNvdW50IG1lc3NhZ2UgdG8gYmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIHRleHRhcmVhXHJcbiAgLy8gS2VwdCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcclxuICAkdGV4dGFyZWEuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsICRmYWxsYmFja0xpbWl0TWVzc2FnZSk7XHJcblxyXG4gIC8vIENyZWF0ZSB0aGUgKnNjcmVlbiByZWFkZXIqIHNwZWNpZmljIGxpdmUtdXBkYXRpbmcgY291bnRlclxyXG4gIC8vIFRoaXMgZG9lc24ndCBuZWVkIGFueSBzdHlsaW5nIGNsYXNzZXMsIGFzIGl0IGlzIG5ldmVyIHZpc2libGVcclxuICB2YXIgJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UuY2xhc3NOYW1lID0gJ2dvdnVrLWNoYXJhY3Rlci1jb3VudF9fc3Itc3RhdHVzIGdvdnVrLXZpc3VhbGx5LWhpZGRlbic7XHJcbiAgJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcclxuICB0aGlzLiRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UgPSAkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlO1xyXG4gICRmYWxsYmFja0xpbWl0TWVzc2FnZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZSk7XHJcblxyXG4gIC8vIENyZWF0ZSBvdXIgbGl2ZS11cGRhdGluZyBjb3VudGVyIGVsZW1lbnQsIGNvcHlpbmcgdGhlIGNsYXNzZXMgZnJvbSB0aGVcclxuICAvLyBmYWxsYmFjayBlbGVtZW50IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhcyB0aGVzZSBtYXkgaGF2ZSBiZWVuIGNvbmZpZ3VyZWRcclxuICB2YXIgJHZpc2libGVDb3VudE1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc05hbWUgPSAkZmFsbGJhY2tMaW1pdE1lc3NhZ2UuY2xhc3NOYW1lO1xyXG4gICR2aXNpYmxlQ291bnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWNoYXJhY3Rlci1jb3VudF9fc3RhdHVzJyk7XHJcbiAgJHZpc2libGVDb3VudE1lc3NhZ2Uuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XHJcbiAgdGhpcy4kdmlzaWJsZUNvdW50TWVzc2FnZSA9ICR2aXNpYmxlQ291bnRNZXNzYWdlO1xyXG4gICRmYWxsYmFja0xpbWl0TWVzc2FnZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgJHZpc2libGVDb3VudE1lc3NhZ2UpO1xyXG5cclxuICAvLyBIaWRlIHRoZSBmYWxsYmFjayBsaW1pdCBtZXNzYWdlXHJcbiAgJGZhbGxiYWNrTGltaXRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLXZpc3VhbGx5LWhpZGRlbicpO1xyXG5cclxuICAvLyBSZWFkIG9wdGlvbnMgc2V0IHVzaW5nIGRhdGFzZXQgKCdkYXRhLScgdmFsdWVzKVxyXG4gIHRoaXMub3B0aW9ucyA9IHRoaXMuZ2V0RGF0YXNldCgkbW9kdWxlKTtcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRoZSBsaW1pdCBhdHRyaWJ1dGUgKGNoYXJhY3RlcnMgb3Igd29yZHMpXHJcbiAgdmFyIGNvdW50QXR0cmlidXRlID0gdGhpcy5kZWZhdWx0cy5jaGFyYWN0ZXJDb3VudEF0dHJpYnV0ZTtcclxuICBpZiAodGhpcy5vcHRpb25zLm1heHdvcmRzKSB7XHJcbiAgICBjb3VudEF0dHJpYnV0ZSA9IHRoaXMuZGVmYXVsdHMud29yZENvdW50QXR0cmlidXRlO1xyXG4gIH1cclxuXHJcbiAgLy8gU2F2ZSB0aGUgZWxlbWVudCBsaW1pdFxyXG4gIHRoaXMubWF4TGVuZ3RoID0gJG1vZHVsZS5nZXRBdHRyaWJ1dGUoY291bnRBdHRyaWJ1dGUpO1xyXG5cclxuICAvLyBDaGVjayBmb3IgbGltaXRcclxuICBpZiAoIXRoaXMubWF4TGVuZ3RoKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIFJlbW92ZSBoYXJkIGxpbWl0IGlmIHNldFxyXG4gICR0ZXh0YXJlYS5yZW1vdmVBdHRyaWJ1dGUoJ21heGxlbmd0aCcpO1xyXG5cclxuICB0aGlzLmJpbmRDaGFuZ2VFdmVudHMoKTtcclxuXHJcbiAgLy8gV2hlbiB0aGUgcGFnZSBpcyByZXN0b3JlZCBhZnRlciBuYXZpZ2F0aW5nICdiYWNrJyBpbiBzb21lIGJyb3dzZXJzIHRoZVxyXG4gIC8vIHN0YXRlIG9mIHRoZSBjaGFyYWN0ZXIgY291bnQgaXMgbm90IHJlc3RvcmVkIHVudGlsICphZnRlciogdGhlIERPTUNvbnRlbnRMb2FkZWRcclxuICAvLyBldmVudCBpcyBmaXJlZCwgc28gd2UgbmVlZCB0byBtYW51YWxseSB1cGRhdGUgaXQgYWZ0ZXIgdGhlIHBhZ2VzaG93IGV2ZW50XHJcbiAgLy8gaW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LlxyXG4gIGlmICgnb25wYWdlc2hvdycgaW4gd2luZG93KSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCB0aGlzLnVwZGF0ZUNvdW50TWVzc2FnZS5iaW5kKHRoaXMpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0aGlzLnVwZGF0ZUNvdW50TWVzc2FnZS5iaW5kKHRoaXMpKTtcclxuICB9XHJcbiAgdGhpcy51cGRhdGVDb3VudE1lc3NhZ2UoKTtcclxufTtcclxuXHJcbi8vIFJlYWQgZGF0YSBhdHRyaWJ1dGVzXHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS5nZXREYXRhc2V0ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICB2YXIgZGF0YXNldCA9IHt9O1xyXG4gIHZhciBhdHRyaWJ1dGVzID0gZWxlbWVudC5hdHRyaWJ1dGVzO1xyXG4gIGlmIChhdHRyaWJ1dGVzKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaV07XHJcbiAgICAgIHZhciBtYXRjaCA9IGF0dHJpYnV0ZS5uYW1lLm1hdGNoKC9eZGF0YS0oLispLyk7XHJcbiAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIGRhdGFzZXRbbWF0Y2hbMV1dID0gYXR0cmlidXRlLnZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiBkYXRhc2V0XHJcbn07XHJcblxyXG4vLyBDb3VudHMgY2hhcmFjdGVycyBvciB3b3JkcyBpbiB0ZXh0XHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgdmFyIGxlbmd0aDtcclxuICBpZiAodGhpcy5vcHRpb25zLm1heHdvcmRzKSB7XHJcbiAgICB2YXIgdG9rZW5zID0gdGV4dC5tYXRjaCgvXFxTKy9nKSB8fCBbXTsgLy8gTWF0Y2hlcyBjb25zZWN1dGl2ZSBub24td2hpdGVzcGFjZSBjaGFyc1xyXG4gICAgbGVuZ3RoID0gdG9rZW5zLmxlbmd0aDtcclxuICB9IGVsc2Uge1xyXG4gICAgbGVuZ3RoID0gdGV4dC5sZW5ndGg7XHJcbiAgfVxyXG4gIHJldHVybiBsZW5ndGhcclxufTtcclxuXHJcbi8vIEJpbmQgaW5wdXQgcHJvcGVydHljaGFuZ2UgdG8gdGhlIGVsZW1lbnRzIGFuZCB1cGRhdGUgYmFzZWQgb24gdGhlIGNoYW5nZVxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuYmluZENoYW5nZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJHRleHRhcmVhID0gdGhpcy4kdGV4dGFyZWE7XHJcbiAgJHRleHRhcmVhLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5oYW5kbGVLZXlVcC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgLy8gQmluZCBmb2N1cy9ibHVyIGV2ZW50cyB0byBzdGFydC9zdG9wIHBvbGxpbmdcclxuICAkdGV4dGFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmhhbmRsZUZvY3VzLmJpbmQodGhpcykpO1xyXG4gICR0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5oYW5kbGVCbHVyLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLy8gU3BlZWNoIHJlY29nbml0aW9uIHNvZnR3YXJlIHN1Y2ggYXMgRHJhZ29uIE5hdHVyYWxseVNwZWFraW5nIHdpbGwgbW9kaWZ5IHRoZVxyXG4vLyBmaWVsZHMgYnkgZGlyZWN0bHkgY2hhbmdpbmcgaXRzIGB2YWx1ZWAuIFRoZXNlIGNoYW5nZXMgZG9uJ3QgdHJpZ2dlciBldmVudHNcclxuLy8gaW4gSmF2YVNjcmlwdCwgc28gd2UgbmVlZCB0byBwb2xsIHRvIGhhbmRsZSB3aGVuIGFuZCBpZiB0aGV5IG9jY3VyLlxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuY2hlY2tJZlZhbHVlQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAoIXRoaXMuJHRleHRhcmVhLm9sZFZhbHVlKSB0aGlzLiR0ZXh0YXJlYS5vbGRWYWx1ZSA9ICcnO1xyXG4gIGlmICh0aGlzLiR0ZXh0YXJlYS52YWx1ZSAhPT0gdGhpcy4kdGV4dGFyZWEub2xkVmFsdWUpIHtcclxuICAgIHRoaXMuJHRleHRhcmVhLm9sZFZhbHVlID0gdGhpcy4kdGV4dGFyZWEudmFsdWU7XHJcbiAgICB0aGlzLnVwZGF0ZUNvdW50TWVzc2FnZSgpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbiB0byB1cGRhdGUgYm90aCB0aGUgdmlzaWJsZSBhbmQgc2NyZWVuIHJlYWRlci1zcGVjaWZpY1xyXG4vLyBjb3VudGVycyBzaW11bHRhbmVvdXNseSAoZS5nLiBvbiBpbml0KVxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUudXBkYXRlQ291bnRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMudXBkYXRlVmlzaWJsZUNvdW50TWVzc2FnZSgpO1xyXG4gIHRoaXMudXBkYXRlU2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlKCk7XHJcbn07XHJcblxyXG4vLyBVcGRhdGUgdmlzaWJsZSBjb3VudGVyXHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS51cGRhdGVWaXNpYmxlQ291bnRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkdGV4dGFyZWEgPSB0aGlzLiR0ZXh0YXJlYTtcclxuICB2YXIgJHZpc2libGVDb3VudE1lc3NhZ2UgPSB0aGlzLiR2aXNpYmxlQ291bnRNZXNzYWdlO1xyXG4gIHZhciByZW1haW5pbmdOdW1iZXIgPSB0aGlzLm1heExlbmd0aCAtIHRoaXMuY291bnQoJHRleHRhcmVhLnZhbHVlKTtcclxuXHJcbiAgLy8gSWYgaW5wdXQgaXMgb3ZlciB0aGUgdGhyZXNob2xkLCByZW1vdmUgdGhlIGRpc2FibGVkIGNsYXNzIHdoaWNoIHJlbmRlcnMgdGhlXHJcbiAgLy8gY291bnRlciBpbnZpc2libGUuXHJcbiAgaWYgKHRoaXMuaXNPdmVyVGhyZXNob2xkKCkpIHtcclxuICAgICR2aXNpYmxlQ291bnRNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2dvdnVrLWNoYXJhY3Rlci1jb3VudF9fbWVzc2FnZS0tZGlzYWJsZWQnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJHZpc2libGVDb3VudE1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnZ292dWstY2hhcmFjdGVyLWNvdW50X19tZXNzYWdlLS1kaXNhYmxlZCcpO1xyXG4gIH1cclxuXHJcbiAgLy8gVXBkYXRlIHN0eWxlc1xyXG4gIGlmIChyZW1haW5pbmdOdW1iZXIgPCAwKSB7XHJcbiAgICAkdGV4dGFyZWEuY2xhc3NMaXN0LmFkZCgnZ292dWstdGV4dGFyZWEtLWVycm9yJyk7XHJcbiAgICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay1oaW50Jyk7XHJcbiAgICAkdmlzaWJsZUNvdW50TWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdnb3Z1ay1lcnJvci1tZXNzYWdlJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICR0ZXh0YXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdnb3Z1ay10ZXh0YXJlYS0tZXJyb3InKTtcclxuICAgICR2aXNpYmxlQ291bnRNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2dvdnVrLWVycm9yLW1lc3NhZ2UnKTtcclxuICAgICR2aXNpYmxlQ291bnRNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2dvdnVrLWhpbnQnKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBtZXNzYWdlXHJcbiAgJHZpc2libGVDb3VudE1lc3NhZ2UuaW5uZXJIVE1MID0gdGhpcy5mb3JtYXR0ZWRVcGRhdGVNZXNzYWdlKCk7XHJcbn07XHJcblxyXG4vLyBVcGRhdGUgc2NyZWVuIHJlYWRlci1zcGVjaWZpYyBjb3VudGVyXHJcbkNoYXJhY3RlckNvdW50LnByb3RvdHlwZS51cGRhdGVTY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UgPSB0aGlzLiRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2U7XHJcblxyXG4gIC8vIElmIG92ZXIgdGhlIHRocmVzaG9sZCwgcmVtb3ZlIHRoZSBhcmlhLWhpZGRlbiBhdHRyaWJ1dGUsIGFsbG93aW5nIHNjcmVlblxyXG4gIC8vIHJlYWRlcnMgdG8gYW5ub3VuY2UgdGhlIGNvbnRlbnQgb2YgdGhlIGVsZW1lbnQuXHJcbiAgaWYgKHRoaXMuaXNPdmVyVGhyZXNob2xkKCkpIHtcclxuICAgICRzY3JlZW5SZWFkZXJDb3VudE1lc3NhZ2UucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIC8vIFVwZGF0ZSBtZXNzYWdlXHJcbiAgJHNjcmVlblJlYWRlckNvdW50TWVzc2FnZS5pbm5lckhUTUwgPSB0aGlzLmZvcm1hdHRlZFVwZGF0ZU1lc3NhZ2UoKTtcclxufTtcclxuXHJcbi8vIEZvcm1hdCB1cGRhdGUgbWVzc2FnZVxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuZm9ybWF0dGVkVXBkYXRlTWVzc2FnZSA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJHRleHRhcmVhID0gdGhpcy4kdGV4dGFyZWE7XHJcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XHJcbiAgdmFyIHJlbWFpbmluZ051bWJlciA9IHRoaXMubWF4TGVuZ3RoIC0gdGhpcy5jb3VudCgkdGV4dGFyZWEudmFsdWUpO1xyXG5cclxuICB2YXIgY2hhclZlcmIgPSAncmVtYWluaW5nJztcclxuICB2YXIgY2hhck5vdW4gPSAnY2hhcmFjdGVyJztcclxuICB2YXIgZGlzcGxheU51bWJlciA9IHJlbWFpbmluZ051bWJlcjtcclxuICBpZiAob3B0aW9ucy5tYXh3b3Jkcykge1xyXG4gICAgY2hhck5vdW4gPSAnd29yZCc7XHJcbiAgfVxyXG4gIGNoYXJOb3VuID0gY2hhck5vdW4gKyAoKHJlbWFpbmluZ051bWJlciA9PT0gLTEgfHwgcmVtYWluaW5nTnVtYmVyID09PSAxKSA/ICcnIDogJ3MnKTtcclxuXHJcbiAgY2hhclZlcmIgPSAocmVtYWluaW5nTnVtYmVyIDwgMCkgPyAndG9vIG1hbnknIDogJ3JlbWFpbmluZyc7XHJcbiAgZGlzcGxheU51bWJlciA9IE1hdGguYWJzKHJlbWFpbmluZ051bWJlcik7XHJcblxyXG4gIHJldHVybiAnWW91IGhhdmUgJyArIGRpc3BsYXlOdW1iZXIgKyAnICcgKyBjaGFyTm91biArICcgJyArIGNoYXJWZXJiXHJcbn07XHJcblxyXG4vLyBDaGVja3Mgd2hldGhlciB0aGUgdmFsdWUgaXMgb3ZlciB0aGUgY29uZmlndXJlZCB0aHJlc2hvbGQgZm9yIHRoZSBpbnB1dC5cclxuLy8gSWYgdGhlcmUgaXMgbm8gY29uZmlndXJlZCB0aHJlc2hvbGQsIGl0IGlzIHNldCB0byAwIGFuZCB0aGlzIGZ1bmN0aW9uIHdpbGxcclxuLy8gYWx3YXlzIHJldHVybiB0cnVlLlxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuaXNPdmVyVGhyZXNob2xkID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkdGV4dGFyZWEgPSB0aGlzLiR0ZXh0YXJlYTtcclxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcclxuXHJcbiAgLy8gRGV0ZXJtaW5lIHRoZSByZW1haW5pbmcgbnVtYmVyIG9mIGNoYXJhY3RlcnMvd29yZHNcclxuICB2YXIgY3VycmVudExlbmd0aCA9IHRoaXMuY291bnQoJHRleHRhcmVhLnZhbHVlKTtcclxuICB2YXIgbWF4TGVuZ3RoID0gdGhpcy5tYXhMZW5ndGg7XHJcblxyXG4gIC8vIFNldCB0aHJlc2hvbGQgaWYgcHJlc2VudGVkIGluIG9wdGlvbnNcclxuICB2YXIgdGhyZXNob2xkUGVyY2VudCA9IG9wdGlvbnMudGhyZXNob2xkID8gb3B0aW9ucy50aHJlc2hvbGQgOiAwO1xyXG4gIHZhciB0aHJlc2hvbGRWYWx1ZSA9IG1heExlbmd0aCAqIHRocmVzaG9sZFBlcmNlbnQgLyAxMDA7XHJcblxyXG4gIHJldHVybiAodGhyZXNob2xkVmFsdWUgPD0gY3VycmVudExlbmd0aClcclxufTtcclxuXHJcbi8vIFVwZGF0ZSB0aGUgdmlzaWJsZSBjaGFyYWN0ZXIgY291bnRlciBhbmQga2VlcCB0cmFjayBvZiB3aGVuIHRoZSBsYXN0IHVwZGF0ZVxyXG4vLyBoYXBwZW5lZCBmb3IgZWFjaCBrZXlwcmVzc1xyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuaGFuZGxlS2V5VXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy51cGRhdGVWaXNpYmxlQ291bnRNZXNzYWdlKCk7XHJcbiAgdGhpcy5sYXN0SW5wdXRUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xyXG59O1xyXG5cclxuQ2hhcmFjdGVyQ291bnQucHJvdG90eXBlLmhhbmRsZUZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gIC8vIElmIHRoZSBmaWVsZCBpcyBmb2N1c2VkLCBhbmQgYSBrZXl1cCBldmVudCBoYXNuJ3QgYmVlbiBkZXRlY3RlZCBmb3IgYXRcclxuICAvLyBsZWFzdCAxMDAwIG1zICgxIHNlY29uZCksIHRoZW4gcnVuIHRoZSBtYW51YWwgY2hhbmdlIGNoZWNrLlxyXG4gIC8vIFRoaXMgaXMgc28gdGhhdCB0aGUgdXBkYXRlIHRyaWdnZXJlZCBieSB0aGUgbWFudWFsIGNvbXBhcmlzb24gZG9lc24ndFxyXG4gIC8vIGNvbmZsaWN0IHdpdGggZGVib3VuY2VkIEtleWJvYXJkRXZlbnQgdXBkYXRlcy5cclxuICB0aGlzLnZhbHVlQ2hlY2tlciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcclxuICAgIGlmICghdGhpcy5sYXN0SW5wdXRUaW1lc3RhbXAgfHwgKERhdGUubm93KCkgLSA1MDApID49IHRoaXMubGFzdElucHV0VGltZXN0YW1wKSB7XHJcbiAgICAgIHRoaXMuY2hlY2tJZlZhbHVlQ2hhbmdlZCgpO1xyXG4gICAgfVxyXG4gIH0uYmluZCh0aGlzKSwgMTAwMCk7XHJcbn07XHJcblxyXG5DaGFyYWN0ZXJDb3VudC5wcm90b3R5cGUuaGFuZGxlQmx1ciA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBDYW5jZWwgdmFsdWUgY2hlY2tpbmcgb24gYmx1clxyXG4gIGNsZWFySW50ZXJ2YWwodGhpcy52YWx1ZUNoZWNrZXIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gQ2hlY2tib3hlcyAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbiAgdGhpcy4kaW5wdXRzID0gJG1vZHVsZS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRpYWxpc2UgQ2hlY2tib3hlc1xyXG4gKlxyXG4gKiBDaGVja2JveGVzIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggYSAnY29uZGl0aW9uYWxseSByZXZlYWxlZCcgY29udGVudCBibG9jayDigJNcclxuICogZm9yIGV4YW1wbGUsIGEgY2hlY2tib3ggZm9yICdQaG9uZScgY291bGQgcmV2ZWFsIGFuIGFkZGl0aW9uYWwgZm9ybSBmaWVsZCBmb3JcclxuICogdGhlIHVzZXIgdG8gZW50ZXIgdGhlaXIgcGhvbmUgbnVtYmVyLlxyXG4gKlxyXG4gKiBUaGVzZSBhc3NvY2lhdGlvbnMgYXJlIG1hZGUgdXNpbmcgYSBgZGF0YS1hcmlhLWNvbnRyb2xzYCBhdHRyaWJ1dGUsIHdoaWNoIGlzXHJcbiAqIHByb21vdGVkIHRvIGFuIGFyaWEtY29udHJvbHMgYXR0cmlidXRlIGR1cmluZyBpbml0aWFsaXNhdGlvbi5cclxuICpcclxuICogV2UgYWxzbyBuZWVkIHRvIHJlc3RvcmUgdGhlIHN0YXRlIG9mIGFueSBjb25kaXRpb25hbCByZXZlYWxzIG9uIHRoZSBwYWdlIChmb3JcclxuICogZXhhbXBsZSBpZiB0aGUgdXNlciBoYXMgbmF2aWdhdGVkIGJhY2spLCBhbmQgc2V0IHVwIGV2ZW50IGhhbmRsZXJzIHRvIGtlZXBcclxuICogdGhlIHJldmVhbCBpbiBzeW5jIHdpdGggdGhlIGNoZWNrYm94IHN0YXRlLlxyXG4gKi9cclxuQ2hlY2tib3hlcy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuICB2YXIgJGlucHV0cyA9IHRoaXMuJGlucHV0cztcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRpbnB1dHMsIGZ1bmN0aW9uICgkaW5wdXQpIHtcclxuICAgIHZhciB0YXJnZXQgPSAkaW5wdXQuZ2V0QXR0cmlidXRlKCdkYXRhLWFyaWEtY29udHJvbHMnKTtcclxuXHJcbiAgICAvLyBTa2lwIGNoZWNrYm94ZXMgd2l0aG91dCBkYXRhLWFyaWEtY29udHJvbHMgYXR0cmlidXRlcywgb3Igd2hlcmUgdGhlXHJcbiAgICAvLyB0YXJnZXQgZWxlbWVudCBkb2VzIG5vdCBleGlzdC5cclxuICAgIGlmICghdGFyZ2V0IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb21vdGUgdGhlIGRhdGEtYXJpYS1jb250cm9scyBhdHRyaWJ1dGUgdG8gYSBhcmlhLWNvbnRyb2xzIGF0dHJpYnV0ZVxyXG4gICAgLy8gc28gdGhhdCB0aGUgcmVsYXRpb25zaGlwIGlzIGV4cG9zZWQgaW4gdGhlIEFPTVxyXG4gICAgJGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHRhcmdldCk7XHJcbiAgICAkaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFyaWEtY29udHJvbHMnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gV2hlbiB0aGUgcGFnZSBpcyByZXN0b3JlZCBhZnRlciBuYXZpZ2F0aW5nICdiYWNrJyBpbiBzb21lIGJyb3dzZXJzIHRoZVxyXG4gIC8vIHN0YXRlIG9mIGZvcm0gY29udHJvbHMgaXMgbm90IHJlc3RvcmVkIHVudGlsICphZnRlciogdGhlIERPTUNvbnRlbnRMb2FkZWRcclxuICAvLyBldmVudCBpcyBmaXJlZCwgc28gd2UgbmVlZCB0byBzeW5jIGFmdGVyIHRoZSBwYWdlc2hvdyBldmVudCBpbiBicm93c2Vyc1xyXG4gIC8vIHRoYXQgc3VwcG9ydCBpdC5cclxuICBpZiAoJ29ucGFnZXNob3cnIGluIHdpbmRvdykge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgdGhpcy5zeW5jQWxsQ29uZGl0aW9uYWxSZXZlYWxzLmJpbmQodGhpcykpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscy5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIC8vIEFsdGhvdWdoIHdlJ3ZlIHNldCB1cCBoYW5kbGVycyB0byBzeW5jIHN0YXRlIG9uIHRoZSBwYWdlc2hvdyBvclxyXG4gIC8vIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQsIGluaXQgY291bGQgYmUgY2FsbGVkIGFmdGVyIHRob3NlIGV2ZW50cyBoYXZlIGZpcmVkLFxyXG4gIC8vIGZvciBleGFtcGxlIGlmIHRoZXkgYXJlIGFkZGVkIHRvIHRoZSBwYWdlIGR5bmFtaWNhbGx5LCBzbyBzeW5jIG5vdyB0b28uXHJcbiAgdGhpcy5zeW5jQWxsQ29uZGl0aW9uYWxSZXZlYWxzKCk7XHJcblxyXG4gICRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgdGhlIGNvbmRpdGlvbmFsIHJldmVhbCBzdGF0ZXMgZm9yIGFsbCBpbnB1dHMgaW4gdGhpcyAkbW9kdWxlLlxyXG4gKi9cclxuQ2hlY2tib3hlcy5wcm90b3R5cGUuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscyA9IGZ1bmN0aW9uICgpIHtcclxuICBub2RlTGlzdEZvckVhY2godGhpcy4kaW5wdXRzLCB0aGlzLnN5bmNDb25kaXRpb25hbFJldmVhbFdpdGhJbnB1dFN0YXRlLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgY29uZGl0aW9uYWwgcmV2ZWFsIHdpdGggdGhlIGlucHV0IHN0YXRlXHJcbiAqXHJcbiAqIFN5bmNocm9uaXNlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjb25kaXRpb25hbCByZXZlYWwsIGFuZCBpdHMgYWNjZXNzaWJsZVxyXG4gKiBzdGF0ZSwgd2l0aCB0aGUgaW5wdXQncyBjaGVja2VkIHN0YXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9ICRpbnB1dCBDaGVja2JveCBpbnB1dFxyXG4gKi9cclxuQ2hlY2tib3hlcy5wcm90b3R5cGUuc3luY0NvbmRpdGlvbmFsUmV2ZWFsV2l0aElucHV0U3RhdGUgPSBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgdmFyICR0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgkaW5wdXQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJykpO1xyXG5cclxuICBpZiAoJHRhcmdldCAmJiAkdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ292dWstY2hlY2tib3hlc19fY29uZGl0aW9uYWwnKSkge1xyXG4gICAgdmFyIGlucHV0SXNDaGVja2VkID0gJGlucHV0LmNoZWNrZWQ7XHJcblxyXG4gICAgJGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGlucHV0SXNDaGVja2VkKTtcclxuICAgICR0YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnZ292dWstY2hlY2tib3hlc19fY29uZGl0aW9uYWwtLWhpZGRlbicsICFpbnB1dElzQ2hlY2tlZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFVuY2hlY2sgb3RoZXIgY2hlY2tib3hlc1xyXG4gKlxyXG4gKiBGaW5kIGFueSBvdGhlciBjaGVja2JveCBpbnB1dHMgd2l0aCB0aGUgc2FtZSBuYW1lIHZhbHVlLCBhbmQgdW5jaGVjayB0aGVtLlxyXG4gKiBUaGlzIGlzIHVzZWZ1bCBmb3Igd2hlbiBhIOKAnE5vbmUgb2YgdGhlc2VcIiBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gKi9cclxuQ2hlY2tib3hlcy5wcm90b3R5cGUudW5DaGVja0FsbElucHV0c0V4Y2VwdCA9IGZ1bmN0aW9uICgkaW5wdXQpIHtcclxuICB2YXIgYWxsSW5wdXRzV2l0aFNhbWVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW25hbWU9XCInICsgJGlucHV0Lm5hbWUgKyAnXCJdJyk7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaChhbGxJbnB1dHNXaXRoU2FtZU5hbWUsIGZ1bmN0aW9uICgkaW5wdXRXaXRoU2FtZU5hbWUpIHtcclxuICAgIHZhciBoYXNTYW1lRm9ybU93bmVyID0gKCRpbnB1dC5mb3JtID09PSAkaW5wdXRXaXRoU2FtZU5hbWUuZm9ybSk7XHJcbiAgICBpZiAoaGFzU2FtZUZvcm1Pd25lciAmJiAkaW5wdXRXaXRoU2FtZU5hbWUgIT09ICRpbnB1dCkge1xyXG4gICAgICAkaW5wdXRXaXRoU2FtZU5hbWUuY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnN5bmNDb25kaXRpb25hbFJldmVhbFdpdGhJbnB1dFN0YXRlKCRpbnB1dFdpdGhTYW1lTmFtZSk7XHJcbiAgICB9XHJcbiAgfS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBVbmNoZWNrIGV4Y2x1c2l2ZSBpbnB1dHNcclxuICpcclxuICogRmluZCBhbnkgY2hlY2tib3ggaW5wdXRzIHdpdGggdGhlIHNhbWUgbmFtZSB2YWx1ZSBhbmQgdGhlICdleGNsdXNpdmUnIGJlaGF2aW91cixcclxuICogYW5kIHVuY2hlY2sgdGhlbS4gVGhpcyBoZWxwcyBwcmV2ZW50IHNvbWVvbmUgY2hlY2tpbmcgYm90aCBhIHJlZ3VsYXIgY2hlY2tib3ggYW5kIGFcclxuICogXCJOb25lIG9mIHRoZXNlXCIgY2hlY2tib3ggaW4gdGhlIHNhbWUgZmllbGRzZXQuXHJcbiAqL1xyXG5DaGVja2JveGVzLnByb3RvdHlwZS51bkNoZWNrRXhjbHVzaXZlSW5wdXRzID0gZnVuY3Rpb24gKCRpbnB1dCkge1xyXG4gIHZhciBhbGxJbnB1dHNXaXRoU2FtZU5hbWVBbmRFeGNsdXNpdmVCZWhhdmlvdXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgJ2lucHV0W2RhdGEtYmVoYXZpb3VyPVwiZXhjbHVzaXZlXCJdW3R5cGU9XCJjaGVja2JveFwiXVtuYW1lPVwiJyArICRpbnB1dC5uYW1lICsgJ1wiXSdcclxuICApO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goYWxsSW5wdXRzV2l0aFNhbWVOYW1lQW5kRXhjbHVzaXZlQmVoYXZpb3VyLCBmdW5jdGlvbiAoJGV4Y2x1c2l2ZUlucHV0KSB7XHJcbiAgICB2YXIgaGFzU2FtZUZvcm1Pd25lciA9ICgkaW5wdXQuZm9ybSA9PT0gJGV4Y2x1c2l2ZUlucHV0LmZvcm0pO1xyXG4gICAgaWYgKGhhc1NhbWVGb3JtT3duZXIpIHtcclxuICAgICAgJGV4Y2x1c2l2ZUlucHV0LmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSgkZXhjbHVzaXZlSW5wdXQpO1xyXG4gICAgfVxyXG4gIH0uYmluZCh0aGlzKSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2xpY2sgZXZlbnQgaGFuZGxlclxyXG4gKlxyXG4gKiBIYW5kbGUgYSBjbGljayB3aXRoaW4gdGhlICRtb2R1bGUg4oCTIGlmIHRoZSBjbGljayBvY2N1cnJlZCBvbiBhIGNoZWNrYm94LCBzeW5jXHJcbiAqIHRoZSBzdGF0ZSBvZiBhbnkgYXNzb2NpYXRlZCBjb25kaXRpb25hbCByZXZlYWwgd2l0aCB0aGUgY2hlY2tib3ggc3RhdGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgQ2xpY2sgZXZlbnRcclxuICovXHJcbkNoZWNrYm94ZXMucHJvdG90eXBlLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgdmFyICR0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gIC8vIElnbm9yZSBjbGlja3Mgb24gdGhpbmdzIHRoYXQgYXJlbid0IGNoZWNrYm94IGlucHV0c1xyXG4gIGlmICgkdGFyZ2V0LnR5cGUgIT09ICdjaGVja2JveCcpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gSWYgdGhlIGNoZWNrYm94IGNvbmRpdGlvbmFsbHktcmV2ZWFscyBzb21lIGNvbnRlbnQsIHN5bmMgdGhlIHN0YXRlXHJcbiAgdmFyIGhhc0FyaWFDb250cm9scyA9ICR0YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJyk7XHJcbiAgaWYgKGhhc0FyaWFDb250cm9scykge1xyXG4gICAgdGhpcy5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSgkdGFyZ2V0KTtcclxuICB9XHJcblxyXG4gIC8vIE5vIGZ1cnRoZXIgYmVoYXZpb3VyIG5lZWRlZCBmb3IgdW5jaGVja2luZ1xyXG4gIGlmICghJHRhcmdldC5jaGVja2VkKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIC8vIEhhbmRsZSAnZXhjbHVzaXZlJyBjaGVja2JveCBiZWhhdmlvdXIgKGllIFwiTm9uZSBvZiB0aGVzZVwiKVxyXG4gIHZhciBoYXNCZWhhdmlvdXJFeGNsdXNpdmUgPSAoJHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmVoYXZpb3VyJykgPT09ICdleGNsdXNpdmUnKTtcclxuICBpZiAoaGFzQmVoYXZpb3VyRXhjbHVzaXZlKSB7XHJcbiAgICB0aGlzLnVuQ2hlY2tBbGxJbnB1dHNFeGNlcHQoJHRhcmdldCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRoaXMudW5DaGVja0V4Y2x1c2l2ZUlucHV0cygkdGFyZ2V0KTtcclxuICB9XHJcbn07XHJcblxyXG4oZnVuY3Rpb24odW5kZWZpbmVkKSB7XHJcblxyXG4gIC8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS8xZjNjMDliNDAyZjY1YmY2ZTM5M2Y5MzNhMTViYTYzZjFiODZlZjFmL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0VsZW1lbnQvcHJvdG90eXBlL21hdGNoZXMvZGV0ZWN0LmpzXHJcbiAgdmFyIGRldGVjdCA9IChcclxuICAgICdkb2N1bWVudCcgaW4gdGhpcyAmJiBcIm1hdGNoZXNcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICApO1xyXG5cclxuICBpZiAoZGV0ZWN0KSByZXR1cm5cclxuXHJcbiAgLy8gUG9seWZpbGwgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLXNlcnZpY2UvMWYzYzA5YjQwMmY2NWJmNmUzOTNmOTMzYTE1YmE2M2YxYjg2ZWYxZi9wYWNrYWdlcy9wb2x5ZmlsbC1saWJyYXJ5L3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9tYXRjaGVzL3BvbHlmaWxsLmpzXHJcbiAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8IEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fCBmdW5jdGlvbiBtYXRjaGVzKHNlbGVjdG9yKSB7XHJcbiAgICB2YXIgZWxlbWVudCA9IHRoaXM7XHJcbiAgICB2YXIgZWxlbWVudHMgPSAoZWxlbWVudC5kb2N1bWVudCB8fCBlbGVtZW50Lm93bmVyRG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuXHJcbiAgICB3aGlsZSAoZWxlbWVudHNbaW5kZXhdICYmIGVsZW1lbnRzW2luZGV4XSAhPT0gZWxlbWVudCkge1xyXG4gICAgICArK2luZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAhIWVsZW1lbnRzW2luZGV4XTtcclxuICB9O1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbiAgLy8gRGV0ZWN0aW9uIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1zZXJ2aWNlLzFmM2MwOWI0MDJmNjViZjZlMzkzZjkzM2ExNWJhNjNmMWI4NmVmMWYvcGFja2FnZXMvcG9seWZpbGwtbGlicmFyeS9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvY2xvc2VzdC9kZXRlY3QuanNcclxuICB2YXIgZGV0ZWN0ID0gKFxyXG4gICAgJ2RvY3VtZW50JyBpbiB0aGlzICYmIFwiY2xvc2VzdFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG4gICk7XHJcblxyXG4gIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAvLyBQb2x5ZmlsbCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtc2VydmljZS8xZjNjMDliNDAyZjY1YmY2ZTM5M2Y5MzNhMTViYTYzZjFiODZlZjFmL3BhY2thZ2VzL3BvbHlmaWxsLWxpYnJhcnkvcG9seWZpbGxzL0VsZW1lbnQvcHJvdG90eXBlL2Nsb3Nlc3QvcG9seWZpbGwuanNcclxuICBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gZnVuY3Rpb24gY2xvc2VzdChzZWxlY3Rvcikge1xyXG4gICAgdmFyIG5vZGUgPSB0aGlzO1xyXG5cclxuICAgIHdoaWxlIChub2RlKSB7XHJcbiAgICAgIGlmIChub2RlLm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gbm9kZTtcclxuICAgICAgZWxzZSBub2RlID0gJ1NWR0VsZW1lbnQnIGluIHdpbmRvdyAmJiBub2RlIGluc3RhbmNlb2YgU1ZHRWxlbWVudCA/IG5vZGUucGFyZW50Tm9kZSA6IG5vZGUucGFyZW50RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxufSkuY2FsbCgnb2JqZWN0JyA9PT0gdHlwZW9mIHdpbmRvdyAmJiB3aW5kb3cgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBzZWxmICYmIHNlbGYgfHwgJ29iamVjdCcgPT09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsIHx8IHt9KTtcclxuXHJcbmZ1bmN0aW9uIEVycm9yU3VtbWFyeSAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbn1cclxuXHJcbkVycm9yU3VtbWFyeS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuICBpZiAoISRtb2R1bGUpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgdGhpcy5zZXRGb2N1cygpO1xyXG4gICRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEZvY3VzIHRoZSBlcnJvciBzdW1tYXJ5XHJcbiAqL1xyXG5FcnJvclN1bW1hcnkucHJvdG90eXBlLnNldEZvY3VzID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbW9kdWxlID0gdGhpcy4kbW9kdWxlO1xyXG5cclxuICBpZiAoJG1vZHVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlzYWJsZS1hdXRvLWZvY3VzJykgPT09ICd0cnVlJykge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBTZXQgdGFiaW5kZXggdG8gLTEgdG8gbWFrZSB0aGUgZWxlbWVudCBwcm9ncmFtbWF0aWNhbGx5IGZvY3VzYWJsZSwgYnV0XHJcbiAgLy8gcmVtb3ZlIGl0IG9uIGJsdXIgYXMgdGhlIGVycm9yIHN1bW1hcnkgZG9lc24ndCBuZWVkIHRvIGJlIGZvY3VzZWQgYWdhaW4uXHJcbiAgJG1vZHVsZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gICRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICRtb2R1bGUucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xyXG4gIH0pO1xyXG5cclxuICAkbW9kdWxlLmZvY3VzKCk7XHJcbn07XHJcblxyXG4vKipcclxuKiBDbGljayBldmVudCBoYW5kbGVyXHJcbipcclxuKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IC0gQ2xpY2sgZXZlbnRcclxuKi9cclxuRXJyb3JTdW1tYXJ5LnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgaWYgKHRoaXMuZm9jdXNUYXJnZXQodGFyZ2V0KSkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogRm9jdXMgdGhlIHRhcmdldCBlbGVtZW50XHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIHRoZSBicm93c2VyIHdpbGwgc2Nyb2xsIHRoZSB0YXJnZXQgaW50byB2aWV3LiBCZWNhdXNlIG91ciBsYWJlbHNcclxuICogb3IgbGVnZW5kcyBhcHBlYXIgYWJvdmUgdGhlIGlucHV0LCB0aGlzIG1lYW5zIHRoZSB1c2VyIHdpbGwgYmUgcHJlc2VudGVkIHdpdGhcclxuICogYW4gaW5wdXQgd2l0aG91dCBhbnkgY29udGV4dCwgYXMgdGhlIGxhYmVsIG9yIGxlZ2VuZCB3aWxsIGJlIG9mZiB0aGUgdG9wIG9mXHJcbiAqIHRoZSBzY3JlZW4uXHJcbiAqXHJcbiAqIE1hbnVhbGx5IGhhbmRsaW5nIHRoZSBjbGljayBldmVudCwgc2Nyb2xsaW5nIHRoZSBxdWVzdGlvbiBpbnRvIHZpZXcgYW5kIHRoZW5cclxuICogZm9jdXNzaW5nIHRoZSBlbGVtZW50IHNvbHZlcyB0aGlzLlxyXG4gKlxyXG4gKiBUaGlzIGFsc28gcmVzdWx0cyBpbiB0aGUgbGFiZWwgYW5kL29yIGxlZ2VuZCBiZWluZyBhbm5vdW5jZWQgY29ycmVjdGx5IGluXHJcbiAqIE5WREEgKGFzIHRlc3RlZCBpbiAyMDE4LjMuMikgLSB3aXRob3V0IHRoaXMgb25seSB0aGUgZmllbGQgdHlwZSBpcyBhbm5vdW5jZWRcclxuICogKGUuZy4gXCJFZGl0LCBoYXMgYXV0b2NvbXBsZXRlXCIpLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAkdGFyZ2V0IC0gRXZlbnQgdGFyZ2V0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB0YXJnZXQgd2FzIGFibGUgdG8gYmUgZm9jdXNzZWRcclxuICovXHJcbkVycm9yU3VtbWFyeS5wcm90b3R5cGUuZm9jdXNUYXJnZXQgPSBmdW5jdGlvbiAoJHRhcmdldCkge1xyXG4gIC8vIElmIHRoZSBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQgd2FzIG5vdCBhIGxpbmssIHJldHVybiBlYXJseVxyXG4gIGlmICgkdGFyZ2V0LnRhZ05hbWUgIT09ICdBJyB8fCAkdGFyZ2V0LmhyZWYgPT09IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHZhciBpbnB1dElkID0gdGhpcy5nZXRGcmFnbWVudEZyb21VcmwoJHRhcmdldC5ocmVmKTtcclxuICB2YXIgJGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXRJZCk7XHJcbiAgaWYgKCEkaW5wdXQpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgdmFyICRsZWdlbmRPckxhYmVsID0gdGhpcy5nZXRBc3NvY2lhdGVkTGVnZW5kT3JMYWJlbCgkaW5wdXQpO1xyXG4gIGlmICghJGxlZ2VuZE9yTGFiZWwpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgLy8gU2Nyb2xsIHRoZSBsZWdlbmQgb3IgbGFiZWwgaW50byB2aWV3ICpiZWZvcmUqIGNhbGxpbmcgZm9jdXMgb24gdGhlIGlucHV0IHRvXHJcbiAgLy8gYXZvaWQgZXh0cmEgc2Nyb2xsaW5nIGluIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBgcHJldmVudFNjcm9sbGAgKHdoaWNoXHJcbiAgLy8gYXQgdGltZSBvZiB3cml0aW5nIGlzIG1vc3Qgb2YgdGhlbS4uLilcclxuICAkbGVnZW5kT3JMYWJlbC5zY3JvbGxJbnRvVmlldygpO1xyXG4gICRpbnB1dC5mb2N1cyh7IHByZXZlbnRTY3JvbGw6IHRydWUgfSk7XHJcblxyXG4gIHJldHVybiB0cnVlXHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IGZyYWdtZW50IGZyb20gVVJMXHJcbiAqXHJcbiAqIEV4dHJhY3QgdGhlIGZyYWdtZW50IChldmVyeXRoaW5nIGFmdGVyIHRoZSBoYXNoKSBmcm9tIGEgVVJMLCBidXQgbm90IGluY2x1ZGluZ1xyXG4gKiB0aGUgaGFzaC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGcmFnbWVudCBmcm9tIFVSTCwgd2l0aG91dCB0aGUgaGFzaFxyXG4gKi9cclxuRXJyb3JTdW1tYXJ5LnByb3RvdHlwZS5nZXRGcmFnbWVudEZyb21VcmwgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgaWYgKHVybC5pbmRleE9mKCcjJykgPT09IC0xKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHJldHVybiB1cmwuc3BsaXQoJyMnKS5wb3AoKVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCBhc3NvY2lhdGVkIGxlZ2VuZCBvciBsYWJlbFxyXG4gKlxyXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgZXhpc3RzIGZyb20gdGhpcyBsaXN0OlxyXG4gKlxyXG4gKiAtIFRoZSBgPGxlZ2VuZD5gIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2xvc2VzdCBgPGZpZWxkc2V0PmAgYW5jZXN0b3IsIGFzIGxvbmdcclxuICogICBhcyB0aGUgdG9wIG9mIGl0IGlzIG5vIG1vcmUgdGhhbiBoYWxmIGEgdmlld3BvcnQgaGVpZ2h0IGF3YXkgZnJvbSB0aGVcclxuICogICBib3R0b20gb2YgdGhlIGlucHV0XHJcbiAqIC0gVGhlIGZpcnN0IGA8bGFiZWw+YCB0aGF0IGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5wdXQgdXNpbmcgZm9yPVwiaW5wdXRJZFwiXHJcbiAqIC0gVGhlIGNsb3Nlc3QgcGFyZW50IGA8bGFiZWw+YFxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAkaW5wdXQgLSBUaGUgaW5wdXRcclxuICogQHJldHVybnMge0hUTUxFbGVtZW50fSBBc3NvY2lhdGVkIGxlZ2VuZCBvciBsYWJlbCwgb3IgbnVsbCBpZiBubyBhc3NvY2lhdGVkXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgbGVnZW5kIG9yIGxhYmVsIGNhbiBiZSBmb3VuZFxyXG4gKi9cclxuRXJyb3JTdW1tYXJ5LnByb3RvdHlwZS5nZXRBc3NvY2lhdGVkTGVnZW5kT3JMYWJlbCA9IGZ1bmN0aW9uICgkaW5wdXQpIHtcclxuICB2YXIgJGZpZWxkc2V0ID0gJGlucHV0LmNsb3Nlc3QoJ2ZpZWxkc2V0Jyk7XHJcblxyXG4gIGlmICgkZmllbGRzZXQpIHtcclxuICAgIHZhciBsZWdlbmRzID0gJGZpZWxkc2V0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsZWdlbmQnKTtcclxuXHJcbiAgICBpZiAobGVnZW5kcy5sZW5ndGgpIHtcclxuICAgICAgdmFyICRjYW5kaWRhdGVMZWdlbmQgPSBsZWdlbmRzWzBdO1xyXG5cclxuICAgICAgLy8gSWYgdGhlIGlucHV0IHR5cGUgaXMgcmFkaW8gb3IgY2hlY2tib3gsIGFsd2F5cyB1c2UgdGhlIGxlZ2VuZCBpZiB0aGVyZVxyXG4gICAgICAvLyBpcyBvbmUuXHJcbiAgICAgIGlmICgkaW5wdXQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCAkaW5wdXQudHlwZSA9PT0gJ3JhZGlvJykge1xyXG4gICAgICAgIHJldHVybiAkY2FuZGlkYXRlTGVnZW5kXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZvciBvdGhlciBpbnB1dCB0eXBlcywgb25seSBzY3JvbGwgdG8gdGhlIGZpZWxkc2V04oCZcyBsZWdlbmQgKGluc3RlYWQgb2ZcclxuICAgICAgLy8gdGhlIGxhYmVsIGFzc29jaWF0ZWQgd2l0aCB0aGUgaW5wdXQpIGlmIHRoZSBpbnB1dCB3b3VsZCBlbmQgdXAgaW4gdGhlXHJcbiAgICAgIC8vIHRvcCBoYWxmIG9mIHRoZSBzY3JlZW4uXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFRoaXMgc2hvdWxkIGF2b2lkIHNpdHVhdGlvbnMgd2hlcmUgdGhlIGlucHV0IGVpdGhlciBlbmRzIHVwIG9mZiB0aGVcclxuICAgICAgLy8gc2NyZWVuLCBvciBvYnNjdXJlZCBieSBhIHNvZnR3YXJlIGtleWJvYXJkLlxyXG4gICAgICB2YXIgbGVnZW5kVG9wID0gJGNhbmRpZGF0ZUxlZ2VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgIHZhciBpbnB1dFJlY3QgPSAkaW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcclxuICAgICAgLy8gb3Igd2luZG93LmlubmVySGVpZ2h0IChsaWtlIElFOCksIGJhaWwgYW5kIGp1c3QgbGluayB0byB0aGUgbGFiZWwuXHJcbiAgICAgIGlmIChpbnB1dFJlY3QuaGVpZ2h0ICYmIHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICAgIHZhciBpbnB1dEJvdHRvbSA9IGlucHV0UmVjdC50b3AgKyBpbnB1dFJlY3QuaGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRCb3R0b20gLSBsZWdlbmRUb3AgPCB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSB7XHJcbiAgICAgICAgICByZXR1cm4gJGNhbmRpZGF0ZUxlZ2VuZFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFtmb3I9J1wiICsgJGlucHV0LmdldEF0dHJpYnV0ZSgnaWQnKSArIFwiJ11cIikgfHxcclxuICAgICRpbnB1dC5jbG9zZXN0KCdsYWJlbCcpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBOb3RpZmljYXRpb25CYW5uZXIgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGlzZSB0aGUgY29tcG9uZW50XHJcbiAqL1xyXG5Ob3RpZmljYXRpb25CYW5uZXIucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgLy8gQ2hlY2sgZm9yIG1vZHVsZVxyXG4gIGlmICghJG1vZHVsZSkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICB0aGlzLnNldEZvY3VzKCk7XHJcbn07XHJcblxyXG4vKipcclxuICogRm9jdXMgdGhlIGVsZW1lbnRcclxuICpcclxuICogSWYgYHJvbGU9XCJhbGVydFwiYCBpcyBzZXQsIGZvY3VzIHRoZSBlbGVtZW50IHRvIGhlbHAgc29tZSBhc3Npc3RpdmUgdGVjaG5vbG9naWVzXHJcbiAqIHByaW9yaXRpc2UgYW5ub3VuY2luZyBpdC5cclxuICpcclxuICogWW91IGNhbiB0dXJuIG9mZiB0aGUgYXV0by1mb2N1cyBmdW5jdGlvbmFsaXR5IGJ5IHNldHRpbmcgYGRhdGEtZGlzYWJsZS1hdXRvLWZvY3VzPVwidHJ1ZVwiYCBpbiB0aGVcclxuICogY29tcG9uZW50IEhUTUwuIFlvdSBtaWdodCB3aXNoIHRvIGRvIHRoaXMgYmFzZWQgb24gdXNlciByZXNlYXJjaCBmaW5kaW5ncywgb3IgdG8gYXZvaWQgYSBjbGFzaFxyXG4gKiB3aXRoIGFub3RoZXIgZWxlbWVudCB3aGljaCBzaG91bGQgYmUgZm9jdXNlZCB3aGVuIHRoZSBwYWdlIGxvYWRzLlxyXG4gKi9cclxuTm90aWZpY2F0aW9uQmFubmVyLnByb3RvdHlwZS5zZXRGb2N1cyA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgJG1vZHVsZSA9IHRoaXMuJG1vZHVsZTtcclxuXHJcbiAgaWYgKCRtb2R1bGUuZ2V0QXR0cmlidXRlKCdkYXRhLWRpc2FibGUtYXV0by1mb2N1cycpID09PSAndHJ1ZScpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgaWYgKCRtb2R1bGUuZ2V0QXR0cmlidXRlKCdyb2xlJykgIT09ICdhbGVydCcpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gU2V0IHRhYmluZGV4IHRvIC0xIHRvIG1ha2UgdGhlIGVsZW1lbnQgZm9jdXNhYmxlIHdpdGggSmF2YVNjcmlwdC5cclxuICAvLyBSZW1vdmUgdGhlIHRhYmluZGV4IG9uIGJsdXIgYXMgdGhlIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gYmUgZm9jdXNhYmxlIGFmdGVyIHRoZSBwYWdlIGhhc1xyXG4gIC8vIGxvYWRlZC5cclxuICBpZiAoISRtb2R1bGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XHJcbiAgICAkbW9kdWxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxuXHJcbiAgICAkbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICRtb2R1bGUucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAkbW9kdWxlLmZvY3VzKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBIZWFkZXIgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG4gIHRoaXMuJG1lbnVCdXR0b24gPSAkbW9kdWxlICYmICRtb2R1bGUucXVlcnlTZWxlY3RvcignLmdvdnVrLWpzLWhlYWRlci10b2dnbGUnKTtcclxuICB0aGlzLiRtZW51ID0gdGhpcy4kbWVudUJ1dHRvbiAmJiAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAnIycgKyB0aGlzLiRtZW51QnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpXHJcbiAgKTtcclxuXHJcbiAgLy8gU2F2ZSB0aGUgb3BlbmVkL2Nsb3NlZCBzdGF0ZSBmb3IgdGhlIG5hdiBpbiBtZW1vcnkgc28gdGhhdCB3ZSBjYW5cclxuICAvLyBhY2N1cmF0ZWx5IG1haW50YWluIHN0YXRlIHdoZW4gdGhlIHNjcmVlbiBpcyBjaGFuZ2VkIGZyb20gc21hbGwgdG9cclxuICAvLyBiaWcgYW5kIGJhY2sgdG8gc21hbGxcclxuICB0aGlzLm1lbnVJc09wZW4gPSBmYWxzZTtcclxuXHJcbiAgLy8gQSBnbG9iYWwgY29uc3QgZm9yIHN0b3JpbmcgYSBtYXRjaE1lZGlhIGluc3RhbmNlIHdoaWNoIHdlJ2xsIHVzZSB0b1xyXG4gIC8vIGRldGVjdCB3aGVuIGEgc2NyZWVuIHNpemUgY2hhbmdlIGhhcHBlbnMuIFdlIHNldCB0aGlzIGxhdGVyIGR1cmluZyB0aGVcclxuICAvLyBpbml0IGZ1bmN0aW9uIGFuZCByZWx5IG9uIGl0IGJlaW5nIG51bGwgaWYgdGhlIGZlYXR1cmUgaXNuJ3QgYXZhaWxhYmxlXHJcbiAgLy8gdG8gaW5pdGlhbGx5IGFwcGx5IGhpZGRlbiBhdHRyaWJ1dGVzXHJcbiAgdGhpcy5tcWwgPSBudWxsO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGlzZSBoZWFkZXJcclxuICpcclxuICogQ2hlY2sgZm9yIHRoZSBwcmVzZW5jZSBvZiB0aGUgaGVhZGVyLCBtZW51IGFuZCBtZW51IGJ1dHRvbiDigJMgaWYgYW55IGFyZVxyXG4gKiBtaXNzaW5nIHRoZW4gdGhlcmUncyBub3RoaW5nIHRvIGRvIHNvIHJldHVybiBlYXJseS5cclxuICogRmVhdHVyZSBzbmlmZiBmb3IgYW5kIGFwcGx5IGEgbWF0Y2hNZWRpYSBmb3IgZGVza3RvcCB3aGljaCB3aWxsXHJcbiAqIHRyaWdnZXIgYSBzdGF0ZSBzeW5jIGlmIHRoZSBicm93c2VyIHZpZXdwb3J0IG1vdmVzIGJldHdlZW4gc3RhdGVzLiBJZlxyXG4gKiBtYXRjaE1lZGlhIGlzbid0IGF2YWlsYWJsZSwgaGlkZSB0aGUgbWVudSBidXR0b24gYW5kIHByZXNlbnQgdGhlIFwibm8ganNcIlxyXG4gKiB2ZXJzaW9uIG9mIHRoZSBtZW51IHRvIHRoZSB1c2VyLlxyXG4gKi9cclxuSGVhZGVyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICghdGhpcy4kbW9kdWxlIHx8ICF0aGlzLiRtZW51QnV0dG9uIHx8ICF0aGlzLiRtZW51KSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcblxyXG4gIGlmICgnbWF0Y2hNZWRpYScgaW4gd2luZG93KSB7XHJcbiAgICAvLyBTZXQgdGhlIG1hdGNoTWVkaWEgdG8gdGhlIGdvdnVrLWZyb250ZW5kIGRlc2t0b3AgYnJlYWtwb2ludFxyXG4gICAgdGhpcy5tcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNDguMDYyNWVtKScpO1xyXG5cclxuICAgIGlmICgnYWRkRXZlbnRMaXN0ZW5lcicgaW4gdGhpcy5tcWwpIHtcclxuICAgICAgdGhpcy5tcWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5zeW5jU3RhdGUuYmluZCh0aGlzKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBhZGRMaXN0ZW5lciBpcyBhIGRlcHJlY2F0ZWQgZnVuY3Rpb24sIGhvd2V2ZXIgYWRkRXZlbnRMaXN0ZW5lclxyXG4gICAgICAvLyBpc24ndCBzdXBwb3J0ZWQgYnkgSUUgb3IgU2FmYXJpLiBXZSB0aGVyZWZvcmUgYWRkIHRoaXMgaW4gYXNcclxuICAgICAgLy8gYSBmYWxsYmFjayBmb3IgdGhvc2UgYnJvd3NlcnNcclxuICAgICAgdGhpcy5tcWwuYWRkTGlzdGVuZXIodGhpcy5zeW5jU3RhdGUuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zeW5jU3RhdGUoKTtcclxuICAgIHRoaXMuJG1lbnVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZU1lbnVCdXR0b25DbGljay5iaW5kKHRoaXMpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy4kbWVudUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogU3luYyBtZW51IHN0YXRlXHJcbiAqXHJcbiAqIFVzZXMgdGhlIGdsb2JhbCB2YXJpYWJsZSBtZW51SXNPcGVuIHRvIGNvcnJlY3RseSBzZXQgdGhlIGFjY2Vzc2libGUgYW5kXHJcbiAqIHZpc3VhbCBzdGF0ZXMgb2YgdGhlIG1lbnUgYW5kIHRoZSBtZW51IGJ1dHRvbi5cclxuICogQWRkaXRpb25hbGx5IHdpbGwgZm9yY2UgdGhlIG1lbnUgdG8gYmUgdmlzaWJsZSBhbmQgdGhlIG1lbnUgYnV0dG9uIHRvIGJlXHJcbiAqIGhpZGRlbiBpZiB0aGUgbWF0Y2hNZWRpYSBpcyB0cmlnZ2VyZWQgdG8gZGVza3RvcC5cclxuICovXHJcbkhlYWRlci5wcm90b3R5cGUuc3luY1N0YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gIGlmICh0aGlzLm1xbC5tYXRjaGVzKSB7XHJcbiAgICB0aGlzLiRtZW51LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLiRtZW51QnV0dG9uLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLiRtZW51QnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XHJcbiAgICB0aGlzLiRtZW51QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRoaXMubWVudUlzT3Blbik7XHJcblxyXG4gICAgaWYgKHRoaXMubWVudUlzT3Blbikge1xyXG4gICAgICB0aGlzLiRtZW51LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiRtZW51LnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBIYW5kbGUgbWVudSBidXR0b24gY2xpY2tcclxuICpcclxuICogV2hlbiB0aGUgbWVudSBidXR0b24gaXMgY2xpY2tlZCwgY2hhbmdlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBtZW51IGFuZCB0aGVuXHJcbiAqIHN5bmMgdGhlIGFjY2Vzc2liaWxpdHkgc3RhdGUgYW5kIG1lbnUgYnV0dG9uIHN0YXRlXHJcbiAqL1xyXG5IZWFkZXIucHJvdG90eXBlLmhhbmRsZU1lbnVCdXR0b25DbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLm1lbnVJc09wZW4gPSAhdGhpcy5tZW51SXNPcGVuO1xyXG4gIHRoaXMuc3luY1N0YXRlKCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBSYWRpb3MgKCRtb2R1bGUpIHtcclxuICB0aGlzLiRtb2R1bGUgPSAkbW9kdWxlO1xyXG4gIHRoaXMuJGlucHV0cyA9ICRtb2R1bGUucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0aWFsaXNlIFJhZGlvc1xyXG4gKlxyXG4gKiBSYWRpb3MgY2FuIGJlIGFzc29jaWF0ZWQgd2l0aCBhICdjb25kaXRpb25hbGx5IHJldmVhbGVkJyBjb250ZW50IGJsb2NrIOKAkyBmb3JcclxuICogZXhhbXBsZSwgYSByYWRpbyBmb3IgJ1Bob25lJyBjb3VsZCByZXZlYWwgYW4gYWRkaXRpb25hbCBmb3JtIGZpZWxkIGZvciB0aGVcclxuICogdXNlciB0byBlbnRlciB0aGVpciBwaG9uZSBudW1iZXIuXHJcbiAqXHJcbiAqIFRoZXNlIGFzc29jaWF0aW9ucyBhcmUgbWFkZSB1c2luZyBhIGBkYXRhLWFyaWEtY29udHJvbHNgIGF0dHJpYnV0ZSwgd2hpY2ggaXNcclxuICogcHJvbW90ZWQgdG8gYW4gYXJpYS1jb250cm9scyBhdHRyaWJ1dGUgZHVyaW5nIGluaXRpYWxpc2F0aW9uLlxyXG4gKlxyXG4gKiBXZSBhbHNvIG5lZWQgdG8gcmVzdG9yZSB0aGUgc3RhdGUgb2YgYW55IGNvbmRpdGlvbmFsIHJldmVhbHMgb24gdGhlIHBhZ2UgKGZvclxyXG4gKiBleGFtcGxlIGlmIHRoZSB1c2VyIGhhcyBuYXZpZ2F0ZWQgYmFjayksIGFuZCBzZXQgdXAgZXZlbnQgaGFuZGxlcnMgdG8ga2VlcFxyXG4gKiB0aGUgcmV2ZWFsIGluIHN5bmMgd2l0aCB0aGUgcmFkaW8gc3RhdGUuXHJcbiAqL1xyXG5SYWRpb3MucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgdmFyICRpbnB1dHMgPSB0aGlzLiRpbnB1dHM7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkaW5wdXRzLCBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgICB2YXIgdGFyZ2V0ID0gJGlucHV0LmdldEF0dHJpYnV0ZSgnZGF0YS1hcmlhLWNvbnRyb2xzJyk7XHJcblxyXG4gICAgLy8gU2tpcCByYWRpb3Mgd2l0aG91dCBkYXRhLWFyaWEtY29udHJvbHMgYXR0cmlidXRlcywgb3Igd2hlcmUgdGhlXHJcbiAgICAvLyB0YXJnZXQgZWxlbWVudCBkb2VzIG5vdCBleGlzdC5cclxuICAgIGlmICghdGFyZ2V0IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJnZXQpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb21vdGUgdGhlIGRhdGEtYXJpYS1jb250cm9scyBhdHRyaWJ1dGUgdG8gYSBhcmlhLWNvbnRyb2xzIGF0dHJpYnV0ZVxyXG4gICAgLy8gc28gdGhhdCB0aGUgcmVsYXRpb25zaGlwIGlzIGV4cG9zZWQgaW4gdGhlIEFPTVxyXG4gICAgJGlucHV0LnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHRhcmdldCk7XHJcbiAgICAkaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLWFyaWEtY29udHJvbHMnKTtcclxuICB9KTtcclxuXHJcbiAgLy8gV2hlbiB0aGUgcGFnZSBpcyByZXN0b3JlZCBhZnRlciBuYXZpZ2F0aW5nICdiYWNrJyBpbiBzb21lIGJyb3dzZXJzIHRoZVxyXG4gIC8vIHN0YXRlIG9mIGZvcm0gY29udHJvbHMgaXMgbm90IHJlc3RvcmVkIHVudGlsICphZnRlciogdGhlIERPTUNvbnRlbnRMb2FkZWRcclxuICAvLyBldmVudCBpcyBmaXJlZCwgc28gd2UgbmVlZCB0byBzeW5jIGFmdGVyIHRoZSBwYWdlc2hvdyBldmVudCBpbiBicm93c2Vyc1xyXG4gIC8vIHRoYXQgc3VwcG9ydCBpdC5cclxuICBpZiAoJ29ucGFnZXNob3cnIGluIHdpbmRvdykge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgdGhpcy5zeW5jQWxsQ29uZGl0aW9uYWxSZXZlYWxzLmJpbmQodGhpcykpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscy5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIC8vIEFsdGhvdWdoIHdlJ3ZlIHNldCB1cCBoYW5kbGVycyB0byBzeW5jIHN0YXRlIG9uIHRoZSBwYWdlc2hvdyBvclxyXG4gIC8vIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQsIGluaXQgY291bGQgYmUgY2FsbGVkIGFmdGVyIHRob3NlIGV2ZW50cyBoYXZlIGZpcmVkLFxyXG4gIC8vIGZvciBleGFtcGxlIGlmIHRoZXkgYXJlIGFkZGVkIHRvIHRoZSBwYWdlIGR5bmFtaWNhbGx5LCBzbyBzeW5jIG5vdyB0b28uXHJcbiAgdGhpcy5zeW5jQWxsQ29uZGl0aW9uYWxSZXZlYWxzKCk7XHJcblxyXG4gIC8vIEhhbmRsZSBldmVudHNcclxuICAkbW9kdWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTeW5jIHRoZSBjb25kaXRpb25hbCByZXZlYWwgc3RhdGVzIGZvciBhbGwgaW5wdXRzIGluIHRoaXMgJG1vZHVsZS5cclxuICovXHJcblJhZGlvcy5wcm90b3R5cGUuc3luY0FsbENvbmRpdGlvbmFsUmV2ZWFscyA9IGZ1bmN0aW9uICgpIHtcclxuICBub2RlTGlzdEZvckVhY2godGhpcy4kaW5wdXRzLCB0aGlzLnN5bmNDb25kaXRpb25hbFJldmVhbFdpdGhJbnB1dFN0YXRlLmJpbmQodGhpcykpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgY29uZGl0aW9uYWwgcmV2ZWFsIHdpdGggdGhlIGlucHV0IHN0YXRlXHJcbiAqXHJcbiAqIFN5bmNocm9uaXNlIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjb25kaXRpb25hbCByZXZlYWwsIGFuZCBpdHMgYWNjZXNzaWJsZVxyXG4gKiBzdGF0ZSwgd2l0aCB0aGUgaW5wdXQncyBjaGVja2VkIHN0YXRlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxJbnB1dEVsZW1lbnR9ICRpbnB1dCBSYWRpbyBpbnB1dFxyXG4gKi9cclxuUmFkaW9zLnByb3RvdHlwZS5zeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSA9IGZ1bmN0aW9uICgkaW5wdXQpIHtcclxuICB2YXIgJHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCRpbnB1dC5nZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnKSk7XHJcblxyXG4gIGlmICgkdGFyZ2V0ICYmICR0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdnb3Z1ay1yYWRpb3NfX2NvbmRpdGlvbmFsJykpIHtcclxuICAgIHZhciBpbnB1dElzQ2hlY2tlZCA9ICRpbnB1dC5jaGVja2VkO1xyXG5cclxuICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBpbnB1dElzQ2hlY2tlZCk7XHJcbiAgICAkdGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoJ2dvdnVrLXJhZGlvc19fY29uZGl0aW9uYWwtLWhpZGRlbicsICFpbnB1dElzQ2hlY2tlZCk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENsaWNrIGV2ZW50IGhhbmRsZXJcclxuICpcclxuICogSGFuZGxlIGEgY2xpY2sgd2l0aGluIHRoZSAkbW9kdWxlIOKAkyBpZiB0aGUgY2xpY2sgb2NjdXJyZWQgb24gYSByYWRpbywgc3luY1xyXG4gKiB0aGUgc3RhdGUgb2YgdGhlIGNvbmRpdGlvbmFsIHJldmVhbCBmb3IgYWxsIHJhZGlvIGJ1dHRvbnMgaW4gdGhlIHNhbWUgZm9ybVxyXG4gKiB3aXRoIHRoZSBzYW1lIG5hbWUgKGJlY2F1c2UgY2hlY2tpbmcgb25lIHJhZGlvIGNvdWxkIGhhdmUgdW4tY2hlY2tlZCBhIHJhZGlvXHJcbiAqIGluIGFub3RoZXIgJG1vZHVsZSlcclxuICpcclxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBDbGljayBldmVudFxyXG4gKi9cclxuUmFkaW9zLnByb3RvdHlwZS5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gIHZhciAkY2xpY2tlZElucHV0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAvLyBJZ25vcmUgY2xpY2tzIG9uIHRoaW5ncyB0aGF0IGFyZW4ndCByYWRpbyBidXR0b25zXHJcbiAgaWYgKCRjbGlja2VkSW5wdXQudHlwZSAhPT0gJ3JhZGlvJykge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICAvLyBXZSBvbmx5IG5lZWQgdG8gY29uc2lkZXIgcmFkaW9zIHdpdGggY29uZGl0aW9uYWwgcmV2ZWFscywgd2hpY2ggd2lsbCBoYXZlXHJcbiAgLy8gYXJpYS1jb250cm9scyBhdHRyaWJ1dGVzLlxyXG4gIHZhciAkYWxsSW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW2FyaWEtY29udHJvbHNdJyk7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkYWxsSW5wdXRzLCBmdW5jdGlvbiAoJGlucHV0KSB7XHJcbiAgICB2YXIgaGFzU2FtZUZvcm1Pd25lciA9ICgkaW5wdXQuZm9ybSA9PT0gJGNsaWNrZWRJbnB1dC5mb3JtKTtcclxuICAgIHZhciBoYXNTYW1lTmFtZSA9ICgkaW5wdXQubmFtZSA9PT0gJGNsaWNrZWRJbnB1dC5uYW1lKTtcclxuXHJcbiAgICBpZiAoaGFzU2FtZU5hbWUgJiYgaGFzU2FtZUZvcm1Pd25lcikge1xyXG4gICAgICB0aGlzLnN5bmNDb25kaXRpb25hbFJldmVhbFdpdGhJbnB1dFN0YXRlKCRpbnB1dCk7XHJcbiAgICB9XHJcbiAgfS5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIFNraXBMaW5rICgkbW9kdWxlKSB7XHJcbiAgdGhpcy4kbW9kdWxlID0gJG1vZHVsZTtcclxuICB0aGlzLiRsaW5rZWRFbGVtZW50ID0gbnVsbDtcclxuICB0aGlzLmxpbmtlZEVsZW1lbnRMaXN0ZW5lciA9IGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdGlhbGlzZSB0aGUgY29tcG9uZW50XHJcbiAqL1xyXG5Ta2lwTGluay5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBDaGVjayBmb3IgbW9kdWxlXHJcbiAgaWYgKCF0aGlzLiRtb2R1bGUpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgZm9yIGxpbmtlZCBlbGVtZW50XHJcbiAgdGhpcy4kbGlua2VkRWxlbWVudCA9IHRoaXMuZ2V0TGlua2VkRWxlbWVudCgpO1xyXG4gIGlmICghdGhpcy4kbGlua2VkRWxlbWVudCkge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG5cclxuICB0aGlzLiRtb2R1bGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZvY3VzTGlua2VkRWxlbWVudC5iaW5kKHRoaXMpKTtcclxufTtcclxuXHJcbi8qKlxyXG4qIEdldCBsaW5rZWQgZWxlbWVudFxyXG4qXHJcbiogQHJldHVybnMge0hUTUxFbGVtZW50fSAkbGlua2VkRWxlbWVudCAtIERPTSBlbGVtZW50IGxpbmtlZCB0byBmcm9tIHRoZSBza2lwIGxpbmtcclxuKi9cclxuU2tpcExpbmsucHJvdG90eXBlLmdldExpbmtlZEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGxpbmtlZEVsZW1lbnRJZCA9IHRoaXMuZ2V0RnJhZ21lbnRGcm9tVXJsKCk7XHJcblxyXG4gIGlmICghbGlua2VkRWxlbWVudElkKSB7XHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9XHJcblxyXG4gIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChsaW5rZWRFbGVtZW50SWQpXHJcbn07XHJcblxyXG4vKipcclxuICogRm9jdXMgdGhlIGxpbmtlZCBlbGVtZW50XHJcbiAqXHJcbiAqIFNldCB0YWJpbmRleCBhbmQgaGVscGVyIENTUyBjbGFzcy4gU2V0IGxpc3RlbmVyIHRvIHJlbW92ZSB0aGVtIG9uIGJsdXIuXHJcbiAqL1xyXG5Ta2lwTGluay5wcm90b3R5cGUuZm9jdXNMaW5rZWRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciAkbGlua2VkRWxlbWVudCA9IHRoaXMuJGxpbmtlZEVsZW1lbnQ7XHJcblxyXG4gIGlmICghJGxpbmtlZEVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XHJcbiAgICAvLyBTZXQgdGhlIGVsZW1lbnQgdGFiaW5kZXggdG8gLTEgc28gaXQgY2FuIGJlIGZvY3VzZWQgd2l0aCBKYXZhU2NyaXB0LlxyXG4gICAgJGxpbmtlZEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xyXG4gICAgJGxpbmtlZEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZ292dWstc2tpcC1saW5rLWZvY3VzZWQtZWxlbWVudCcpO1xyXG5cclxuICAgIC8vIEFkZCBsaXN0ZW5lciBmb3IgYmx1ciBvbiB0aGUgZm9jdXNlZCBlbGVtZW50ICh1bmxlc3MgdGhlIGxpc3RlbmVyIGhhcyBwcmV2aW91c2x5IGJlZW4gYWRkZWQpXHJcbiAgICBpZiAoIXRoaXMubGlua2VkRWxlbWVudExpc3RlbmVyKSB7XHJcbiAgICAgIHRoaXMuJGxpbmtlZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMucmVtb3ZlRm9jdXNQcm9wZXJ0aWVzLmJpbmQodGhpcykpO1xyXG4gICAgICB0aGlzLmxpbmtlZEVsZW1lbnRMaXN0ZW5lciA9IHRydWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gICRsaW5rZWRFbGVtZW50LmZvY3VzKCk7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlIHRoZSB0YWJpbmRleCB0aGF0IG1ha2VzIHRoZSBsaW5rZWQgZWxlbWVudCBmb2N1c2FibGUgYmVjYXVzZSB0aGUgZWxlbWVudCBvbmx5IG5lZWRzIHRvIGJlXHJcbiAqIGZvY3VzYWJsZSB1bnRpbCBpdCBoYXMgcmVjZWl2ZWQgcHJvZ3JhbW1hdGljIGZvY3VzIGFuZCBhIHNjcmVlbiByZWFkZXIgaGFzIGFubm91bmNlZCBpdC5cclxuICpcclxuICogUmVtb3ZlIHRoZSBDU1MgY2xhc3MgdGhhdCByZW1vdmVzIHRoZSBuYXRpdmUgZm9jdXMgc3R5bGVzLlxyXG4gKi9cclxuU2tpcExpbmsucHJvdG90eXBlLnJlbW92ZUZvY3VzUHJvcGVydGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLiRsaW5rZWRFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcclxuICB0aGlzLiRsaW5rZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2dvdnVrLXNraXAtbGluay1mb2N1c2VkLWVsZW1lbnQnKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBHZXQgZnJhZ21lbnQgZnJvbSBVUkxcclxuICpcclxuICogRXh0cmFjdCB0aGUgZnJhZ21lbnQgKGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGhhc2ggc3ltYm9sKSBmcm9tIGEgVVJMLCBidXQgbm90IGluY2x1ZGluZ1xyXG4gKiB0aGUgc3ltYm9sLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBGcmFnbWVudCBmcm9tIFVSTCwgd2l0aG91dCB0aGUgaGFzaCBzeW1ib2xcclxuICovXHJcblNraXBMaW5rLnByb3RvdHlwZS5nZXRGcmFnbWVudEZyb21VcmwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy8gQmFpbCBpZiB0aGUgYW5jaG9yIGxpbmsgZG9lc24ndCBoYXZlIGEgaGFzaFxyXG4gIGlmICghdGhpcy4kbW9kdWxlLmhhc2gpIHtcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuJG1vZHVsZS5oYXNoLnNwbGl0KCcjJykucG9wKClcclxufTtcclxuXHJcbihmdW5jdGlvbih1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvLyBEZXRlY3Rpb24gZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLWxpYnJhcnkvbWFzdGVyL3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9uZXh0RWxlbWVudFNpYmxpbmcvZGV0ZWN0LmpzXHJcbiAgICB2YXIgZGV0ZWN0ID0gKFxyXG4gICAgICAnZG9jdW1lbnQnIGluIHRoaXMgJiYgXCJuZXh0RWxlbWVudFNpYmxpbmdcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGRldGVjdCkgcmV0dXJuXHJcblxyXG4gICAgLy8gUG9seWZpbGwgZnJvbSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vRmluYW5jaWFsLVRpbWVzL3BvbHlmaWxsLWxpYnJhcnkvbWFzdGVyL3BvbHlmaWxscy9FbGVtZW50L3Byb3RvdHlwZS9uZXh0RWxlbWVudFNpYmxpbmcvcG9seWZpbGwuanNcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbGVtZW50LnByb3RvdHlwZSwgXCJuZXh0RWxlbWVudFNpYmxpbmdcIiwge1xyXG4gICAgICBnZXQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGVsID0gdGhpcy5uZXh0U2libGluZztcclxuICAgICAgICB3aGlsZSAoZWwgJiYgZWwubm9kZVR5cGUgIT09IDEpIHsgZWwgPSBlbC5uZXh0U2libGluZzsgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KS5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuKGZ1bmN0aW9uKHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8vIERldGVjdGlvbiBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9GaW5hbmNpYWwtVGltZXMvcG9seWZpbGwtbGlicmFyeS9tYXN0ZXIvcG9seWZpbGxzL0VsZW1lbnQvcHJvdG90eXBlL3ByZXZpb3VzRWxlbWVudFNpYmxpbmcvZGV0ZWN0LmpzXHJcbiAgICB2YXIgZGV0ZWN0ID0gKFxyXG4gICAgICAnZG9jdW1lbnQnIGluIHRoaXMgJiYgXCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nXCIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XHJcbiAgICApO1xyXG5cclxuICAgIGlmIChkZXRlY3QpIHJldHVyblxyXG5cclxuICAgIC8vIFBvbHlmaWxsIGZyb20gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0ZpbmFuY2lhbC1UaW1lcy9wb2x5ZmlsbC1saWJyYXJ5L21hc3Rlci9wb2x5ZmlsbHMvRWxlbWVudC9wcm90b3R5cGUvcHJldmlvdXNFbGVtZW50U2libGluZy9wb2x5ZmlsbC5qc1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLCAncHJldmlvdXNFbGVtZW50U2libGluZycsIHtcclxuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBlbCA9IHRoaXMucHJldmlvdXNTaWJsaW5nO1xyXG4gICAgICAgIHdoaWxlIChlbCAmJiBlbC5ub2RlVHlwZSAhPT0gMSkgeyBlbCA9IGVsLnByZXZpb3VzU2libGluZzsgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG59KS5jYWxsKCdvYmplY3QnID09PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdyB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIHNlbGYgJiYgc2VsZiB8fCAnb2JqZWN0JyA9PT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwgfHwge30pO1xyXG5cclxuZnVuY3Rpb24gVGFicyAoJG1vZHVsZSkge1xyXG4gIHRoaXMuJG1vZHVsZSA9ICRtb2R1bGU7XHJcbiAgdGhpcy4kdGFicyA9ICRtb2R1bGUucXVlcnlTZWxlY3RvckFsbCgnLmdvdnVrLXRhYnNfX3RhYicpO1xyXG5cclxuICB0aGlzLmtleXMgPSB7IGxlZnQ6IDM3LCByaWdodDogMzksIHVwOiAzOCwgZG93bjogNDAgfTtcclxuICB0aGlzLmpzSGlkZGVuQ2xhc3MgPSAnZ292dWstdGFic19fcGFuZWwtLWhpZGRlbic7XHJcbn1cclxuXHJcblRhYnMucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKHR5cGVvZiB3aW5kb3cubWF0Y2hNZWRpYSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgdGhpcy5zZXR1cFJlc3BvbnNpdmVDaGVja3MoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdGhpcy5zZXR1cCgpO1xyXG4gIH1cclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLnNldHVwUmVzcG9uc2l2ZUNoZWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuICB0aGlzLm1xbCA9IHdpbmRvdy5tYXRjaE1lZGlhKCcobWluLXdpZHRoOiA0MC4wNjI1ZW0pJyk7XHJcbiAgdGhpcy5tcWwuYWRkTGlzdGVuZXIodGhpcy5jaGVja01vZGUuYmluZCh0aGlzKSk7XHJcbiAgdGhpcy5jaGVja01vZGUoKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmNoZWNrTW9kZSA9IGZ1bmN0aW9uICgpIHtcclxuICBpZiAodGhpcy5tcWwubWF0Y2hlcykge1xyXG4gICAgdGhpcy5zZXR1cCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aGlzLnRlYXJkb3duKCk7XHJcbiAgfVxyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgdmFyICR0YWJzID0gdGhpcy4kdGFicztcclxuICB2YXIgJHRhYkxpc3QgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay10YWJzX19saXN0Jyk7XHJcbiAgdmFyICR0YWJMaXN0SXRlbXMgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5nb3Z1ay10YWJzX19saXN0LWl0ZW0nKTtcclxuXHJcbiAgaWYgKCEkdGFicyB8fCAhJHRhYkxpc3QgfHwgISR0YWJMaXN0SXRlbXMpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgJHRhYkxpc3Quc2V0QXR0cmlidXRlKCdyb2xlJywgJ3RhYmxpc3QnKTtcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKCR0YWJMaXN0SXRlbXMsIGZ1bmN0aW9uICgkaXRlbSkge1xyXG4gICAgJGl0ZW0uc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpO1xyXG4gIH0pO1xyXG5cclxuICBub2RlTGlzdEZvckVhY2goJHRhYnMsIGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgICAvLyBTZXQgSFRNTCBhdHRyaWJ1dGVzXHJcbiAgICB0aGlzLnNldEF0dHJpYnV0ZXMoJHRhYik7XHJcblxyXG4gICAgLy8gU2F2ZSBib3VuZGVkIGZ1bmN0aW9ucyB0byB1c2Ugd2hlbiByZW1vdmluZyBldmVudCBsaXN0ZW5lcnMgZHVyaW5nIHRlYXJkb3duXHJcbiAgICAkdGFiLmJvdW5kVGFiQ2xpY2sgPSB0aGlzLm9uVGFiQ2xpY2suYmluZCh0aGlzKTtcclxuICAgICR0YWIuYm91bmRUYWJLZXlkb3duID0gdGhpcy5vblRhYktleWRvd24uYmluZCh0aGlzKTtcclxuXHJcbiAgICAvLyBIYW5kbGUgZXZlbnRzXHJcbiAgICAkdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgJHRhYi5ib3VuZFRhYkNsaWNrLCB0cnVlKTtcclxuICAgICR0YWIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICR0YWIuYm91bmRUYWJLZXlkb3duLCB0cnVlKTtcclxuXHJcbiAgICAvLyBSZW1vdmUgb2xkIGFjdGl2ZSBwYW5lbHNcclxuICAgIHRoaXMuaGlkZVRhYigkdGFiKTtcclxuICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAvLyBTaG93IGVpdGhlciB0aGUgYWN0aXZlIHRhYiBhY2NvcmRpbmcgdG8gdGhlIFVSTCdzIGhhc2ggb3IgdGhlIGZpcnN0IHRhYlxyXG4gIHZhciAkYWN0aXZlVGFiID0gdGhpcy5nZXRUYWIod2luZG93LmxvY2F0aW9uLmhhc2gpIHx8IHRoaXMuJHRhYnNbMF07XHJcbiAgdGhpcy5zaG93VGFiKCRhY3RpdmVUYWIpO1xyXG5cclxuICAvLyBIYW5kbGUgaGFzaGNoYW5nZSBldmVudHNcclxuICAkbW9kdWxlLmJvdW5kT25IYXNoQ2hhbmdlID0gdGhpcy5vbkhhc2hDaGFuZ2UuYmluZCh0aGlzKTtcclxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsICRtb2R1bGUuYm91bmRPbkhhc2hDaGFuZ2UsIHRydWUpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUudGVhcmRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgdmFyICRtb2R1bGUgPSB0aGlzLiRtb2R1bGU7XHJcbiAgdmFyICR0YWJzID0gdGhpcy4kdGFicztcclxuICB2YXIgJHRhYkxpc3QgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay10YWJzX19saXN0Jyk7XHJcbiAgdmFyICR0YWJMaXN0SXRlbXMgPSAkbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5nb3Z1ay10YWJzX19saXN0LWl0ZW0nKTtcclxuXHJcbiAgaWYgKCEkdGFicyB8fCAhJHRhYkxpc3QgfHwgISR0YWJMaXN0SXRlbXMpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgJHRhYkxpc3QucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XHJcblxyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkdGFiTGlzdEl0ZW1zLCBmdW5jdGlvbiAoJGl0ZW0pIHtcclxuICAgICRpdGVtLnJlbW92ZUF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTtcclxuICB9KTtcclxuXHJcbiAgbm9kZUxpc3RGb3JFYWNoKCR0YWJzLCBmdW5jdGlvbiAoJHRhYikge1xyXG4gICAgLy8gUmVtb3ZlIGV2ZW50c1xyXG4gICAgJHRhYi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsICR0YWIuYm91bmRUYWJDbGljaywgdHJ1ZSk7XHJcbiAgICAkdGFiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAkdGFiLmJvdW5kVGFiS2V5ZG93biwgdHJ1ZSk7XHJcblxyXG4gICAgLy8gVW5zZXQgSFRNTCBhdHRyaWJ1dGVzXHJcbiAgICB0aGlzLnVuc2V0QXR0cmlidXRlcygkdGFiKTtcclxuICB9LmJpbmQodGhpcykpO1xyXG5cclxuICAvLyBSZW1vdmUgaGFzaGNoYW5nZSBldmVudCBoYW5kbGVyXHJcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCAkbW9kdWxlLmJvdW5kT25IYXNoQ2hhbmdlLCB0cnVlKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLm9uSGFzaENoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuICB2YXIgJHRhYldpdGhIYXNoID0gdGhpcy5nZXRUYWIoaGFzaCk7XHJcbiAgaWYgKCEkdGFiV2l0aEhhc2gpIHtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gUHJldmVudCBjaGFuZ2luZyB0aGUgaGFzaFxyXG4gIGlmICh0aGlzLmNoYW5naW5nSGFzaCkge1xyXG4gICAgdGhpcy5jaGFuZ2luZ0hhc2ggPSBmYWxzZTtcclxuICAgIHJldHVyblxyXG4gIH1cclxuXHJcbiAgLy8gU2hvdyBlaXRoZXIgdGhlIGFjdGl2ZSB0YWIgYWNjb3JkaW5nIHRvIHRoZSBVUkwncyBoYXNoIG9yIHRoZSBmaXJzdCB0YWJcclxuICB2YXIgJHByZXZpb3VzVGFiID0gdGhpcy5nZXRDdXJyZW50VGFiKCk7XHJcblxyXG4gIHRoaXMuaGlkZVRhYigkcHJldmlvdXNUYWIpO1xyXG4gIHRoaXMuc2hvd1RhYigkdGFiV2l0aEhhc2gpO1xyXG4gICR0YWJXaXRoSGFzaC5mb2N1cygpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuaGlkZVRhYiA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgdGhpcy51bmhpZ2hsaWdodFRhYigkdGFiKTtcclxuICB0aGlzLmhpZGVQYW5lbCgkdGFiKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLnNob3dUYWIgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIHRoaXMuaGlnaGxpZ2h0VGFiKCR0YWIpO1xyXG4gIHRoaXMuc2hvd1BhbmVsKCR0YWIpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuZ2V0VGFiID0gZnVuY3Rpb24gKGhhc2gpIHtcclxuICByZXR1cm4gdGhpcy4kbW9kdWxlLnF1ZXJ5U2VsZWN0b3IoJy5nb3Z1ay10YWJzX190YWJbaHJlZj1cIicgKyBoYXNoICsgJ1wiXScpXHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVzID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICAvLyBzZXQgdGFiIGF0dHJpYnV0ZXNcclxuICB2YXIgcGFuZWxJZCA9IHRoaXMuZ2V0SHJlZigkdGFiKS5zbGljZSgxKTtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgnaWQnLCAndGFiXycgKyBwYW5lbElkKTtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWInKTtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHBhbmVsSWQpO1xyXG4gICR0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJy0xJyk7XHJcblxyXG4gIC8vIHNldCBwYW5lbCBhdHRyaWJ1dGVzXHJcbiAgdmFyICRwYW5lbCA9IHRoaXMuZ2V0UGFuZWwoJHRhYik7XHJcbiAgJHBhbmVsLnNldEF0dHJpYnV0ZSgncm9sZScsICd0YWJwYW5lbCcpO1xyXG4gICRwYW5lbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWxsZWRieScsICR0YWIuaWQpO1xyXG4gICRwYW5lbC5jbGFzc0xpc3QuYWRkKHRoaXMuanNIaWRkZW5DbGFzcyk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS51bnNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIC8vIHVuc2V0IHRhYiBhdHRyaWJ1dGVzXHJcbiAgJHRhYi5yZW1vdmVBdHRyaWJ1dGUoJ2lkJyk7XHJcbiAgJHRhYi5yZW1vdmVBdHRyaWJ1dGUoJ3JvbGUnKTtcclxuICAkdGFiLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycpO1xyXG4gICR0YWIucmVtb3ZlQXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJyk7XHJcbiAgJHRhYi5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XHJcblxyXG4gIC8vIHVuc2V0IHBhbmVsIGF0dHJpYnV0ZXNcclxuICB2YXIgJHBhbmVsID0gdGhpcy5nZXRQYW5lbCgkdGFiKTtcclxuICAkcGFuZWwucmVtb3ZlQXR0cmlidXRlKCdyb2xlJyk7XHJcbiAgJHBhbmVsLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbGxlZGJ5Jyk7XHJcbiAgJHBhbmVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5qc0hpZGRlbkNsYXNzKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLm9uVGFiQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xyXG4gIGlmICghZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdnb3Z1ay10YWJzX190YWInKSkge1xyXG4gIC8vIEFsbG93IGV2ZW50cyBvbiBjaGlsZCBET00gZWxlbWVudHMgdG8gYnViYmxlIHVwIHRvIHRhYiBwYXJlbnRcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH1cclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgdmFyICRuZXdUYWIgPSBlLnRhcmdldDtcclxuICB2YXIgJGN1cnJlbnRUYWIgPSB0aGlzLmdldEN1cnJlbnRUYWIoKTtcclxuICB0aGlzLmhpZGVUYWIoJGN1cnJlbnRUYWIpO1xyXG4gIHRoaXMuc2hvd1RhYigkbmV3VGFiKTtcclxuICB0aGlzLmNyZWF0ZUhpc3RvcnlFbnRyeSgkbmV3VGFiKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmNyZWF0ZUhpc3RvcnlFbnRyeSA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgdmFyICRwYW5lbCA9IHRoaXMuZ2V0UGFuZWwoJHRhYik7XHJcblxyXG4gIC8vIFNhdmUgYW5kIHJlc3RvcmUgdGhlIGlkXHJcbiAgLy8gc28gdGhlIHBhZ2UgZG9lc24ndCBqdW1wIHdoZW4gYSB1c2VyIGNsaWNrcyBhIHRhYiAod2hpY2ggY2hhbmdlcyB0aGUgaGFzaClcclxuICB2YXIgaWQgPSAkcGFuZWwuaWQ7XHJcbiAgJHBhbmVsLmlkID0gJyc7XHJcbiAgdGhpcy5jaGFuZ2luZ0hhc2ggPSB0cnVlO1xyXG4gIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdGhpcy5nZXRIcmVmKCR0YWIpLnNsaWNlKDEpO1xyXG4gICRwYW5lbC5pZCA9IGlkO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUub25UYWJLZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcclxuICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgY2FzZSB0aGlzLmtleXMubGVmdDpcclxuICAgIGNhc2UgdGhpcy5rZXlzLnVwOlxyXG4gICAgICB0aGlzLmFjdGl2YXRlUHJldmlvdXNUYWIoKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBicmVha1xyXG4gICAgY2FzZSB0aGlzLmtleXMucmlnaHQ6XHJcbiAgICBjYXNlIHRoaXMua2V5cy5kb3duOlxyXG4gICAgICB0aGlzLmFjdGl2YXRlTmV4dFRhYigpO1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGJyZWFrXHJcbiAgfVxyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuYWN0aXZhdGVOZXh0VGFiID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBjdXJyZW50VGFiID0gdGhpcy5nZXRDdXJyZW50VGFiKCk7XHJcbiAgdmFyIG5leHRUYWJMaXN0SXRlbSA9IGN1cnJlbnRUYWIucGFyZW50Tm9kZS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgaWYgKG5leHRUYWJMaXN0SXRlbSkge1xyXG4gICAgdmFyIG5leHRUYWIgPSBuZXh0VGFiTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignLmdvdnVrLXRhYnNfX3RhYicpO1xyXG4gIH1cclxuICBpZiAobmV4dFRhYikge1xyXG4gICAgdGhpcy5oaWRlVGFiKGN1cnJlbnRUYWIpO1xyXG4gICAgdGhpcy5zaG93VGFiKG5leHRUYWIpO1xyXG4gICAgbmV4dFRhYi5mb2N1cygpO1xyXG4gICAgdGhpcy5jcmVhdGVIaXN0b3J5RW50cnkobmV4dFRhYik7XHJcbiAgfVxyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUuYWN0aXZhdGVQcmV2aW91c1RhYiA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgY3VycmVudFRhYiA9IHRoaXMuZ2V0Q3VycmVudFRhYigpO1xyXG4gIHZhciBwcmV2aW91c1RhYkxpc3RJdGVtID0gY3VycmVudFRhYi5wYXJlbnROb2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgaWYgKHByZXZpb3VzVGFiTGlzdEl0ZW0pIHtcclxuICAgIHZhciBwcmV2aW91c1RhYiA9IHByZXZpb3VzVGFiTGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignLmdvdnVrLXRhYnNfX3RhYicpO1xyXG4gIH1cclxuICBpZiAocHJldmlvdXNUYWIpIHtcclxuICAgIHRoaXMuaGlkZVRhYihjdXJyZW50VGFiKTtcclxuICAgIHRoaXMuc2hvd1RhYihwcmV2aW91c1RhYik7XHJcbiAgICBwcmV2aW91c1RhYi5mb2N1cygpO1xyXG4gICAgdGhpcy5jcmVhdGVIaXN0b3J5RW50cnkocHJldmlvdXNUYWIpO1xyXG4gIH1cclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmdldFBhbmVsID0gZnVuY3Rpb24gKCR0YWIpIHtcclxuICB2YXIgJHBhbmVsID0gdGhpcy4kbW9kdWxlLnF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRIcmVmKCR0YWIpKTtcclxuICByZXR1cm4gJHBhbmVsXHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5zaG93UGFuZWwgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gIHZhciAkcGFuZWwgPSB0aGlzLmdldFBhbmVsKCR0YWIpO1xyXG4gICRwYW5lbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuanNIaWRkZW5DbGFzcyk7XHJcbn07XHJcblxyXG5UYWJzLnByb3RvdHlwZS5oaWRlUGFuZWwgPSBmdW5jdGlvbiAodGFiKSB7XHJcbiAgdmFyICRwYW5lbCA9IHRoaXMuZ2V0UGFuZWwodGFiKTtcclxuICAkcGFuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLmpzSGlkZGVuQ2xhc3MpO1xyXG59O1xyXG5cclxuVGFicy5wcm90b3R5cGUudW5oaWdobGlnaHRUYWIgPSBmdW5jdGlvbiAoJHRhYikge1xyXG4gICR0YWIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7XHJcbiAgJHRhYi5wYXJlbnROb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2dvdnVrLXRhYnNfX2xpc3QtaXRlbS0tc2VsZWN0ZWQnKTtcclxuICAkdGFiLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmhpZ2hsaWdodFRhYiA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ2FyaWEtc2VsZWN0ZWQnLCAndHJ1ZScpO1xyXG4gICR0YWIucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdnb3Z1ay10YWJzX19saXN0LWl0ZW0tLXNlbGVjdGVkJyk7XHJcbiAgJHRhYi5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcclxufTtcclxuXHJcblRhYnMucHJvdG90eXBlLmdldEN1cnJlbnRUYWIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMuJG1vZHVsZS5xdWVyeVNlbGVjdG9yKCcuZ292dWstdGFic19fbGlzdC1pdGVtLS1zZWxlY3RlZCAuZ292dWstdGFic19fdGFiJylcclxufTtcclxuXHJcbi8vIHRoaXMgaXMgYmVjYXVzZSBJRSBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlIGFjdHVhbCB2YWx1ZSBidXQgYSByZWxhdGl2ZSBmdWxsIHBhdGhcclxuLy8gc2hvdWxkIGJlIGEgdXRpbGl0eSBmdW5jdGlvbiBtb3N0IHByb2JcclxuLy8gaHR0cDovL2xhYnMudGhlc2VkYXlzLmNvbS9ibG9nLzIwMTAvMDEvMDgvZ2V0dGluZy10aGUtaHJlZi12YWx1ZS13aXRoLWpxdWVyeS1pbi1pZS9cclxuVGFicy5wcm90b3R5cGUuZ2V0SHJlZiA9IGZ1bmN0aW9uICgkdGFiKSB7XHJcbiAgdmFyIGhyZWYgPSAkdGFiLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xyXG4gIHZhciBoYXNoID0gaHJlZi5zbGljZShocmVmLmluZGV4T2YoJyMnKSwgaHJlZi5sZW5ndGgpO1xyXG4gIHJldHVybiBoYXNoXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0QWxsIChvcHRpb25zKSB7XHJcbiAgLy8gU2V0IHRoZSBvcHRpb25zIHRvIGFuIGVtcHR5IG9iamVjdCBieSBkZWZhdWx0IGlmIG5vIG9wdGlvbnMgYXJlIHBhc3NlZC5cclxuICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucyA6IHt9O1xyXG5cclxuICAvLyBBbGxvdyB0aGUgdXNlciB0byBpbml0aWFsaXNlIEdPVi5VSyBGcm9udGVuZCBpbiBvbmx5IGNlcnRhaW4gc2VjdGlvbnMgb2YgdGhlIHBhZ2VcclxuICAvLyBEZWZhdWx0cyB0byB0aGUgZW50aXJlIGRvY3VtZW50IGlmIG5vdGhpbmcgaXMgc2V0LlxyXG4gIHZhciBzY29wZSA9IHR5cGVvZiBvcHRpb25zLnNjb3BlICE9PSAndW5kZWZpbmVkJyA/IG9wdGlvbnMuc2NvcGUgOiBkb2N1bWVudDtcclxuXHJcbiAgdmFyICRidXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kdWxlPVwiZ292dWstYnV0dG9uXCJdJyk7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRidXR0b25zLCBmdW5jdGlvbiAoJGJ1dHRvbikge1xyXG4gICAgbmV3IEJ1dHRvbigkYnV0dG9uKS5pbml0KCk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciAkYWNjb3JkaW9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWFjY29yZGlvblwiXScpO1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkYWNjb3JkaW9ucywgZnVuY3Rpb24gKCRhY2NvcmRpb24pIHtcclxuICAgIG5ldyBBY2NvcmRpb24oJGFjY29yZGlvbikuaW5pdCgpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgJGRldGFpbHMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1kZXRhaWxzXCJdJyk7XHJcbiAgbm9kZUxpc3RGb3JFYWNoKCRkZXRhaWxzLCBmdW5jdGlvbiAoJGRldGFpbCkge1xyXG4gICAgbmV3IERldGFpbHMoJGRldGFpbCkuaW5pdCgpO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgJGNoYXJhY3RlckNvdW50cyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWNoYXJhY3Rlci1jb3VudFwiXScpO1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkY2hhcmFjdGVyQ291bnRzLCBmdW5jdGlvbiAoJGNoYXJhY3RlckNvdW50KSB7XHJcbiAgICBuZXcgQ2hhcmFjdGVyQ291bnQoJGNoYXJhY3RlckNvdW50KS5pbml0KCk7XHJcbiAgfSk7XHJcblxyXG4gIHZhciAkY2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLWNoZWNrYm94ZXNcIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJGNoZWNrYm94ZXMsIGZ1bmN0aW9uICgkY2hlY2tib3gpIHtcclxuICAgIG5ldyBDaGVja2JveGVzKCRjaGVja2JveCkuaW5pdCgpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBGaW5kIGZpcnN0IGVycm9yIHN1bW1hcnkgbW9kdWxlIHRvIGVuaGFuY2UuXHJcbiAgdmFyICRlcnJvclN1bW1hcnkgPSBzY29wZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1lcnJvci1zdW1tYXJ5XCJdJyk7XHJcbiAgbmV3IEVycm9yU3VtbWFyeSgkZXJyb3JTdW1tYXJ5KS5pbml0KCk7XHJcblxyXG4gIC8vIEZpbmQgZmlyc3QgaGVhZGVyIG1vZHVsZSB0byBlbmhhbmNlLlxyXG4gIHZhciAkdG9nZ2xlQnV0dG9uID0gc2NvcGUucXVlcnlTZWxlY3RvcignW2RhdGEtbW9kdWxlPVwiZ292dWstaGVhZGVyXCJdJyk7XHJcbiAgbmV3IEhlYWRlcigkdG9nZ2xlQnV0dG9uKS5pbml0KCk7XHJcblxyXG4gIHZhciAkbm90aWZpY2F0aW9uQmFubmVycyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLW5vdGlmaWNhdGlvbi1iYW5uZXJcIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJG5vdGlmaWNhdGlvbkJhbm5lcnMsIGZ1bmN0aW9uICgkbm90aWZpY2F0aW9uQmFubmVyKSB7XHJcbiAgICBuZXcgTm90aWZpY2F0aW9uQmFubmVyKCRub3RpZmljYXRpb25CYW5uZXIpLmluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgdmFyICRyYWRpb3MgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1tb2R1bGU9XCJnb3Z1ay1yYWRpb3NcIl0nKTtcclxuICBub2RlTGlzdEZvckVhY2goJHJhZGlvcywgZnVuY3Rpb24gKCRyYWRpbykge1xyXG4gICAgbmV3IFJhZGlvcygkcmFkaW8pLmluaXQoKTtcclxuICB9KTtcclxuXHJcbiAgLy8gRmluZCBmaXJzdCBza2lwIGxpbmsgbW9kdWxlIHRvIGVuaGFuY2UuXHJcbiAgdmFyICRza2lwTGluayA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLW1vZHVsZT1cImdvdnVrLXNraXAtbGlua1wiXScpO1xyXG4gIG5ldyBTa2lwTGluaygkc2tpcExpbmspLmluaXQoKTtcclxuXHJcbiAgdmFyICR0YWJzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbW9kdWxlPVwiZ292dWstdGFic1wiXScpO1xyXG4gIG5vZGVMaXN0Rm9yRWFjaCgkdGFicywgZnVuY3Rpb24gKCR0YWJzKSB7XHJcbiAgICBuZXcgVGFicygkdGFicykuaW5pdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnRzLmluaXRBbGwgPSBpbml0QWxsO1xyXG5leHBvcnRzLkFjY29yZGlvbiA9IEFjY29yZGlvbjtcclxuZXhwb3J0cy5CdXR0b24gPSBCdXR0b247XHJcbmV4cG9ydHMuRGV0YWlscyA9IERldGFpbHM7XHJcbmV4cG9ydHMuQ2hhcmFjdGVyQ291bnQgPSBDaGFyYWN0ZXJDb3VudDtcclxuZXhwb3J0cy5DaGVja2JveGVzID0gQ2hlY2tib3hlcztcclxuZXhwb3J0cy5FcnJvclN1bW1hcnkgPSBFcnJvclN1bW1hcnk7XHJcbmV4cG9ydHMuSGVhZGVyID0gSGVhZGVyO1xyXG5leHBvcnRzLk5vdGlmaWNhdGlvbkJhbm5lciA9IE5vdGlmaWNhdGlvbkJhbm5lcjtcclxuZXhwb3J0cy5SYWRpb3MgPSBSYWRpb3M7XHJcbmV4cG9ydHMuU2tpcExpbmsgPSBTa2lwTGluaztcclxuZXhwb3J0cy5UYWJzID0gVGFicztcclxuXHJcbn0pKSk7XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyhcIi4vanMvYWxsLmpzXCIpO1xuIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJleHBvcnRzIiwibm9kZUxpc3RGb3JFYWNoIiwibm9kZXMiLCJjYWxsYmFjayIsIndpbmRvdyIsIk5vZGVMaXN0IiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImkiLCJsZW5ndGgiLCJjYWxsIiwiQWNjb3JkaW9uIiwiJG1vZHVsZSIsInRoaXMiLCJtb2R1bGVJZCIsImdldEF0dHJpYnV0ZSIsIiRzZWN0aW9ucyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCIkc2hvd0FsbEJ1dHRvbiIsImJyb3dzZXJTdXBwb3J0c1Nlc3Npb25TdG9yYWdlIiwiaGVscGVyIiwiY2hlY2tGb3JTZXNzaW9uU3RvcmFnZSIsImNvbnRyb2xzQ2xhc3MiLCJzaG93QWxsQ2xhc3MiLCJzaG93QWxsVGV4dENsYXNzIiwic2VjdGlvbkV4cGFuZGVkQ2xhc3MiLCJzZWN0aW9uQnV0dG9uQ2xhc3MiLCJzZWN0aW9uSGVhZGVyQ2xhc3MiLCJzZWN0aW9uSGVhZGluZ0NsYXNzIiwic2VjdGlvbkhlYWRpbmdUZXh0Q2xhc3MiLCJzZWN0aW9uSGVhZGluZ1RleHRGb2N1c0NsYXNzIiwic2VjdGlvblNob3dIaWRlVG9nZ2xlQ2xhc3MiLCJzZWN0aW9uU2hvd0hpZGVUb2dnbGVGb2N1c0NsYXNzIiwic2VjdGlvblNob3dIaWRlVGV4dENsYXNzIiwidXBDaGV2cm9uSWNvbkNsYXNzIiwiZG93bkNoZXZyb25JY29uQ2xhc3MiLCJzZWN0aW9uU3VtbWFyeUNsYXNzIiwic2VjdGlvblN1bW1hcnlGb2N1c0NsYXNzIiwidW5kZWZpbmVkIiwibmF0aXZlRGVmaW5lUHJvcGVydHkiLCJzdXBwb3J0c0FjY2Vzc29ycyIsIkVSUl9BQ0NFU1NPUlNfTk9UX1NVUFBPUlRFRCIsIkVSUl9WQUxVRV9BQ0NFU1NPUlMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZSIsImhhc093blByb3BlcnR5Iiwib2JqZWN0IiwicHJvcGVydHkiLCJkZXNjcmlwdG9yIiwiZG9jdW1lbnQiLCJFbGVtZW50IiwiVHlwZUVycm9yIiwicHJvcGVydHlTdHJpbmciLCJTdHJpbmciLCJoYXNWYWx1ZU9yV3JpdGFibGUiLCJnZXR0ZXJUeXBlIiwiZ2V0Iiwic2V0dGVyVHlwZSIsInNldCIsIl9fZGVmaW5lR2V0dGVyX18iLCJfX2RlZmluZVNldHRlcl9fIiwic2VsZiIsImdsb2JhbCIsIkZ1bmN0aW9uIiwidGhhdCIsImlzQ2FsbGFibGUiLCIkQXJyYXkiLCJBcnJheSIsIiRPYmplY3QiLCJPYmplY3RQcm90b3R5cGUiLCJBcnJheVByb3RvdHlwZSIsIkVtcHR5IiwidG9fc3RyaW5nIiwidG9TdHJpbmciLCJoYXNUb1N0cmluZ1RhZyIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiZm5Ub1N0ciIsInRyeUZ1bmN0aW9uT2JqZWN0IiwiZm5DbGFzcyIsImdlbkNsYXNzIiwic3RyQ2xhc3MiLCJhcnJheV9zbGljZSIsInNsaWNlIiwiYXJyYXlfY29uY2F0IiwiY29uY2F0IiwiYXJyYXlfcHVzaCIsInB1c2giLCJtYXgiLCJNYXRoIiwidGFyZ2V0IiwiYm91bmQiLCJhcmdzIiwiYXJndW1lbnRzIiwiYmluZGVyIiwicmVzdWx0IiwiYXBwbHkiLCJib3VuZExlbmd0aCIsImJvdW5kQXJncyIsImpvaW4iLCJ4IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImNsYXNzTmFtZSIsIkRPTVRva2VuTGlzdCIsImNyZWF0ZUVsZW1lbnROUyIsImRwU3VwcG9ydCIsImRlZmluZUdldHRlciIsIm5hbWUiLCJmbiIsImNvbmZpZ3VyYWJsZSIsImVsIiwicHJvcCIsInRva2VucyIsInRva2VuTWFwIiwibWF4TGVuZ3RoIiwiYWRkSW5kZXhHZXR0ZXIiLCJwcmVvcCIsInJlaW5kZXgiLCJlcnJvciIsInJTcGFjZSIsInRlc3QiLCJTeW50YXhFcnJvciIsImNvZGUiLCJiYXNlVmFsIiwicmVwbGFjZSIsInNwbGl0IiwidG9Mb2NhbGVTdHJpbmciLCJpdGVtIiwiaWR4IiwiY29udGFpbnMiLCJ0b2tlbiIsImFkZCIsImwiLCJyZW1vdmUiLCJpZ25vcmUiLCJ0IiwiZm9yY2UiLCJjb25zdHJ1Y3RvciIsIm5hdGl2ZSIsIldvcmtlckdsb2JhbFNjb3BlIiwiaW1wb3J0U2NyaXB0cyIsIkhUTUxEb2N1bWVudCIsIkRvY3VtZW50IiwiSFRNTEVsZW1lbnQiLCJpbnRlcnZhbCIsInZib2R5IiwiYXBwZW5kQ2hpbGQiLCJmcmFtZURvY3VtZW50IiwiY29udGVudFdpbmRvdyIsImNhY2hlIiwic2hpdiIsImVsZW1lbnQiLCJkZWVwIiwia2V5IiwiY2hpbGROb2RlIiwiY2hpbGROb2RlcyIsImluZGV4Iiwibm9kZVR5cGUiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibmF0aXZlQ3JlYXRlRWxlbWVudCIsImxvb3BMaW1pdCIsImF0dGFjaEV2ZW50IiwiZXZlbnQiLCJwcm9wZXJ0eU5hbWUiLCJub25WYWx1ZSIsIm5ld1ZhbHVlIiwib2xkVmFsdWUiLCJoYXNBdHRyaWJ1dGUiLCJib2R5Q2hlY2siLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJzZXRJbnRlcnZhbCIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJyZW1vdmVDaGlsZCIsImNsZWFyVGltZW91dCIsImJvZHkiLCJyZWFkeVN0YXRlIiwiZG9jdW1lbnRFbGVtZW50IiwiYWRkUHJvcCIsIm8iLCJhdHRyIiwidG9rZW5MaXN0IiwiVEhJUyIsImdpYmJlcmlzaFByb3BlcnR5IiwidmlzYWdlIiwibWlycm9yIiwicmVmbGVjdGlvbnMiLCJfUiIsIkhUTUxMaW5rRWxlbWVudCIsIkhUTUxBbmNob3JFbGVtZW50IiwiSFRNTEFyZWFFbGVtZW50IiwiaW5pdCIsImluaXRDb250cm9scyIsImluaXRTZWN0aW9uSGVhZGVycyIsImFyZUFsbFNlY3Rpb25zT3BlbiIsImNoZWNrSWZBbGxTZWN0aW9uc09wZW4iLCJ1cGRhdGVTaG93QWxsQnV0dG9uIiwic2V0QXR0cmlidXRlIiwiJGljb24iLCIkYWNjb3JkaW9uQ29udHJvbHMiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiJHdyYXBwZXJzaG93QWxsVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblNob3dPckhpZGVBbGxUb2dnbGUiLCJiaW5kIiwiJHNlY3Rpb24iLCIkaGVhZGVyIiwicXVlcnlTZWxlY3RvciIsImNvbnN0cnVjdEhlYWRlck1hcmt1cCIsInNldEV4cGFuZGVkIiwiaXNFeHBhbmRlZCIsIm9uU2VjdGlvblRvZ2dsZSIsInNldEluaXRpYWxTdGF0ZSIsIiRoZWFkZXJXcmFwcGVyIiwiJHNwYW4iLCIkaGVhZGluZyIsIiRzdW1tYXJ5IiwiJGJ1dHRvbiIsImF0dHJpYnV0ZXMiLCJub2RlVmFsdWUiLCIkaGVhZGluZ1RleHQiLCJpZCIsIiRoZWFkaW5nVGV4dEZvY3VzIiwiaW5uZXJIVE1MIiwiJHNob3dUb2dnbGUiLCIkc2hvd1RvZ2dsZUZvY3VzIiwiJHNob3dUb2dnbGVUZXh0IiwiZ2V0QnV0dG9uUHVuY3R1YXRpb25FbCIsIiRzdW1tYXJ5U3BhbiIsIiRzdW1tYXJ5U3BhbkZvY3VzIiwiaiIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJleHBhbmRlZCIsInN0b3JlU3RhdGUiLCJub3dFeHBhbmRlZCIsIiRzaG93SGlkZVRleHQiLCJuZXdCdXR0b25UZXh0IiwiJHZpc3VhbGx5SGlkZGVuVGV4dCIsIiRzaG93QWxsSWNvbiIsIiRzaG93QWxsVGV4dCIsInRlc3RTdHJpbmciLCJzZXNzaW9uU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsImV4Y2VwdGlvbiIsIkJ1dHRvbiIsImRlYm91bmNlRm9ybVN1Ym1pdFRpbWVyIiwiRGV0YWlscyIsIkNoYXJhY3RlckNvdW50IiwiJHRleHRhcmVhIiwiJHZpc2libGVDb3VudE1lc3NhZ2UiLCIkc2NyZWVuUmVhZGVyQ291bnRNZXNzYWdlIiwibGFzdElucHV0VGltZXN0YW1wIiwiQ2hlY2tib3hlcyIsIiRpbnB1dHMiLCJFcnJvclN1bW1hcnkiLCJOb3RpZmljYXRpb25CYW5uZXIiLCJIZWFkZXIiLCIkbWVudUJ1dHRvbiIsIiRtZW51IiwibWVudUlzT3BlbiIsIm1xbCIsIlJhZGlvcyIsIlNraXBMaW5rIiwiJGxpbmtlZEVsZW1lbnQiLCJsaW5rZWRFbGVtZW50TGlzdGVuZXIiLCJUYWJzIiwiJHRhYnMiLCJrZXlzIiwibGVmdCIsInJpZ2h0IiwidXAiLCJkb3duIiwianNIaWRkZW5DbGFzcyIsImNvbnRlbnRJZCIsImNvbnRlbnRTdGF0ZSIsIiRwdW5jdHVhdGlvbkVsIiwiV2luZG93IiwiRXZlbnQiLCJ1bmxpc3RlbmFibGVXaW5kb3dFdmVudHMiLCJjbGljayIsImRibGNsaWNrIiwia2V5dXAiLCJrZXlwcmVzcyIsImtleWRvd24iLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2Vtb3ZlIiwibW91c2VvdmVyIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJtb3VzZW91dCIsInN0b3JhZ2UiLCJzdG9yYWdlY29tbWl0IiwidGV4dGlucHV0IiwiZXhpc3RpbmdQcm90byIsInR5cGUiLCJldmVudEluaXREaWN0IiwiRXJyb3IiLCJjcmVhdGVFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiaW5pdEV2ZW50IiwiY3JlYXRlRXZlbnRPYmplY3QiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJsaXN0ZW5lciIsIl9ldmVudHMiLCJldmVudEVsZW1lbnQiLCJsaXN0IiwiZXZlbnRzIiwicHJldmVudERlZmF1bHQiLCJyZXR1cm5WYWx1ZSIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImNhbmNlbEltbWVkaWF0ZSIsImN1cnJlbnRUYXJnZXQiLCJyZWxhdGVkVGFyZ2V0IiwiZnJvbUVsZW1lbnQiLCJzcmNFbGVtZW50IiwidGltZVN0YW1wIiwiRGF0ZSIsImdldFRpbWUiLCJjbGllbnRYIiwicGFnZVgiLCJzY3JvbGxMZWZ0IiwicGFnZVkiLCJjbGllbnRZIiwic2Nyb2xsVG9wIiwiaW5kZXhPZiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzcGxpY2UiLCJkZXRhY2hFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJjYW5jZWxCdWJibGVFdmVudCIsImZpcmVFdmVudCIsInBhcmVudFdpbmRvdyIsImFycmF5IiwiaGFuZGxlS2V5RG93biIsImtleUNvZGUiLCJkZWJvdW5jZSIsInNldFRpbWVvdXQiLCJERUJPVU5DRV9USU1FT1VUX0lOX1NFQ09ORFMiLCJvcGVuIiwicG9seWZpbGxEZXRhaWxzIiwiZCIsIiRjb250ZW50IiwicGVyZm9ybWFuY2UiLCJub3ciLCJjIiwiciIsInJhbmRvbSIsImZsb29yIiwidGFiSW5kZXgiLCJzdHlsZSIsImRpc3BsYXkiLCJwb2x5ZmlsbEhhbmRsZUlucHV0cyIsInBvbHlmaWxsU2V0QXR0cmlidXRlcyIsInJlbW92ZUF0dHJpYnV0ZSIsIm5vZGUiLCJkZWZhdWx0cyIsImNoYXJhY3RlckNvdW50QXR0cmlidXRlIiwid29yZENvdW50QXR0cmlidXRlIiwiJGZhbGxiYWNrTGltaXRNZXNzYWdlIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJvcHRpb25zIiwiZ2V0RGF0YXNldCIsImNvdW50QXR0cmlidXRlIiwibWF4d29yZHMiLCJiaW5kQ2hhbmdlRXZlbnRzIiwidXBkYXRlQ291bnRNZXNzYWdlIiwiZGF0YXNldCIsImF0dHJpYnV0ZSIsIm1hdGNoIiwiY291bnQiLCJ0ZXh0IiwiaGFuZGxlS2V5VXAiLCJoYW5kbGVGb2N1cyIsImhhbmRsZUJsdXIiLCJjaGVja0lmVmFsdWVDaGFuZ2VkIiwidXBkYXRlVmlzaWJsZUNvdW50TWVzc2FnZSIsInVwZGF0ZVNjcmVlblJlYWRlckNvdW50TWVzc2FnZSIsInJlbWFpbmluZ051bWJlciIsImlzT3ZlclRocmVzaG9sZCIsImZvcm1hdHRlZFVwZGF0ZU1lc3NhZ2UiLCJjaGFyVmVyYiIsImNoYXJOb3VuIiwiYWJzIiwiY3VycmVudExlbmd0aCIsInRocmVzaG9sZCIsInZhbHVlQ2hlY2tlciIsImNsZWFySW50ZXJ2YWwiLCIkaW5wdXQiLCJzeW5jQWxsQ29uZGl0aW9uYWxSZXZlYWxzIiwiaGFuZGxlQ2xpY2siLCJzeW5jQ29uZGl0aW9uYWxSZXZlYWxXaXRoSW5wdXRTdGF0ZSIsIiR0YXJnZXQiLCJpbnB1dElzQ2hlY2tlZCIsImNoZWNrZWQiLCJ1bkNoZWNrQWxsSW5wdXRzRXhjZXB0IiwiJGlucHV0V2l0aFNhbWVOYW1lIiwiZm9ybSIsInVuQ2hlY2tFeGNsdXNpdmVJbnB1dHMiLCIkZXhjbHVzaXZlSW5wdXQiLCJtYXRjaGVzIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwic2VsZWN0b3IiLCJvd25lckRvY3VtZW50IiwiY2xvc2VzdCIsIlNWR0VsZW1lbnQiLCJwYXJlbnRFbGVtZW50Iiwic2V0Rm9jdXMiLCJmb2N1cyIsImZvY3VzVGFyZ2V0IiwidGFnTmFtZSIsImhyZWYiLCJpbnB1dElkIiwiZ2V0RnJhZ21lbnRGcm9tVXJsIiwiJGxlZ2VuZE9yTGFiZWwiLCJnZXRBc3NvY2lhdGVkTGVnZW5kT3JMYWJlbCIsInNjcm9sbEludG9WaWV3IiwicHJldmVudFNjcm9sbCIsInVybCIsInBvcCIsIiRmaWVsZHNldCIsImxlZ2VuZHMiLCIkY2FuZGlkYXRlTGVnZW5kIiwibGVnZW5kVG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiaW5wdXRSZWN0IiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJtYXRjaE1lZGlhIiwic3luY1N0YXRlIiwiYWRkTGlzdGVuZXIiLCJoYW5kbGVNZW51QnV0dG9uQ2xpY2siLCIkY2xpY2tlZElucHV0IiwiaGFzU2FtZUZvcm1Pd25lciIsImdldExpbmtlZEVsZW1lbnQiLCJmb2N1c0xpbmtlZEVsZW1lbnQiLCJsaW5rZWRFbGVtZW50SWQiLCJyZW1vdmVGb2N1c1Byb3BlcnRpZXMiLCJoYXNoIiwibmV4dFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJzZXR1cFJlc3BvbnNpdmVDaGVja3MiLCJzZXR1cCIsImNoZWNrTW9kZSIsInRlYXJkb3duIiwiJHRhYkxpc3QiLCIkdGFiTGlzdEl0ZW1zIiwiJGl0ZW0iLCIkdGFiIiwic2V0QXR0cmlidXRlcyIsImJvdW5kVGFiQ2xpY2siLCJvblRhYkNsaWNrIiwiYm91bmRUYWJLZXlkb3duIiwib25UYWJLZXlkb3duIiwiaGlkZVRhYiIsIiRhY3RpdmVUYWIiLCJnZXRUYWIiLCJsb2NhdGlvbiIsInNob3dUYWIiLCJib3VuZE9uSGFzaENoYW5nZSIsIm9uSGFzaENoYW5nZSIsInVuc2V0QXR0cmlidXRlcyIsIiR0YWJXaXRoSGFzaCIsImNoYW5naW5nSGFzaCIsIiRwcmV2aW91c1RhYiIsImdldEN1cnJlbnRUYWIiLCJ1bmhpZ2hsaWdodFRhYiIsImhpZGVQYW5lbCIsImhpZ2hsaWdodFRhYiIsInNob3dQYW5lbCIsInBhbmVsSWQiLCJnZXRIcmVmIiwiJHBhbmVsIiwiZ2V0UGFuZWwiLCIkbmV3VGFiIiwiJGN1cnJlbnRUYWIiLCJjcmVhdGVIaXN0b3J5RW50cnkiLCJhY3RpdmF0ZVByZXZpb3VzVGFiIiwiYWN0aXZhdGVOZXh0VGFiIiwiY3VycmVudFRhYiIsIm5leHRUYWJMaXN0SXRlbSIsIm5leHRFbGVtZW50U2libGluZyIsIm5leHRUYWIiLCJwcmV2aW91c1RhYkxpc3RJdGVtIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInByZXZpb3VzVGFiIiwidGFiIiwiaW5pdEFsbCIsInNjb3BlIiwiJGFjY29yZGlvbiIsIiRkZXRhaWwiLCIkY2hhcmFjdGVyQ291bnQiLCIkY2hlY2tib3giLCIkbm90aWZpY2F0aW9uQmFubmVyIiwiJHJhZGlvIiwiZGVmaW5lIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyJdLCJzb3VyY2VSb290IjoiIn0=